(()=>{"use strict";var e,_={},d={};function n(e){var a=d[e];if(void 0!==a)return a.exports;var r=d[e]={exports:{}};return _[e].call(r.exports,r,r.exports,n),r.exports}n.m=_,e=[],n.O=(a,r,o,t)=>{if(!r){var c=1/0;for(f=0;f<e.length;f++){for(var[r,o,t]=e[f],s=!0,l=0;l<r.length;l++)(!1&t||c>=t)&&Object.keys(n.O).every(h=>n.O[h](r[l]))?r.splice(l--,1):(s=!1,t<c&&(c=t));if(s){e.splice(f--,1);var u=o();void 0!==u&&(a=u)}}return a}t=t||0;for(var f=e.length;f>0&&e[f-1][2]>t;f--)e[f]=e[f-1];e[f]=[r,o,t]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=o=>0===e[o];var a=(o,t)=>{var l,u,[f,c,s]=t,v=0;if(f.some(b=>0!==e[b])){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(s)var p=s(n)}for(o&&o(t);v<f.length;v++)n.o(e,u=f[v])&&e[u]&&e[u][0](),e[u]=0;return n.O(p)},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[429],{7435:(ie,Ee,de)=>{de(8583)},8583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const y=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(y||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&y)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===w))return;const C=t.state!=p;C&&t._transitionTo(p,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==w&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,p):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,p,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(w,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,p);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const P={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:P,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=P,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=P,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=P,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",p="running",G="canceling",h="unknown",I="microTask",w="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}(typeof window<"u"&&window||typeof self<"u"&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe=typeof window<"u",Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}const Be=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=typeof Y.process<"u"&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let P=Re[d];P||(P=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[P]&&m.removeEventListener(d,We),y&&y.call(m,null),m[P]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[P];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(e,n,a=>function(y,d){const P=i(y,d);return P.cbIdx>=0&&"function"==typeof d[P.cbIdx]?Me(P.name,d[P.cbIdx],P,c):a.apply(y,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch{}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],P=!0===e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),m=y("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=y("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch{}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=y("state"),R=y("value"),_=y("finally"),K=y("parentPromiseValue"),x=y("parentPromiseState"),j=null,p=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const w=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}},oe=y("currentTaskTrace");function z(l,u,s){const f=w();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(b){return f(()=>{z(l,!1,b)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(b){f(()=>{z(l,!1,b)})()}else{l[q]=u;const b=l[R];if(l[R]=s,l[_]===_&&u===p&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const T=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;T&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:T})}for(let T=0;T<b.length;)ee(l,b[T++],b[T++],b[T++],b[T++]);if(0==b.length&&u==G){l[q]=0;let T=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){T=D}P&&(T.throwOriginal=!0),T.rejection=s,T.promise=l,T.zone=n.current,T.task=n.currentTask,d.push(T),i.scheduleMicroTask()}}}return l}const U=y("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch{}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const b=l[q],T=b?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=b);const S=u.run(T,void 0,O&&T!==J&&T!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),p,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let T of u)f++,s.push(t.resolve(T))}catch{return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const b=[];return new t((T,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,T(S))},S=>{b.push(S),f--,0===f&&(g=!0,D(new E(b,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function b(D){s(D)}function T(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(b,T);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,b=new this((S,V)=>{f=S,g=V}),T=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,T--,0===T&&f(O)},F=>{s?(O[V]=s.errorCallback(F),T--,0===T&&f(O)):g(F)})}catch(F){g(F)}T++,D++}return T-=2,0===T&&f(O),b}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=w();u&&u(f(I(s,p)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){var f;let g=null===(f=this.constructor)||void 0===f?void 0:f[Symbol.species];(!g||"function"!=typeof g)&&(g=this.constructor||t);const b=new g(M),T=n.current;return this[q]==j?this[R].push(T,b,u,s):ee(this,T,b,u,s),b}catch(u){return this.then(null,u)}finally(u){var s;let f=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const g=new f(M);g[_]=_;const b=n.current;return this[q]==j?this[R].push(b,g,u,u):ee(this,b,g,u,u),g}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=y("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,b){return new t((D,O)=>{f.call(this,D,O)}).then(g,b)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let ye=!1;if(typeof window<"u")try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",P=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=p=>x.handleEvent(p),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(p){X=p}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const p=Z(X[0],x,_);p&&j.push(p)}else{const p=X.slice();for(let G=0;G<p.length&&(!_||!0!==_[Ke]);G++){const h=Z(p[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let p=0;p<j.length;p++){const G=j[p];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let p=R;for(;p&&!p.hasOwnProperty(c);)p=de(p);if(!p&&R[c]&&(p=R),!p||p[P])return!1;const G=_&&_.eventNameToString,h={},I=p[P]=p[c],w=p[A(a)]=p[a],Q=p[A(y)]=p[y],oe=p[A(d)]=p[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=p[A(_.prepend)]=p[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const b=g&&s.target[g];if(b)for(let T=0;T<b.length;T++)if(b[T]===s){b.splice(T,1),s.isRemoved=!0,0===b.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return w.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return w.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,b,T=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,b);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),T?O:void 0}};return p[c]=u(I,v,t,r,j),z&&(p.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),p[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],b=!!g&&("boolean"==typeof g||g.capture),T=arguments[1];if(!T)return w.apply(this,arguments);if(x&&!x(w,T,s,arguments))return;const D=te[f];let O;D&&(O=D[b?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,T))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return w.apply(this,arguments)},p[y]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],b=Qe(s,G?G(f):f);for(let T=0;T<b.length;T++){const D=b[T];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},p[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let b=0;b<g.length;b++){const D=$e.exec(g[b]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(p[c],I),ue(p[a],w),oe&&ue(p[d],oe),Q&&ue(p[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let y in e){const d=$e.exec(y);let P=d&&d[1];if(P&&(!n||P===n)){const v=e[y];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,P,v){return P&&P.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=P.prototype;try{if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(P.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}catch{}}),y.call(n,d,P,v)},e.attachOriginToPatched(n[o],y)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function P(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete y[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,P);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=y[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete y[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,y,d)=>function(P,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let P=0;P<i.length;P++){const v=i[P],Z=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function P(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,w=I.target;w[a]=!1,w[d]=!1;const Q=w[c];N||(N=w[Ze],B=w[Ne]),Q&&B.call(w,H,Q);const oe=w[c]=()=>{if(w.readyState===w.DONE)if(!I.aborted&&w[a]&&h.state===J){const U=w[n.__symbol__("loadfalse")];if(0!==w.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=w[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===w[a]&&(w[d]=!0)};return N.call(w,H,oe),w[i]||(w[i]=h),p.apply(w,I.args),w[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),p=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return p.apply(h,I);{const w={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,w,q,_);h&&!0===h[d]&&!w.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const w=function Z(h){return h[i]}(h);if(w&&"string"==typeof w.type){if(null==w.cancelFn||w.data&&w.data.aborted)return;w.zone.cancelTask(w)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const P=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(P,d),P})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(y=>{const d=e.PromiseRejectionEvent;if(d){const P=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(P)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=7435)}]);
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{8923:(ie,oe,D)=>{"use strict";var x=D(6895),v=D(1571);class j extends x.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends j{static makeCurrent(){(0,x.HT)(new Q)}onAndCancel(o,s,f){return o.addEventListener(s,f,!1),()=>{o.removeEventListener(s,f,!1)}}dispatchEvent(o,s){o.dispatchEvent(s)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,s){return(s=s||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,s){return"window"===s?window:"document"===s?o:"body"===s?o.body:null}getBaseHref(o){const s=function ue(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==s?null:function Fe(a){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",a);const o=Ee.pathname;return"/"===o.charAt(0)?o:`/${o}`}(s)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return(0,x.Mx)(document.cookie,o)}}let Ee,Y=null;const he=new v.OlP("TRANSITION_ID"),ce=[{provide:v.ip1,useFactory:function ve(a,o,s){return()=>{s.get(v.CZH).donePromise.then(()=>{const f=(0,x.q)(),E=o.querySelectorAll(`style[ng-transition="${a}"]`);for(let N=0;N<E.length;N++)f.remove(E[N])})}},deps:[he,x.K0,v.zs3],multi:!0}];let ye=(()=>{class a{build(){return new XMLHttpRequest}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();const fe=new v.OlP("EventManagerPlugins");let Ne=(()=>{class a{constructor(s,f){this._zone=f,this._eventNameToPlugin=new Map,s.forEach(E=>E.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,f,E){return this._findPluginFor(f).addEventListener(s,f,E)}addGlobalEventListener(s,f,E){return this._findPluginFor(f).addGlobalEventListener(s,f,E)}getZone(){return this._zone}_findPluginFor(s){const f=this._eventNameToPlugin.get(s);if(f)return f;const E=this._plugins;for(let N=0;N<E.length;N++){const J=E[N];if(J.supports(s))return this._eventNameToPlugin.set(s,J),J}throw new Error(`No event manager plugin found for event ${s}`)}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(fe),v.LFG(v.R0b))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();class _e{constructor(o){this._doc=o}addGlobalEventListener(o,s,f){const E=(0,x.q)().getGlobalEventTarget(this._doc,o);if(!E)throw new Error(`Unsupported event target ${E} for event ${s}`);return this.addEventListener(E,s,f)}}let We=(()=>{class a{constructor(){this._stylesSet=new Set}addStyles(s){const f=new Set;s.forEach(E=>{this._stylesSet.has(E)||(this._stylesSet.add(E),f.add(E))}),this.onStylesAdded(f)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})(),Qe=(()=>{class a extends We{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,f,E){s.forEach(N=>{const J=this._doc.createElement("style");J.textContent=N,E.push(f.appendChild(J))})}addHost(s){const f=[];this._addStylesToHost(this._stylesSet,s,f),this._hostNodes.set(s,f)}removeHost(s){const f=this._hostNodes.get(s);f&&f.forEach(je),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((f,E)=>{this._addStylesToHost(s,E,f)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach(je))}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(x.K0))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();function je(a){(0,x.q)().remove(a)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Te=/%COMP%/g;function be(a,o,s){for(let f=0;f<o.length;f++){let E=o[f];Array.isArray(E)?be(a,E,s):(E=E.replace(Te,a),s.push(E))}return s}function Ae(a){return o=>{if("__ngUnwrap__"===o)return a;!1===a(o)&&(o.preventDefault(),o.returnValue=!1)}}let Pe=(()=>{class a{constructor(s,f,E){this.eventManager=s,this.sharedStylesHost=f,this.appId=E,this.rendererByCompId=new Map,this.defaultRenderer=new ot(s)}createRenderer(s,f){if(!s||!f)return this.defaultRenderer;switch(f.encapsulation){case v.ifc.Emulated:{let E=this.rendererByCompId.get(f.id);return E||(E=new ur(this.eventManager,this.sharedStylesHost,f,this.appId),this.rendererByCompId.set(f.id,E)),E.applyToHost(s),E}case 1:case v.ifc.ShadowDom:return new Ht(this.eventManager,this.sharedStylesHost,s,f);default:if(!this.rendererByCompId.has(f.id)){const E=be(f.id,f.styles,[]);this.sharedStylesHost.addStyles(E),this.rendererByCompId.set(f.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(Ne),v.LFG(Qe),v.LFG(v.AFp))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();class ot{constructor(o){this.eventManager=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(o,s){return s?document.createElementNS(at[s]||s,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,s){(rn(o)?o.content:o).appendChild(s)}insertBefore(o,s,f){o&&(rn(o)?o.content:o).insertBefore(s,f)}removeChild(o,s){o&&o.removeChild(s)}selectRootElement(o,s){let f="string"==typeof o?document.querySelector(o):o;if(!f)throw new Error(`The selector "${o}" did not match any elements`);return s||(f.textContent=""),f}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,s,f,E){if(E){s=E+":"+s;const N=at[E];N?o.setAttributeNS(N,s,f):o.setAttribute(s,f)}else o.setAttribute(s,f)}removeAttribute(o,s,f){if(f){const E=at[f];E?o.removeAttributeNS(E,s):o.removeAttribute(`${f}:${s}`)}else o.removeAttribute(s)}addClass(o,s){o.classList.add(s)}removeClass(o,s){o.classList.remove(s)}setStyle(o,s,f,E){E&(v.JOm.DashCase|v.JOm.Important)?o.style.setProperty(s,f,E&v.JOm.Important?"important":""):o.style[s]=f}removeStyle(o,s,f){f&v.JOm.DashCase?o.style.removeProperty(s):o.style[s]=""}setProperty(o,s,f){o[s]=f}setValue(o,s){o.nodeValue=s}listen(o,s,f){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,s,Ae(f)):this.eventManager.addEventListener(o,s,Ae(f))}}function rn(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class ur extends ot{constructor(o,s,f,E){super(o),this.component=f;const N=be(E+"-"+f.id,f.styles,[]);s.addStyles(N),this.contentAttr=function ze(a){return"_ngcontent-%COMP%".replace(Te,a)}(E+"-"+f.id),this.hostAttr=function Ze(a){return"_nghost-%COMP%".replace(Te,a)}(E+"-"+f.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,s){const f=super.createElement(o,s);return super.setAttribute(f,this.contentAttr,""),f}}class Ht extends ot{constructor(o,s,f,E){super(o),this.sharedStylesHost=s,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const N=be(E.id,E.styles,[]);for(let J=0;J<N.length;J++){const te=document.createElement("style");te.textContent=N[J],this.shadowRoot.appendChild(te)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,s){return super.appendChild(this.nodeOrShadowRoot(o),s)}insertBefore(o,s,f){return super.insertBefore(this.nodeOrShadowRoot(o),s,f)}removeChild(o,s){return super.removeChild(this.nodeOrShadowRoot(o),s)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let Qn=(()=>{class a extends _e{constructor(s){super(s)}supports(s){return!0}addEventListener(s,f,E){return s.addEventListener(f,E,!1),()=>this.removeEventListener(s,f,E)}removeEventListener(s,f,E){return s.removeEventListener(f,E)}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(x.K0))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();const Kr=["alt","control","meta","shift"],Gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let Gr=(()=>{class a extends _e{constructor(s){super(s)}supports(s){return null!=a.parseEventName(s)}addEventListener(s,f,E){const N=a.parseEventName(f),J=a.eventCallback(N.fullKey,E,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.q)().onAndCancel(s,N.domEventName,J))}static parseEventName(s){const f=s.toLowerCase().split("."),E=f.shift();if(0===f.length||"keydown"!==E&&"keyup"!==E)return null;const N=a._normalizeKey(f.pop());let J="",te=f.indexOf("code");if(te>-1&&(f.splice(te,1),J="code."),Kr.forEach(Xe=>{const dt=f.indexOf(Xe);dt>-1&&(f.splice(dt,1),J+=Xe+".")}),J+=N,0!=f.length||0===N.length)return null;const Ce={};return Ce.domEventName=E,Ce.fullKey=J,Ce}static matchEventFullKeyCode(s,f){let E=Gt[s.key]||s.key,N="";return f.indexOf("code.")>-1&&(E=s.code,N="code."),!(null==E||!E)&&(E=E.toLowerCase()," "===E?E="space":"."===E&&(E="dot"),Kr.forEach(J=>{J!==E&&(0,Ot[J])(s)&&(N+=J+".")}),N+=E,N===f)}static eventCallback(s,f,E){return N=>{a.matchEventFullKeyCode(N,s)&&E.runGuarded(()=>f(N))}}static _normalizeKey(s){return"esc"===s?"escape":s}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(x.K0))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();const ws=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:x.bD},{provide:v.g9A,useValue:function Zr(){Q.makeCurrent()},multi:!0},{provide:x.K0,useFactory:function Xr(){return(0,v.RDi)(document),document},deps:[]}]),yi=new v.OlP(""),On=[{provide:v.rWj,useClass:class G{addToWindow(o){v.dqk.getAngularTestability=(f,E=!0)=>{const N=o.findTestabilityInTree(f,E);if(null==N)throw new Error("Could not find testability for element.");return N},v.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(f=>{const E=v.dqk.getAllAngularTestabilities();let N=E.length,J=!1;const te=function(Ce){J=J||Ce,N--,0==N&&f(J)};E.forEach(function(Ce){Ce.whenStable(te)})})}findTestabilityInTree(o,s,f){return null==s?null:o.getTestability(s)??(f?(0,x.q)().isShadowRoot(s)?this.findTestabilityInTree(o,s.host,!0):this.findTestabilityInTree(o,s.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Qr=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Oi(){return new v.qLn},deps:[]},{provide:fe,useClass:Qn,multi:!0,deps:[x.K0,v.R0b,v.Lbi]},{provide:fe,useClass:Gr,multi:!0,deps:[x.K0]},{provide:Pe,useClass:Pe,deps:[Ne,Qe,v.AFp]},{provide:v.FYo,useExisting:Pe},{provide:We,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[x.K0]},{provide:Ne,useClass:Ne,deps:[fe,v.R0b]},{provide:x.JF,useClass:ye,deps:[]},[]];let Ds=(()=>{class a{constructor(s){}static withServerTransition(s){return{ngModule:a,providers:[{provide:v.AFp,useValue:s.appId},{provide:he,useExisting:v.AFp},ce]}}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(yi,12))},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({providers:[...Qr,...On],imports:[x.ez,v.hGG]}),a})(),Be=(()=>{class a{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(x.K0))},a.\u0275prov=v.Yz7({token:a,factory:function(s){let f=null;return f=s?new s:function _i(){return new Be((0,v.LFG)(x.K0))}(),f},providedIn:"root"}),a})();typeof window<"u"&&window;var wn=D(529),jn=D(7579),cr=D(6063);class vr extends jn.x{constructor(o=1/0,s=1/0,f=cr.l){super(),this._bufferSize=o,this._windowTime=s,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,o),this._windowTime=Math.max(1,s)}next(o){const{isStopped:s,_buffer:f,_infiniteTimeWindow:E,_timestampProvider:N,_windowTime:J}=this;s||(f.push(o),!E&&f.push(N.now()+J)),this._trimBuffer(),super.next(o)}_subscribe(o){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(o),{_infiniteTimeWindow:f,_buffer:E}=this,N=E.slice();for(let J=0;J<N.length&&!o.closed;J+=f?1:2)o.next(N[J]);return this._checkFinalizedStatuses(o),s}_trimBuffer(){const{_bufferSize:o,_timestampProvider:s,_buffer:f,_infiniteTimeWindow:E}=this,N=(E?1:2)*o;if(o<1/0&&N<f.length&&f.splice(0,f.length-N),!E){const J=s.now();let te=0;for(let Ce=1;Ce<f.length&&f[Ce]<=J;Ce+=2)te=Ce;te&&f.splice(0,te+1)}}}var rt=D(6451),yt=D(3900),gt=D(4004);const kn={schedule(a,o){const s=setTimeout(a,o);return()=>clearTimeout(s)},scheduleBeforeRender(a){if(typeof window>"u")return kn.schedule(a,0);if(typeof window.requestAnimationFrame>"u")return kn.schedule(a,16);const o=window.requestAnimationFrame(a);return()=>window.cancelAnimationFrame(o)}};let Cr;function ii(a,o,s){let f=s;return function Ln(a){return!!a&&a.nodeType===Node.ELEMENT_NODE}(a)&&o.some((E,N)=>!("*"===E||!function ri(a,o){if(!Cr){const s=Element.prototype;Cr=s.matches||s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}return a.nodeType===Node.ELEMENT_NODE&&Cr.call(a,o)}(a,E)||(f=N,0))),f}class ki{constructor(o,s){this.componentFactory=s.get(v._Vd).resolveComponentFactory(o)}create(o){return new wi(this.componentFactory,o)}}class wi{constructor(o,s){this.componentFactory=o,this.injector=s,this.eventEmitters=new vr(1),this.events=this.eventEmitters.pipe((0,yt.w)(f=>(0,rt.T)(...f))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:f})=>f)),this.ngZone=this.injector.get(v.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(o){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(o)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=kn.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(o){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(o):this.componentRef.instance[o])}setInputValue(o,s){this.runInZone(()=>{null!==this.componentRef?function Lt(a,o){return a===o||a!=a&&o!=o}(s,this.getInputValue(o))&&(void 0!==s||!this.unchangedInputs.has(o))||(this.recordInputChange(o,s),this.unchangedInputs.delete(o),this.hasInputChanges=!0,this.componentRef.instance[o]=s,this.scheduleDetectChanges()):this.initialInputValues.set(o,s)})}initializeComponent(o){const s=v.zs3.create({providers:[],parent:this.injector}),f=function ns(a,o){const s=a.childNodes,f=o.map(()=>[]);let E=-1;o.some((N,J)=>"*"===N&&(E=J,!0));for(let N=0,J=s.length;N<J;++N){const te=s[N],Ce=ii(te,o,E);-1!==Ce&&f[Ce].push(te)}return f}(o,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(s,f,o),this.viewChangeDetectorRef=this.componentRef.injector.get(v.sBO),this.implementsOnChanges=function ni(a){return"function"==typeof a}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(v.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:o})=>{this.initialInputValues.has(o)&&this.setInputValue(o,this.initialInputValues.get(o))}),this.initialInputValues.clear()}initializeOutputs(o){const s=this.componentFactory.outputs.map(({propName:f,templateName:E})=>o.instance[f].pipe((0,gt.U)(J=>({name:E,value:J}))));this.eventEmitters.next(s)}callNgOnChanges(o){if(!this.implementsOnChanges||null===this.inputChanges)return;const s=this.inputChanges;this.inputChanges=null,o.instance.ngOnChanges(s)}markViewForCheck(o){this.hasInputChanges&&(this.hasInputChanges=!1,o.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=kn.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(o,s){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const f=this.inputChanges[o];if(f)return void(f.currentValue=s);const E=this.unchangedInputs.has(o),N=E?void 0:this.getInputValue(o);this.inputChanges[o]=new v.WD2(N,s,E)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(o){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(o):o()}}class Sr extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var Bt=D(2076),Li=D(9751),Bi=(D(4742),D(8421)),Bn=D(3269),Tr=D(5403);D(3268),D(1810);let ru=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({}),a})(),St=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({imports:[ru]}),a})(),Zn=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({imports:[St]}),a})();var En=D(1214),pt=D(9646);class Pn extends jn.x{constructor(o){super(),this._value=o}get value(){return this.getValue()}_subscribe(o){const s=super._subscribe(o);return!s.closed&&o.next(this._value),s}getValue(){const{hasError:o,thrownError:s,_value:f}=this;if(o)throw s;return this._throwIfClosed(),f}next(o){super.next(this._value=o)}}var Ju=D(6805),ia=D(9841),Vt=D(7272);function Un(a){return new Li.y(o=>{(0,Bi.Xf)(a()).subscribe(o)})}var en=D(9635),dr=D(2843),Ai=D(515),Zu=D(727),Ls=D(4482);function Xu(){return(0,Ls.e)((a,o)=>{let s=null;a._refCount++;const f=(0,Tr.x)(o,void 0,void 0,void 0,()=>{if(!a||a._refCount<=0||0<--a._refCount)return void(s=null);const E=a._connection,N=s;s=null,E&&(!N||E===N)&&E.unsubscribe(),o.unsubscribe()});a.subscribe(f),f.closed||(s=a.connect())})}class zh extends Li.y{constructor(o,s){super(),this.source=o,this.subjectFactory=s,this._subject=null,this._refCount=0,this._connection=null,(0,Ls.A)(o)&&(this.lift=o.lift)}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:o}=this;this._subject=this._connection=null,o?.unsubscribe()}connect(){let o=this._connection;if(!o){o=this._connection=new Zu.w0;const s=this.getSubject();o.add(this.source.subscribe((0,Tr.x)(s,void 0,()=>{this._teardown(),s.complete()},f=>{this._teardown(),s.error(f)},()=>this._teardown()))),o.closed&&(this._connection=null,o=Zu.w0.EMPTY)}return o}refCount(){return Xu()(this)}}var Qu=D(5698),rr=D(9300),Ir=D(5577),Vr=D(590),_o=D(4351),fr=D(8505),Bs=D(262);function qh(a,o,s,f,E){return(N,J)=>{let te=s,Ce=o,Xe=0;N.subscribe((0,Tr.x)(J,dt=>{const st=Xe++;Ce=te?a(Ce,dt,st):(te=!0,dt),f&&J.next(Ce)},E&&(()=>{te&&J.next(Ce),J.complete()})))}}function Sc(a,o){return(0,Ls.e)(qh(a,o,arguments.length>=2,!0))}function el(a){return a<=0?()=>Ai.E:(0,Ls.e)((o,s)=>{let f=[];o.subscribe((0,Tr.x)(s,E=>{f.push(E),a<f.length&&f.shift()},()=>{for(const E of f)s.next(E);s.complete()},void 0,()=>{f=null}))})}var Yh=D(8068),tl=D(6590),nl=D(4671);function sa(a,o){const s=arguments.length>=2;return f=>f.pipe(a?(0,rr.h)((E,N)=>a(E,N,f)):nl.y,el(1),s?(0,tl.d)(o):(0,Yh.T)(()=>new Ju.K))}var oa=D(9718);function aa(a){return(0,Ls.e)((o,s)=>{try{o.subscribe(s)}finally{s.add(a)}})}var Hs=D(8189);const Kt="primary",ua=Symbol("RouteTitle");class Jh{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const s=this.params[o];return Array.isArray(s)?s[0]:s}return null}getAll(o){if(this.has(o)){const s=this.params[o];return Array.isArray(s)?s:[s]}return[]}get keys(){return Object.keys(this.params)}}function Vs(a){return new Jh(a)}function la(a,o,s){const f=s.path.split("/");if(f.length>a.length||"full"===s.pathMatch&&(o.hasChildren()||f.length<a.length))return null;const E={};for(let N=0;N<f.length;N++){const J=f[N],te=a[N];if(J.startsWith(":"))E[J.substring(1)]=te;else if(J!==te.path)return null}return{consumed:a.slice(0,f.length),posParams:E}}function Ii(a,o){const s=a?Object.keys(a):void 0,f=o?Object.keys(o):void 0;if(!s||!f||s.length!=f.length)return!1;let E;for(let N=0;N<s.length;N++)if(E=s[N],!$n(a[E],o[E]))return!1;return!0}function $n(a,o){if(Array.isArray(a)&&Array.isArray(o)){if(a.length!==o.length)return!1;const s=[...a].sort(),f=[...o].sort();return s.every((E,N)=>f[N]===E)}return a===o}function rl(a){return Array.prototype.concat.apply([],a)}function il(a){return a.length>0?a[a.length-1]:null}function Kn(a,o){for(const s in a)a.hasOwnProperty(s)&&o(a[s],s)}function cs(a){return(0,v.CqO)(a)?a:(0,v.QGY)(a)?(0,Bt.D)(Promise.resolve(a)):(0,pt.of)(a)}const ol={exact:function xc(a,o,s){if(!Us(a.segments,o.segments)||!da(a.segments,o.segments,s)||a.numberOfChildren!==o.numberOfChildren)return!1;for(const f in o.children)if(!a.children[f]||!xc(a.children[f],o.children[f],s))return!1;return!0},subset:Do},wo={exact:function ca(a,o){return Ii(a,o)},subset:function Ac(a,o){return Object.keys(o).length<=Object.keys(a).length&&Object.keys(o).every(s=>$n(a[s],o[s]))},ignored:()=>!0};function al(a,o,s){return ol[s.paths](a.root,o.root,s.matrixParams)&&wo[s.queryParams](a.queryParams,o.queryParams)&&!("exact"===s.fragment&&a.fragment!==o.fragment)}function Do(a,o,s){return ha(a,o,o.segments,s)}function ha(a,o,s,f){if(a.segments.length>s.length){const E=a.segments.slice(0,s.length);return!(!Us(E,s)||o.hasChildren()||!da(E,s,f))}if(a.segments.length===s.length){if(!Us(a.segments,s)||!da(a.segments,s,f))return!1;for(const E in o.children)if(!a.children[E]||!Do(a.children[E],o.children[E],f))return!1;return!0}{const E=s.slice(0,a.segments.length),N=s.slice(a.segments.length);return!!(Us(a.segments,E)&&da(a.segments,E,f)&&a.children[Kt])&&ha(a.children[Kt],o,N,f)}}function da(a,o,s){return o.every((f,E)=>wo[s](a[E].parameters,f.parameters))}class js{constructor(o,s,f){this.root=o,this.queryParams=s,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vs(this.queryParams)),this._queryParamMap}toString(){return Np.serialize(this)}}class Wt{constructor(o,s){this.segments=o,this.children=s,this.parent=null,Kn(s,(f,E)=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iu(this)}}class Fi{constructor(o,s){this.path=o,this.parameters=s}get parameterMap(){return this._parameterMap||(this._parameterMap=Vs(this.parameters)),this._parameterMap}toString(){return hl(this)}}function Us(a,o){return a.length===o.length&&a.every((s,f)=>s.path===o[f].path)}let ul=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=v.Yz7({token:a,factory:function(){return new ll},providedIn:"root"}),a})();class ll{parse(o){const s=new td(o);return new js(s.parseRootSegment(),s.parseQueryParams(),s.parseFragment())}serialize(o){const s=`/${pa(o.root,!0)}`,f=function dl(a){const o=Object.keys(a).map(s=>{const f=a[s];return Array.isArray(f)?f.map(E=>`${$s(s)}=${$s(E)}`).join("&"):`${$s(s)}=${$s(f)}`}).filter(s=>!!s);return o.length?`?${o.join("&")}`:""}(o.queryParams);return`${s}${f}${"string"==typeof o.fragment?`#${function Fc(a){return encodeURI(a)}(o.fragment)}`:""}`}}const Np=new ll;function iu(a){return a.segments.map(o=>hl(o)).join("/")}function pa(a,o){if(!a.hasChildren())return iu(a);if(o){const s=a.children[Kt]?pa(a.children[Kt],!1):"",f=[];return Kn(a.children,(E,N)=>{N!==Kt&&f.push(`${N}:${pa(E,!1)}`)}),f.length>0?`${s}(${f.join("//")})`:s}{const s=function Op(a,o){let s=[];return Kn(a.children,(f,E)=>{E===Kt&&(s=s.concat(o(f,E)))}),Kn(a.children,(f,E)=>{E!==Kt&&(s=s.concat(o(f,E)))}),s}(a,(f,E)=>E===Kt?[pa(a.children[Kt],!1)]:[`${E}:${pa(f,!1)}`]);return 1===Object.keys(a.children).length&&null!=a.children[Kt]?`${iu(a)}/${s[0]}`:`${iu(a)}/(${s.join("//")})`}}function Ic(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $s(a){return Ic(a).replace(/%3B/gi,";")}function cl(a){return Ic(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ga(a){return decodeURIComponent(a)}function Xh(a){return ga(a.replace(/\+/g,"%20"))}function hl(a){return`${cl(a.path)}${function kp(a){return Object.keys(a).map(o=>`;${cl(o)}=${cl(a[o])}`).join("")}(a.parameters)}`}const Qh=/^[^\/()?;=#]+/;function ma(a){const o=a.match(Qh);return o?o[0]:""}const su=/^[^=?&#]+/,Co=/^[^&#]+/;class td{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let s={};this.peekStartsWith("/(")&&(this.capture("/"),s=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(o.length>0||Object.keys(s).length>0)&&(f[Kt]=new Wt(o,s)),f}parseSegment(){const o=ma(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(o),new Fi(ga(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const s=ma(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const E=ma(this.remaining);E&&(f=E,this.capture(f))}o[ga(s)]=ga(f)}parseQueryParam(o){const s=function fl(a){const o=a.match(su);return o?o[0]:""}(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const J=function ed(a){const o=a.match(Co);return o?o[0]:""}(this.remaining);J&&(f=J,this.capture(f))}const E=Xh(s),N=Xh(f);if(o.hasOwnProperty(E)){let J=o[E];Array.isArray(J)||(J=[J],o[E]=J),J.push(N)}else o[E]=N}parseParens(o){const s={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=ma(this.remaining),E=this.remaining[f.length];if("/"!==E&&")"!==E&&";"!==E)throw new v.vHH(4010,!1);let N;f.indexOf(":")>-1?(N=f.slice(0,f.indexOf(":")),this.capture(N),this.capture(":")):o&&(N=Kt);const J=this.parseChildren();s[N]=1===Object.keys(J).length?J[Kt]:new Wt([],J),this.consumeOptional("//")}return s}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new v.vHH(4011,!1)}}function Tc(a){return a.segments.length>0?new Wt([],{[Kt]:a}):a}function Ks(a){const o={};for(const f of Object.keys(a.children)){const N=Ks(a.children[f]);(N.segments.length>0||N.hasChildren())&&(o[f]=N)}return function pl(a){if(1===a.numberOfChildren&&a.children[Kt]){const o=a.children[Kt];return new Wt(a.segments.concat(o.segments),o.children)}return a}(new Wt(a.segments,o))}function hs(a){return a instanceof js}function id(a,o,s,f,E){if(0===s.length)return So(o.root,o.root,o.root,f,E);const N=function Pc(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new bo(!0,0,a);let o=0,s=!1;const f=a.reduce((E,N,J)=>{if("object"==typeof N&&null!=N){if(N.outlets){const te={};return Kn(N.outlets,(Ce,Xe)=>{te[Xe]="string"==typeof Ce?Ce.split("/"):Ce}),[...E,{outlets:te}]}if(N.segmentPath)return[...E,N.segmentPath]}return"string"!=typeof N?[...E,N]:0===J?(N.split("/").forEach((te,Ce)=>{0==Ce&&"."===te||(0==Ce&&""===te?s=!0:".."===te?o++:""!=te&&E.push(te))}),E):[...E,N]},[]);return new bo(s,o,f)}(s);return N.toRoot()?So(o.root,o.root,new Wt([],{}),f,E):function J(Ce){const Xe=function Bp(a,o,s,f){if(a.isAbsolute)return new _a(o.root,!0,0);if(-1===f)return new _a(s,s===o.root,0);return function sd(a,o,s){let f=a,E=o,N=s;for(;N>E;){if(N-=E,f=f.parent,!f)throw new v.vHH(4005,!1);E=f.segments.length}return new _a(f,!1,E-N)}(s,f+(va(a.commands[0])?0:1),a.numberOfDoubleDots)}(N,o,a.snapshot?._urlSegment,Ce),dt=Xe.processChildren?Ea(Xe.segmentGroup,Xe.index,N.commands):au(Xe.segmentGroup,Xe.index,N.commands);return So(o.root,Xe.segmentGroup,dt,f,E)}(a.snapshot?._lastPathIndex)}function va(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function ya(a){return"object"==typeof a&&null!=a&&a.outlets}function So(a,o,s,f,E){let J,N={};f&&Kn(f,(Ce,Xe)=>{N[Xe]=Array.isArray(Ce)?Ce.map(dt=>`${dt}`):`${Ce}`}),J=a===o?s:zi(a,o,s);const te=Tc(Ks(J));return new js(te,N,E)}function zi(a,o,s){const f={};return Kn(a.children,(E,N)=>{f[N]=E===o?s:zi(E,o,s)}),new Wt(a.segments,f)}class bo{constructor(o,s,f){if(this.isAbsolute=o,this.numberOfDoubleDots=s,this.commands=f,o&&f.length>0&&va(f[0]))throw new v.vHH(4003,!1);const E=f.find(ya);if(E&&E!==il(f))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _a{constructor(o,s,f){this.segmentGroup=o,this.processChildren=s,this.index=f}}function au(a,o,s){if(a||(a=new Wt([],{})),0===a.segments.length&&a.hasChildren())return Ea(a,o,s);const f=function od(a,o,s){let f=0,E=o;const N={match:!1,pathIndex:0,commandIndex:0};for(;E<a.segments.length;){if(f>=s.length)return N;const J=a.segments[E],te=s[f];if(ya(te))break;const Ce=`${te}`,Xe=f<s.length-1?s[f+1]:null;if(E>0&&void 0===Ce)break;if(Ce&&Xe&&"object"==typeof Xe&&void 0===Xe.outlets){if(!ml(Ce,Xe,J))return N;f+=2}else{if(!ml(Ce,{},J))return N;f++}E++}return{match:!0,pathIndex:E,commandIndex:f}}(a,o,s),E=s.slice(f.commandIndex);if(f.match&&f.pathIndex<a.segments.length){const N=new Wt(a.segments.slice(0,f.pathIndex),{});return N.children[Kt]=new Wt(a.segments.slice(f.pathIndex),a.children),Ea(N,0,E)}return f.match&&0===E.length?new Wt(a.segments,{}):f.match&&!a.hasChildren()?gl(a,o,s):f.match?Ea(a,0,E):gl(a,o,s)}function Ea(a,o,s){if(0===s.length)return new Wt(a.segments,{});{const f=function Hp(a){return ya(a[0])?a[0].outlets:{[Kt]:a}}(s),E={};return Kn(f,(N,J)=>{"string"==typeof N&&(N=[N]),null!==N&&(E[J]=au(a.children[J],o,N))}),Kn(a.children,(N,J)=>{void 0===f[J]&&(E[J]=N)}),new Wt(a.segments,E)}}function gl(a,o,s){const f=a.segments.slice(0,o);let E=0;for(;E<s.length;){const N=s[E];if(ya(N)){const Ce=ad(N.outlets);return new Wt(f,Ce)}if(0===E&&va(s[0])){f.push(new Fi(a.segments[o].path,wa(s[0]))),E++;continue}const J=ya(N)?N.outlets[Kt]:`${N}`,te=E<s.length-1?s[E+1]:null;J&&te&&va(te)?(f.push(new Fi(J,wa(te))),E+=2):(f.push(new Fi(J,{})),E++)}return new Wt(f,{})}function ad(a){const o={};return Kn(a,(s,f)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[f]=gl(new Wt([],{}),0,s))}),o}function wa(a){const o={};return Kn(a,(s,f)=>o[f]=`${s}`),o}function ml(a,o,s){return a==s.path&&Ii(o,s.parameters)}class ar{constructor(o,s){this.id=o,this.url=s}}class Gs extends ar{constructor(o,s,f="imperative",E=null){super(o,s),this.type=0,this.navigationTrigger=f,this.restoredState=E}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends ar{constructor(o,s,f){super(o,s),this.urlAfterRedirects=f,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Da extends ar{constructor(o,s,f,E){super(o,s),this.reason=f,this.code=E,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vl extends ar{constructor(o,s,f,E){super(o,s),this.error=f,this.target=E,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vp extends ar{constructor(o,s,f,E){super(o,s),this.urlAfterRedirects=f,this.state=E,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jp extends ar{constructor(o,s,f,E){super(o,s),this.urlAfterRedirects=f,this.state=E,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Up extends ar{constructor(o,s,f,E,N){super(o,s),this.urlAfterRedirects=f,this.state=E,this.shouldActivate=N,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yl extends ar{constructor(o,s,f,E){super(o,s),this.urlAfterRedirects=f,this.state=E,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _l extends ar{constructor(o,s,f,E){super(o,s),this.urlAfterRedirects=f,this.state=E,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El{constructor(o){this.route=o,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $p{constructor(o){this.route=o,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kp{constructor(o){this.snapshot=o,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(o){this.snapshot=o,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ud{constructor(o){this.snapshot=o,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ld{constructor(o){this.snapshot=o,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(o,s,f){this.routerEvent=o,this.position=s,this.anchor=f,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wl{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const s=this.pathFromRoot(o);return s.length>1?s[s.length-2]:null}children(o){const s=xo(o,this._root);return s?s.children.map(f=>f.value):[]}firstChild(o){const s=xo(o,this._root);return s&&s.children.length>0?s.children[0].value:null}siblings(o){const s=Dl(o,this._root);return s.length<2?[]:s[s.length-2].children.map(E=>E.value).filter(E=>E!==o)}pathFromRoot(o){return Dl(o,this._root).map(s=>s.value)}}function xo(a,o){if(a===o.value)return o;for(const s of o.children){const f=xo(a,s);if(f)return f}return null}function Dl(a,o){if(a===o.value)return[o];for(const s of o.children){const f=Dl(a,s);if(f.length)return f.unshift(o),f}return[]}class pi{constructor(o,s){this.value=o,this.children=s}toString(){return`TreeNode(${this.value})`}}function Ao(a){const o={};return a&&a.children.forEach(s=>o[s.value.outlet]=s),o}class Gn extends wl{constructor(o,s){super(o),this.snapshot=s,Sl(this,o)}toString(){return this.snapshot.toString()}}function Nc(a,o){const s=function hd(a,o){const J=new uu([],{},{},"",{},Kt,o,null,a.root,-1,{});return new kc("",new pi(J,[]))}(a,o),f=new Pn([new Fi("",{})]),E=new Pn({}),N=new Pn({}),J=new Pn({}),te=new Pn(""),Ce=new qi(f,E,J,te,N,Kt,o,s.root);return Ce.snapshot=s.root,new Gn(new pi(Ce,[]),s)}class qi{constructor(o,s,f,E,N,J,te,Ce){this.url=o,this.params=s,this.queryParams=f,this.fragment=E,this.data=N,this.outlet=J,this.component=te,this.title=this.data?.pipe((0,gt.U)(Xe=>Xe[ua]))??(0,pt.of)(void 0),this._futureSnapshot=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(o=>Vs(o)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(o=>Vs(o)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cl(a,o="emptyOnly"){const s=a.pathFromRoot;let f=0;if("always"!==o)for(f=s.length-1;f>=1;){const E=s[f],N=s[f-1];if(E.routeConfig&&""===E.routeConfig.path)f--;else{if(N.component)break;f--}}return function dd(a){return a.reduce((o,s)=>({params:{...o.params,...s.params},data:{...o.data,...s.data},resolve:{...s.data,...o.resolve,...s.routeConfig?.data,...s._resolvedData}}),{params:{},data:{},resolve:{}})}(s.slice(f))}class uu{constructor(o,s,f,E,N,J,te,Ce,Xe,dt,st,qt){this.url=o,this.params=s,this.queryParams=f,this.fragment=E,this.data=N,this.outlet=J,this.component=te,this.title=this.data?.[ua],this.routeConfig=Ce,this._urlSegment=Xe,this._lastPathIndex=dt,this._correctedLastPathIndex=qt??dt,this._resolve=st}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kc extends wl{constructor(o,s){super(s),this.url=o,Sl(this,s)}toString(){return Lc(this._root)}}function Sl(a,o){o.value._routerState=a,o.children.forEach(s=>Sl(a,s))}function Lc(a){const o=a.children.length>0?` { ${a.children.map(Lc).join(", ")} } `:"";return`${a.value}${o}`}function Bc(a){if(a.snapshot){const o=a.snapshot,s=a._futureSnapshot;a.snapshot=s,Ii(o.queryParams,s.queryParams)||a.queryParams.next(s.queryParams),o.fragment!==s.fragment&&a.fragment.next(s.fragment),Ii(o.params,s.params)||a.params.next(s.params),function Eo(a,o){if(a.length!==o.length)return!1;for(let s=0;s<a.length;++s)if(!Ii(a[s],o[s]))return!1;return!0}(o.url,s.url)||a.url.next(s.url),Ii(o.data,s.data)||a.data.next(s.data)}else a.snapshot=a._futureSnapshot,a.data.next(a._futureSnapshot.data)}function Hc(a,o){const s=Ii(a.params,o.params)&&function fa(a,o){return Us(a,o)&&a.every((s,f)=>Ii(s.parameters,o[f].parameters))}(a.url,o.url);return s&&!(!a.parent!=!o.parent)&&(!a.parent||Hc(a.parent,o.parent))}function Ws(a,o,s){if(s&&a.shouldReuseRoute(o.value,s.value.snapshot)){const f=s.value;f._futureSnapshot=o.value;const E=function Vc(a,o,s){return o.children.map(f=>{for(const E of s.children)if(a.shouldReuseRoute(f.value,E.value.snapshot))return Ws(a,f,E);return Ws(a,f)})}(a,o,s);return new pi(f,E)}{if(a.shouldAttach(o.value)){const N=a.retrieve(o.value);if(null!==N){const J=N.route;return J.value._futureSnapshot=o.value,J.children=o.children.map(te=>Ws(a,te)),J}}const f=function jc(a){return new qi(new Pn(a.url),new Pn(a.params),new Pn(a.queryParams),new Pn(a.fragment),new Pn(a.data),a.outlet,a.component,a)}(o.value),E=o.children.map(N=>Ws(a,N));return new pi(f,E)}}const lu="ngNavigationCancelingError";function Uc(a,o){const{redirectTo:s,navigationBehaviorOptions:f}=hs(o)?{redirectTo:o,navigationBehaviorOptions:void 0}:o,E=bl(!1,0,o);return E.url=s,E.navigationBehaviorOptions=f,E}function bl(a,o,s){const f=new Error("NavigationCancelingError: "+(a||""));return f[lu]=!0,f.cancellationCode=o,s&&(f.url=s),f}function xl(a){return cu(a)&&hs(a.url)}function cu(a){return a&&a[lu]}class Gp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sa,this.attachRef=null}}let Sa=(()=>{class a{constructor(){this.contexts=new Map}onChildOutletCreated(s,f){const E=this.getOrCreateContext(s);E.outlet=f,this.contexts.set(s,E)}onChildOutletDestroyed(s){const f=this.getContext(s);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let f=this.getContext(s);return f||(f=new Gp,this.contexts.set(s,f)),f}getContext(s){return this.contexts.get(s)||null}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Io=!1;let hu=(()=>{class a{constructor(s,f,E,N,J){this.parentContexts=s,this.location=f,this.changeDetector=N,this.environmentInjector=J,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=E||Kt,s.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const s=this.parentContexts.getContext(this.name);s&&s.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,Io);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,Io);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,Io);this.location.detach();const s=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(s.instance),s}attach(s,f){this.activated=s,this._activatedRoute=f,this.location.insert(s.hostView),this.attachEvents.emit(s.instance)}deactivate(){if(this.activated){const s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,f){if(this.isActivated)throw new v.vHH(4013,Io);this._activatedRoute=s;const E=this.location,J=s._futureSnapshot.component,te=this.parentContexts.getOrCreateContext(this.name).children,Ce=new $c(s,te,E.injector);if(f&&function zs(a){return!!a.resolveComponentFactory}(f)){const Xe=f.resolveComponentFactory(J);this.activated=E.createComponent(Xe,E.length,Ce)}else this.activated=E.createComponent(J,{index:E.length,injector:Ce,environmentInjector:f??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return a.\u0275fac=function(s){return new(s||a)(v.Y36(Sa),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},a.\u0275dir=v.lG2({type:a,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),a})();class $c{constructor(o,s,f){this.route=o,this.childContexts=s,this.parent=f}get(o,s){return o===qi?this.route:o===Sa?this.childContexts:this.parent.get(o,s)}}let Al=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=v.Xpm({type:a,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(s,f){1&s&&v._UZ(0,"router-outlet")},dependencies:[hu],encapsulation:2}),a})();function du(a,o){return a.providers&&!a._injector&&(a._injector=(0,v.MMx)(a.providers,o,`Route: ${a.path}`)),a._injector??o}function Ml(a){const o=a.children&&a.children.map(Ml),s=o?{...a,children:o}:{...a};return!s.component&&!s.loadComponent&&(o||s.loadChildren)&&s.outlet&&s.outlet!==Kt&&(s.component=Al),s}function jr(a){return a.outlet||Kt}function qs(a,o){const s=a.filter(f=>jr(f)===o);return s.push(...a.filter(f=>jr(f)!==o)),s}function ba(a){if(!a)return null;if(a.routeConfig?._injector)return a.routeConfig._injector;for(let o=a.parent;o;o=o.parent){const s=o.routeConfig;if(s?._loadedInjector)return s._loadedInjector;if(s?._injector)return s._injector}return null}class gd{constructor(o,s,f,E){this.routeReuseStrategy=o,this.futureState=s,this.currState=f,this.forwardEvent=E}activate(o){const s=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(s,f,o),Bc(this.futureState.root),this.activateChildRoutes(s,f,o)}deactivateChildRoutes(o,s,f){const E=Ao(s);o.children.forEach(N=>{const J=N.value.outlet;this.deactivateRoutes(N,E[J],f),delete E[J]}),Kn(E,(N,J)=>{this.deactivateRouteAndItsChildren(N,f)})}deactivateRoutes(o,s,f){const E=o.value,N=s?s.value:null;if(E===N)if(E.component){const J=f.getContext(E.outlet);J&&this.deactivateChildRoutes(o,s,J.children)}else this.deactivateChildRoutes(o,s,f);else N&&this.deactivateRouteAndItsChildren(s,f)}deactivateRouteAndItsChildren(o,s){o.value.component&&this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,s):this.deactivateRouteAndOutlet(o,s)}detachAndStoreRouteSubtree(o,s){const f=s.getContext(o.value.outlet),E=f&&o.value.component?f.children:s,N=Ao(o);for(const J of Object.keys(N))this.deactivateRouteAndItsChildren(N[J],E);if(f&&f.outlet){const J=f.outlet.detach(),te=f.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:J,route:o,contexts:te})}}deactivateRouteAndOutlet(o,s){const f=s.getContext(o.value.outlet),E=f&&o.value.component?f.children:s,N=Ao(o);for(const J of Object.keys(N))this.deactivateRouteAndItsChildren(N[J],E);f&&f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated(),f.attachRef=null,f.resolver=null,f.route=null)}activateChildRoutes(o,s,f){const E=Ao(s);o.children.forEach(N=>{this.activateRoutes(N,E[N.value.outlet],f),this.forwardEvent(new ld(N.value.snapshot))}),o.children.length&&this.forwardEvent(new Rc(o.value.snapshot))}activateRoutes(o,s,f){const E=o.value,N=s?s.value:null;if(Bc(E),E===N)if(E.component){const J=f.getOrCreateContext(E.outlet);this.activateChildRoutes(o,s,J.children)}else this.activateChildRoutes(o,s,f);else if(E.component){const J=f.getOrCreateContext(E.outlet);if(this.routeReuseStrategy.shouldAttach(E.snapshot)){const te=this.routeReuseStrategy.retrieve(E.snapshot);this.routeReuseStrategy.store(E.snapshot,null),J.children.onOutletReAttached(te.contexts),J.attachRef=te.componentRef,J.route=te.route.value,J.outlet&&J.outlet.attach(te.componentRef,te.route.value),Bc(te.route.value),this.activateChildRoutes(o,null,J.children)}else{const te=ba(E.snapshot),Ce=te?.get(v._Vd)??null;J.attachRef=null,J.route=E,J.resolver=Ce,J.injector=te,J.outlet&&J.outlet.activateWith(E,J.injector),this.activateChildRoutes(o,null,J.children)}}else this.activateChildRoutes(o,null,f)}}class Wc{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class Fo{constructor(o,s){this.component=o,this.route=s}}function md(a,o,s){const f=a._root;return Mo(f,o?o._root:null,s,[f.value])}function To(a,o){const s=Symbol(),f=o.get(a,s);return f===s?"function"!=typeof a||(0,v.Z0I)(a)?o.get(a):a:f}function Mo(a,o,s,f,E={canDeactivateChecks:[],canActivateChecks:[]}){const N=Ao(o);return a.children.forEach(J=>{(function zp(a,o,s,f,E={canDeactivateChecks:[],canActivateChecks:[]}){const N=a.value,J=o?o.value:null,te=s?s.getContext(a.value.outlet):null;if(J&&N.routeConfig===J.routeConfig){const Ce=function vd(a,o,s){if("function"==typeof s)return s(a,o);switch(s){case"pathParamsChange":return!Us(a.url,o.url);case"pathParamsOrQueryParamsChange":return!Us(a.url,o.url)||!Ii(a.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hc(a,o)||!Ii(a.queryParams,o.queryParams);default:return!Hc(a,o)}}(J,N,N.routeConfig.runGuardsAndResolvers);Ce?E.canActivateChecks.push(new Wc(f)):(N.data=J.data,N._resolvedData=J._resolvedData),Mo(a,o,N.component?te?te.children:null:s,f,E),Ce&&te&&te.outlet&&te.outlet.isActivated&&E.canDeactivateChecks.push(new Fo(te.outlet.component,J))}else J&&Ji(o,te,E),E.canActivateChecks.push(new Wc(f)),Mo(a,null,N.component?te?te.children:null:s,f,E)})(J,N[J.value.outlet],s,f.concat([J.value]),E),delete N[J.value.outlet]}),Kn(N,(J,te)=>Ji(J,s.getContext(te),E)),E}function Ji(a,o,s){const f=Ao(a),E=a.value;Kn(f,(N,J)=>{Ji(N,E.component?o?o.children.getContext(J):null:o,s)}),s.canDeactivateChecks.push(new Fo(E.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,E))}function xa(a){return"function"==typeof a}function fu(a){return a instanceof Ju.K||"EmptyError"===a?.name}const pu=Symbol("INITIAL_VALUE");function fs(){return(0,yt.w)(a=>(0,ia.a)(a.map(o=>o.pipe((0,Qu.q)(1),function Cc(...a){const o=(0,Bn.yG)(a);return(0,Ls.e)((s,f)=>{(o?(0,Vt.z)(a,s,o):(0,Vt.z)(a,s)).subscribe(f)})}(pu)))).pipe((0,gt.U)(o=>{for(const s of o)if(!0!==s){if(s===pu)return pu;if(!1===s||s instanceof js)return s}return!0}),(0,rr.h)(o=>o!==pu),(0,Qu.q)(1)))}function Cd(a){return(0,en.z)((0,fr.b)(o=>{if(hs(o))throw Uc(0,o)}),(0,gt.U)(o=>!0===o))}const Ol={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nl(a,o,s,f,E){const N=Ia(a,o,s);return N.matched?function tg(a,o,s,f){const E=o.canMatch;if(!E||0===E.length)return(0,pt.of)(!0);const N=E.map(J=>{const te=To(J,a);return cs(function _d(a){return a&&xa(a.canMatch)}(te)?te.canMatch(o,s):a.runInContext(()=>te(o,s)))});return(0,pt.of)(N).pipe(fs(),Cd())}(f=du(o,f),o,s).pipe((0,gt.U)(J=>!0===J?N:{...Ol})):(0,pt.of)(N)}function Ia(a,o,s){if(""===o.path)return"full"===o.pathMatch&&(a.hasChildren()||s.length>0)?{...Ol}:{matched:!0,consumedSegments:[],remainingSegments:s,parameters:{},positionalParamSegments:{}};const E=(o.matcher||la)(s,a,o);if(!E)return{...Ol};const N={};Kn(E.posParams,(te,Ce)=>{N[Ce]=te.path});const J=E.consumed.length>0?{...N,...E.consumed[E.consumed.length-1].parameters}:N;return{matched:!0,consumedSegments:E.consumed,remainingSegments:s.slice(E.consumed.length),parameters:J,positionalParamSegments:E.posParams??{}}}function Fa(a,o,s,f,E="corrected"){if(s.length>0&&function kl(a,o,s){return s.some(f=>Ro(a,o,f)&&jr(f)!==Kt)}(a,s,f)){const J=new Wt(o,function Jc(a,o,s,f){const E={};E[Kt]=f,f._sourceSegment=a,f._segmentIndexShift=o.length;for(const N of s)if(""===N.path&&jr(N)!==Kt){const J=new Wt([],{});J._sourceSegment=a,J._segmentIndexShift=o.length,E[jr(N)]=J}return E}(a,o,f,new Wt(s,a.children)));return J._sourceSegment=a,J._segmentIndexShift=o.length,{segmentGroup:J,slicedSegments:[]}}if(0===s.length&&function Sd(a,o,s){return s.some(f=>Ro(a,o,f))}(a,s,f)){const J=new Wt(a.segments,function Yc(a,o,s,f,E,N){const J={};for(const te of f)if(Ro(a,s,te)&&!E[jr(te)]){const Ce=new Wt([],{});Ce._sourceSegment=a,Ce._segmentIndexShift="legacy"===N?a.segments.length:o.length,J[jr(te)]=Ce}return{...E,...J}}(a,o,s,f,a.children,E));return J._sourceSegment=a,J._segmentIndexShift=o.length,{segmentGroup:J,slicedSegments:s}}const N=new Wt(a.segments,a.children);return N._sourceSegment=a,N._segmentIndexShift=o.length,{segmentGroup:N,slicedSegments:s}}function Ro(a,o,s){return(!(a.hasChildren()||o.length>0)||"full"!==s.pathMatch)&&""===s.path}function Oo(a,o,s,f){return!!(jr(a)===f||f!==Kt&&Ro(o,s,a))&&("**"===a.path||Ia(o,a,s).matched)}function Zc(a,o,s){return 0===o.length&&!a.children[s]}const gu=!1;class mu{constructor(o){this.segmentGroup=o||null}}class Ll{constructor(o){this.urlTree=o}}function Ta(a){return(0,dr._)(new mu(a))}function Xc(a){return(0,dr._)(new Ll(a))}class Ad{constructor(o,s,f,E,N){this.injector=o,this.configLoader=s,this.urlSerializer=f,this.urlTree=E,this.config=N,this.allowRedirects=!0}apply(){const o=Fa(this.urlTree.root,[],[],this.config).segmentGroup,s=new Wt(o.segments,o.children);return this.expandSegmentGroup(this.injector,this.config,s,Kt).pipe((0,gt.U)(N=>this.createUrlTree(Ks(N),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Bs.K)(N=>{if(N instanceof Ll)return this.allowRedirects=!1,this.match(N.urlTree);throw N instanceof mu?this.noMatchError(N):N}))}match(o){return this.expandSegmentGroup(this.injector,this.config,o.root,Kt).pipe((0,gt.U)(E=>this.createUrlTree(Ks(E),o.queryParams,o.fragment))).pipe((0,Bs.K)(E=>{throw E instanceof mu?this.noMatchError(E):E}))}noMatchError(o){return new v.vHH(4002,gu)}createUrlTree(o,s,f){const E=Tc(o);return new js(E,s,f)}expandSegmentGroup(o,s,f,E){return 0===f.segments.length&&f.hasChildren()?this.expandChildren(o,s,f).pipe((0,gt.U)(N=>new Wt([],N))):this.expandSegment(o,f,s,f.segments,E,!0)}expandChildren(o,s,f){const E=[];for(const N of Object.keys(f.children))"primary"===N?E.unshift(N):E.push(N);return(0,Bt.D)(E).pipe((0,_o.b)(N=>{const J=f.children[N],te=qs(s,N);return this.expandSegmentGroup(o,te,J,N).pipe((0,gt.U)(Ce=>({segment:Ce,outlet:N})))}),Sc((N,J)=>(N[J.outlet]=J.segment,N),{}),sa())}expandSegment(o,s,f,E,N,J){return(0,Bt.D)(f).pipe((0,_o.b)(te=>this.expandSegmentAgainstRoute(o,s,f,te,E,N,J).pipe((0,Bs.K)(Xe=>{if(Xe instanceof mu)return(0,pt.of)(null);throw Xe}))),(0,Vr.P)(te=>!!te),(0,Bs.K)((te,Ce)=>{if(fu(te))return Zc(s,E,N)?(0,pt.of)(new Wt([],{})):Ta(s);throw te}))}expandSegmentAgainstRoute(o,s,f,E,N,J,te){return Oo(E,s,N,J)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(o,s,E,N,J):te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(o,s,f,E,N,J):Ta(s):Ta(s)}expandSegmentAgainstRouteUsingRedirect(o,s,f,E,N,J){return"**"===E.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o,f,E,J):this.expandRegularSegmentAgainstRouteUsingRedirect(o,s,f,E,N,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(o,s,f,E){const N=this.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?Xc(N):this.lineralizeSegments(f,N).pipe((0,Ir.z)(J=>{const te=new Wt(J,{});return this.expandSegment(o,te,s,J,E,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(o,s,f,E,N,J){const{matched:te,consumedSegments:Ce,remainingSegments:Xe,positionalParamSegments:dt}=Ia(s,E,N);if(!te)return Ta(s);const st=this.applyRedirectCommands(Ce,E.redirectTo,dt);return E.redirectTo.startsWith("/")?Xc(st):this.lineralizeSegments(E,st).pipe((0,Ir.z)(qt=>this.expandSegment(o,s,f,qt.concat(Xe),J,!1)))}matchSegmentAgainstRoute(o,s,f,E,N){return"**"===f.path?(o=du(f,o),f.loadChildren?(f._loadedRoutes?(0,pt.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):this.configLoader.loadChildren(o,f)).pipe((0,gt.U)(te=>(f._loadedRoutes=te.routes,f._loadedInjector=te.injector,new Wt(E,{})))):(0,pt.of)(new Wt(E,{}))):Nl(s,f,E,o).pipe((0,yt.w)(({matched:J,consumedSegments:te,remainingSegments:Ce})=>J?this.getChildConfig(o=f._injector??o,f,E).pipe((0,Ir.z)(dt=>{const st=dt.injector??o,qt=dt.routes,{segmentGroup:Ur,slicedSegments:Mi}=Fa(s,te,Ce,qt),gs=new Wt(Ur.segments,Ur.children);if(0===Mi.length&&gs.hasChildren())return this.expandChildren(st,qt,gs).pipe((0,gt.U)(oc=>new Wt(te,oc)));if(0===qt.length&&0===Mi.length)return(0,pt.of)(new Wt(te,{}));const gr=jr(f)===N;return this.expandSegment(st,gs,qt,Mi,gr?Kt:N,!0).pipe((0,gt.U)(Js=>new Wt(te.concat(Js.segments),Js.children)))})):Ta(s)))}getChildConfig(o,s,f){return s.children?(0,pt.of)({routes:s.children,injector:o}):s.loadChildren?void 0!==s._loadedRoutes?(0,pt.of)({routes:s._loadedRoutes,injector:s._loadedInjector}):function eg(a,o,s,f){const E=o.canLoad;if(void 0===E||0===E.length)return(0,pt.of)(!0);const N=E.map(J=>{const te=To(J,a);return cs(function Aa(a){return a&&xa(a.canLoad)}(te)?te.canLoad(o,s):a.runInContext(()=>te(o,s)))});return(0,pt.of)(N).pipe(fs(),Cd())}(o,s,f).pipe((0,Ir.z)(E=>E?this.configLoader.loadChildren(o,s).pipe((0,fr.b)(N=>{s._loadedRoutes=N.routes,s._loadedInjector=N.injector})):function xd(a){return(0,dr._)(bl(gu,3))}())):(0,pt.of)({routes:[],injector:o})}lineralizeSegments(o,s){let f=[],E=s.root;for(;;){if(f=f.concat(E.segments),0===E.numberOfChildren)return(0,pt.of)(f);if(E.numberOfChildren>1||!E.children[Kt])return(0,dr._)(new v.vHH(4e3,gu));E=E.children[Kt]}}applyRedirectCommands(o,s,f){return this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),o,f)}applyRedirectCreateUrlTree(o,s,f,E){const N=this.createSegmentGroup(o,s.root,f,E);return new js(N,this.createQueryParams(s.queryParams,this.urlTree.queryParams),s.fragment)}createQueryParams(o,s){const f={};return Kn(o,(E,N)=>{if("string"==typeof E&&E.startsWith(":")){const te=E.substring(1);f[N]=s[te]}else f[N]=E}),f}createSegmentGroup(o,s,f,E){const N=this.createSegments(o,s.segments,f,E);let J={};return Kn(s.children,(te,Ce)=>{J[Ce]=this.createSegmentGroup(o,te,f,E)}),new Wt(N,J)}createSegments(o,s,f,E){return s.map(N=>N.path.startsWith(":")?this.findPosParam(o,N,E):this.findOrReturn(N,f))}findPosParam(o,s,f){const E=f[s.path.substring(1)];if(!E)throw new v.vHH(4001,gu);return E}findOrReturn(o,s){let f=0;for(const E of s){if(E.path===o.path)return s.splice(f),E;f++}return o}}class Qc{}class Fr{constructor(o,s,f,E,N,J,te,Ce){this.injector=o,this.rootComponentType=s,this.config=f,this.urlTree=E,this.url=N,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=te,this.urlSerializer=Ce}recognize(){const o=Fa(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,o,Kt).pipe((0,gt.U)(s=>{if(null===s)return null;const f=new uu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),E=new pi(f,s),N=new kc(this.url,E);return this.inheritParamsAndData(N._root),N}))}inheritParamsAndData(o){const s=o.value,f=Cl(s,this.paramsInheritanceStrategy);s.params=Object.freeze(f.params),s.data=Object.freeze(f.data),o.children.forEach(E=>this.inheritParamsAndData(E))}processSegmentGroup(o,s,f,E){return 0===f.segments.length&&f.hasChildren()?this.processChildren(o,s,f):this.processSegment(o,s,f,f.segments,E)}processChildren(o,s,f){return(0,Bt.D)(Object.keys(f.children)).pipe((0,_o.b)(E=>{const N=f.children[E],J=qs(s,E);return this.processSegmentGroup(o,J,N,E)}),Sc((E,N)=>E&&N?(E.push(...N),E):null),function Rp(a,o=!1){return(0,Ls.e)((s,f)=>{let E=0;s.subscribe((0,Tr.x)(f,N=>{const J=a(N,E++);(J||o)&&f.next(N),!J&&f.complete()}))})}(E=>null!==E),(0,tl.d)(null),sa(),(0,gt.U)(E=>{if(null===E)return null;const N=pr(E);return function Hl(a){a.sort((o,s)=>o.value.outlet===Kt?-1:s.value.outlet===Kt?1:o.value.outlet.localeCompare(s.value.outlet))}(N),N}))}processSegment(o,s,f,E,N){return(0,Bt.D)(s).pipe((0,_o.b)(J=>this.processSegmentAgainstRoute(J._injector??o,J,f,E,N)),(0,Vr.P)(J=>!!J),(0,Bs.K)(J=>{if(fu(J))return Zc(f,E,N)?(0,pt.of)([]):(0,pt.of)(null);throw J}))}processSegmentAgainstRoute(o,s,f,E,N){if(s.redirectTo||!Oo(s,f,E,N))return(0,pt.of)(null);let J;if("**"===s.path){const te=E.length>0?il(E).parameters:{},Ce=th(f)+E.length,Xe=new uu(E,te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(s),jr(s),s.component??s._loadedComponent??null,s,yu(f),Ce,rh(s),Ce);J=(0,pt.of)({snapshot:Xe,consumedSegments:[],remainingSegments:[]})}else J=Nl(f,s,E,o).pipe((0,gt.U)(({matched:te,consumedSegments:Ce,remainingSegments:Xe,parameters:dt})=>{if(!te)return null;const st=th(f)+Ce.length;return{snapshot:new uu(Ce,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(s),jr(s),s.component??s._loadedComponent??null,s,yu(f),st,rh(s),st),consumedSegments:Ce,remainingSegments:Xe}}));return J.pipe((0,yt.w)(te=>{if(null===te)return(0,pt.of)(null);const{snapshot:Ce,consumedSegments:Xe,remainingSegments:dt}=te;o=s._injector??o;const st=s._loadedInjector??o,qt=function eh(a){return a.children?a.children:a.loadChildren?a._loadedRoutes:[]}(s),{segmentGroup:Ur,slicedSegments:Mi}=Fa(f,Xe,dt,qt.filter(gr=>void 0===gr.redirectTo),this.relativeLinkResolution);if(0===Mi.length&&Ur.hasChildren())return this.processChildren(st,qt,Ur).pipe((0,gt.U)(gr=>null===gr?null:[new pi(Ce,gr)]));if(0===qt.length&&0===Mi.length)return(0,pt.of)([new pi(Ce,[])]);const gs=jr(s)===N;return this.processSegment(st,qt,Ur,Mi,gs?Kt:N).pipe((0,gt.U)(gr=>null===gr?null:[new pi(Ce,gr)]))}))}}function Vl(a){const o=a.value.routeConfig;return o&&""===o.path&&void 0===o.redirectTo}function pr(a){const o=[],s=new Set;for(const f of a){if(!Vl(f)){o.push(f);continue}const E=o.find(N=>f.value.routeConfig===N.value.routeConfig);void 0!==E?(E.children.push(...f.children),s.add(E)):o.push(f)}for(const f of s){const E=pr(f.children);o.push(new pi(f.value,E))}return o.filter(f=>!s.has(f))}function yu(a){let o=a;for(;o._sourceSegment;)o=o._sourceSegment;return o}function th(a){let o=a,s=o._segmentIndexShift??0;for(;o._sourceSegment;)o=o._sourceSegment,s+=o._segmentIndexShift??0;return s-1}function jl(a){return a.data||{}}function rh(a){return a.resolve||{}}function oh(a){return"string"==typeof a.title||null===a.title}function Ul(a){return(0,yt.w)(o=>{const s=a(o);return s?(0,Bt.D)(s).pipe((0,gt.U)(()=>o)):(0,pt.of)(o)})}let Ys=(()=>{class a{buildTitle(s){let f,E=s.root;for(;void 0!==E;)f=this.getResolvedTitleForRoute(E)??f,E=E.children.find(N=>N.outlet===Kt);return f}getResolvedTitleForRoute(s){return s.data[ua]}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=v.Yz7({token:a,factory:function(){return(0,v.f3M)(Ti)},providedIn:"root"}),a})(),Ti=(()=>{class a extends Ys{constructor(s){super(),this.title=s}updateTitle(s){const f=this.buildTitle(s);void 0!==f&&this.title.setTitle(f)}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(Be))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class Nd{}class ig extends class rg{shouldDetach(o){return!1}store(o,s){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,s){return o.routeConfig===s.routeConfig}}{}const $l=new v.OlP("",{providedIn:"root",factory:()=>({})}),Pa=new v.OlP("ROUTES");let Ra=(()=>{class a{constructor(s,f){this.injector=s,this.compiler=f,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(s){if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return(0,pt.of)(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);const f=cs(s.loadComponent()).pipe((0,fr.b)(N=>{this.onLoadEndListener&&this.onLoadEndListener(s),s._loadedComponent=N}),aa(()=>{this.componentLoaders.delete(s)})),E=new zh(f,()=>new jn.x).pipe(Xu());return this.componentLoaders.set(s,E),E}loadChildren(s,f){if(this.childrenLoaders.get(f))return this.childrenLoaders.get(f);if(f._loadedRoutes)return(0,pt.of)({routes:f._loadedRoutes,injector:f._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(f);const N=this.loadModuleFactoryOrRoutes(f.loadChildren).pipe((0,gt.U)(te=>{this.onLoadEndListener&&this.onLoadEndListener(f);let Ce,Xe,dt=!1;Array.isArray(te)?Xe=te:(Ce=te.create(s).injector,Xe=rl(Ce.get(Pa,[],v.XFs.Self|v.XFs.Optional)));return{routes:Xe.map(Ml),injector:Ce}}),aa(()=>{this.childrenLoaders.delete(f)})),J=new zh(N,()=>new jn.x).pipe(Xu());return this.childrenLoaders.set(f,J),J}loadModuleFactoryOrRoutes(s){return cs(s()).pipe((0,Ir.z)(f=>f instanceof v.YKP||Array.isArray(f)?(0,pt.of)(f):(0,Bt.D)(this.compiler.compileModuleAsync(f))))}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(v.zs3),v.LFG(v.Sil))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class kd{}class uh{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,s){return o}}function Oa(a){throw a}function Ld(a,o,s){return o.parse("/")}const Bd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Wl(){const a=(0,v.f3M)(ul),o=(0,v.f3M)(Sa),s=(0,v.f3M)(x.Ye),f=(0,v.f3M)(v.zs3),E=(0,v.f3M)(v.Sil),N=(0,v.f3M)(Pa,{optional:!0})??[],J=(0,v.f3M)($l,{optional:!0})??{},te=(0,v.f3M)(Ti),Ce=(0,v.f3M)(Ys,{optional:!0}),Xe=(0,v.f3M)(kd,{optional:!0}),dt=(0,v.f3M)(Nd,{optional:!0}),st=new Er(null,a,o,s,f,E,rl(N));return Xe&&(st.urlHandlingStrategy=Xe),dt&&(st.routeReuseStrategy=dt),st.titleStrategy=Ce??te,function Gl(a,o){a.errorHandler&&(o.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(o.malformedUriErrorHandler=a.malformedUriErrorHandler),a.onSameUrlNavigation&&(o.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(o.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.relativeLinkResolution&&(o.relativeLinkResolution=a.relativeLinkResolution),a.urlUpdateStrategy&&(o.urlUpdateStrategy=a.urlUpdateStrategy),a.canceledNavigationResolution&&(o.canceledNavigationResolution=a.canceledNavigationResolution)}(J,st),st}let Er=(()=>{class a{constructor(s,f,E,N,J,te,Ce){this.rootComponentType=s,this.urlSerializer=f,this.rootContexts=E,this.location=N,this.config=Ce,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jn.x,this.errorHandler=Oa,this.malformedUriErrorHandler=Ld,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,pt.of)(void 0),this.urlHandlingStrategy=new uh,this.routeReuseStrategy=new ig,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=J.get(Ra),this.configLoader.onLoadEndListener=qt=>this.triggerEvent(new $p(qt)),this.configLoader.onLoadStartListener=qt=>this.triggerEvent(new El(qt)),this.ngModule=J.get(v.h0i),this.console=J.get(v.c2e);const st=J.get(v.R0b);this.isNgZoneEnabled=st instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(Ce),this.currentUrlTree=function Zh(){return new js(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Nc(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(s){const f=this.events;return s.pipe((0,rr.h)(E=>0!==E.id),(0,gt.U)(E=>({...E,extractedUrl:this.urlHandlingStrategy.extract(E.rawUrl)})),(0,yt.w)(E=>{let N=!1,J=!1;return(0,pt.of)(E).pipe((0,fr.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.rawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,yt.w)(te=>{const Ce=this.browserUrlTree.toString(),Xe=!this.navigated||te.extractedUrl.toString()!==Ce||Ce!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xe)&&this.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return Eu(te.source)&&(this.browserUrlTree=te.extractedUrl),(0,pt.of)(te).pipe((0,yt.w)(st=>{const qt=this.transitions.getValue();return f.next(new Gs(st.id,this.serializeUrl(st.extractedUrl),st.source,st.restoredState)),qt!==this.transitions.getValue()?Ai.E:Promise.resolve(st)}),function Id(a,o,s,f){return(0,yt.w)(E=>function Bl(a,o,s,f,E){return new Ad(a,o,s,f,E).apply()}(a,o,s,E.extractedUrl,f).pipe((0,gt.U)(N=>({...E,urlAfterRedirects:N}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fr.b)(st=>{this.currentNavigation={...this.currentNavigation,finalUrl:st.urlAfterRedirects},E.urlAfterRedirects=st.urlAfterRedirects}),function ih(a,o,s,f,E,N){return(0,Ir.z)(J=>function Td(a,o,s,f,E,N,J="emptyOnly",te="legacy"){return new Fr(a,o,s,f,E,J,te,N).recognize().pipe((0,yt.w)(Ce=>null===Ce?function Fd(a){return new Li.y(o=>o.error(a))}(new Qc):(0,pt.of)(Ce)))}(a,o,s,J.urlAfterRedirects,f.serialize(J.urlAfterRedirects),f,E,N).pipe((0,gt.U)(te=>({...J,targetSnapshot:te}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fr.b)(st=>{if(E.targetSnapshot=st.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!st.extras.skipLocationChange){const Ur=this.urlHandlingStrategy.merge(st.urlAfterRedirects,st.rawUrl);this.setBrowserUrl(Ur,st)}this.browserUrlTree=st.urlAfterRedirects}const qt=new Vp(st.id,this.serializeUrl(st.extractedUrl),this.serializeUrl(st.urlAfterRedirects),st.targetSnapshot);f.next(qt)}));if(Xe&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qt,extractedUrl:Ur,source:Mi,restoredState:gs,extras:gr}=te,yh=new Gs(qt,this.serializeUrl(Ur),Mi,gs);f.next(yh);const Js=Nc(Ur,this.rootComponentType).snapshot;return E={...te,targetSnapshot:Js,urlAfterRedirects:Ur,extras:{...gr,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(E)}return this.rawUrlTree=te.rawUrl,te.resolve(null),Ai.E}),(0,fr.b)(te=>{const Ce=new jp(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot);this.triggerEvent(Ce)}),(0,gt.U)(te=>E={...te,guards:md(te.targetSnapshot,te.currentSnapshot,this.rootContexts)}),function wd(a,o){return(0,Ir.z)(s=>{const{targetSnapshot:f,currentSnapshot:E,guards:{canActivateChecks:N,canDeactivateChecks:J}}=s;return 0===J.length&&0===N.length?(0,pt.of)({...s,guardsResult:!0}):function Dd(a,o,s,f){return(0,Bt.D)(a).pipe((0,Ir.z)(E=>function Qp(a,o,s,f,E){const N=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!N||0===N.length)return(0,pt.of)(!0);const J=N.map(te=>{const Ce=ba(o)??E,Xe=To(te,Ce);return cs(function qc(a){return a&&xa(a.canDeactivate)}(Xe)?Xe.canDeactivate(a,o,s,f):Ce.runInContext(()=>Xe(a,o,s,f))).pipe((0,Vr.P)())});return(0,pt.of)(J).pipe(fs())}(E.component,E.route,s,o,f)),(0,Vr.P)(E=>!0!==E,!0))}(J,f,E,a).pipe((0,Ir.z)(te=>te&&function Po(a){return"boolean"==typeof a}(te)?function Pl(a,o,s,f){return(0,Bt.D)(o).pipe((0,_o.b)(E=>(0,Vt.z)(function Zp(a,o){return null!==a&&o&&o(new Kp(a)),(0,pt.of)(!0)}(E.route.parent,f),function Jp(a,o){return null!==a&&o&&o(new ud(a)),(0,pt.of)(!0)}(E.route,f),function Xp(a,o,s){const f=o[o.length-1],N=o.slice(0,o.length-1).reverse().map(J=>function zc(a){const o=a.routeConfig?a.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:a,guards:o}:null}(J)).filter(J=>null!==J).map(J=>Un(()=>{const te=J.guards.map(Ce=>{const Xe=ba(J.node)??s,dt=To(Ce,Xe);return cs(function qp(a){return a&&xa(a.canActivateChild)}(dt)?dt.canActivateChild(f,a):Xe.runInContext(()=>dt(f,a))).pipe((0,Vr.P)())});return(0,pt.of)(te).pipe(fs())}));return(0,pt.of)(N).pipe(fs())}(a,E.path,s),function Rl(a,o,s){const f=o.routeConfig?o.routeConfig.canActivate:null;if(!f||0===f.length)return(0,pt.of)(!0);const E=f.map(N=>Un(()=>{const J=ba(o)??s,te=To(N,J);return cs(function yd(a){return a&&xa(a.canActivate)}(te)?te.canActivate(o,a):J.runInContext(()=>te(o,a))).pipe((0,Vr.P)())}));return(0,pt.of)(E).pipe(fs())}(a,E.route,s))),(0,Vr.P)(E=>!0!==E,!0))}(f,N,a,o):(0,pt.of)(te)),(0,gt.U)(te=>({...s,guardsResult:te})))})}(this.ngModule.injector,te=>this.triggerEvent(te)),(0,fr.b)(te=>{if(E.guardsResult=te.guardsResult,hs(te.guardsResult))throw Uc(0,te.guardsResult);const Ce=new Up(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.triggerEvent(Ce)}),(0,rr.h)(te=>!!te.guardsResult||(this.restoreHistory(te),this.cancelNavigationTransition(te,"",3),!1)),Ul(te=>{if(te.guards.canActivateChecks.length)return(0,pt.of)(te).pipe((0,fr.b)(Ce=>{const Xe=new yl(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(Xe)}),(0,yt.w)(Ce=>{let Xe=!1;return(0,pt.of)(Ce).pipe(function Md(a,o){return(0,Ir.z)(s=>{const{targetSnapshot:f,guards:{canActivateChecks:E}}=s;if(!E.length)return(0,pt.of)(s);let N=0;return(0,Bt.D)(E).pipe((0,_o.b)(J=>function sh(a,o,s,f){const E=a.routeConfig,N=a._resolve;return void 0!==E?.title&&!oh(E)&&(N[ua]=E.title),function Pd(a,o,s,f){const E=function Rd(a){return[...Object.keys(a),...Object.getOwnPropertySymbols(a)]}(a);if(0===E.length)return(0,pt.of)({});const N={};return(0,Bt.D)(E).pipe((0,Ir.z)(J=>function Od(a,o,s,f){const E=ba(o)??f,N=To(a,E);return cs(N.resolve?N.resolve(o,s):E.runInContext(()=>N(o,s)))}(a[J],o,s,f).pipe((0,Vr.P)(),(0,fr.b)(te=>{N[J]=te}))),el(1),(0,oa.h)(N),(0,Bs.K)(J=>fu(J)?Ai.E:(0,dr._)(J)))}(N,a,o,f).pipe((0,gt.U)(J=>(a._resolvedData=J,a.data=Cl(a,s).resolve,E&&oh(E)&&(a.data[ua]=E.title),null)))}(J.route,f,a,o)),(0,fr.b)(()=>N++),el(1),(0,Ir.z)(J=>N===E.length?(0,pt.of)(s):Ai.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fr.b)({next:()=>Xe=!0,complete:()=>{Xe||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",2))}}))}),(0,fr.b)(Ce=>{const Xe=new _l(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(Xe)}))}),Ul(te=>{const Ce=Xe=>{const dt=[];Xe.routeConfig?.loadComponent&&!Xe.routeConfig._loadedComponent&&dt.push(this.configLoader.loadComponent(Xe.routeConfig).pipe((0,fr.b)(st=>{Xe.component=st}),(0,gt.U)(()=>{})));for(const st of Xe.children)dt.push(...Ce(st));return dt};return(0,ia.a)(Ce(te.targetSnapshot.root)).pipe((0,tl.d)(),(0,Qu.q)(1))}),Ul(()=>this.afterPreactivation()),(0,gt.U)(te=>{const Ce=function Ca(a,o,s){const f=Ws(a,o._root,s?s._root:void 0);return new Gn(f,o)}(this.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return E={...te,targetRouterState:Ce}}),(0,fr.b)(te=>{this.currentUrlTree=te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),this.routerState=te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,te),this.browserUrlTree=te.urlAfterRedirects)}),((a,o,s)=>(0,gt.U)(f=>(new gd(o,f.targetRouterState,f.currentRouterState,s).activate(a),f)))(this.rootContexts,this.routeReuseStrategy,te=>this.triggerEvent(te)),(0,fr.b)({next(){N=!0},complete(){N=!0}}),aa(()=>{N||J||this.cancelNavigationTransition(E,"",1),this.currentNavigation?.id===E.id&&(this.currentNavigation=null)}),(0,Bs.K)(te=>{if(J=!0,cu(te)){xl(te)||(this.navigated=!0,this.restoreHistory(E,!0));const Ce=new Da(E.id,this.serializeUrl(E.extractedUrl),te.message,te.cancellationCode);if(f.next(Ce),xl(te)){const Xe=this.urlHandlingStrategy.merge(te.url,this.rawUrlTree),dt={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eu(E.source)};this.scheduleNavigation(Xe,"imperative",null,dt,{resolve:E.resolve,reject:E.reject,promise:E.promise})}else E.resolve(!1)}else{this.restoreHistory(E,!0);const Ce=new vl(E.id,this.serializeUrl(E.extractedUrl),te,E.targetSnapshot??void 0);f.next(Ce);try{E.resolve(this.errorHandler(te))}catch(Xe){E.reject(Xe)}}return Ai.E}))}))}resetRootComponentType(s){this.rootComponentType=s,this.routerState.root.component=this.rootComponentType}setTransition(s){this.transitions.next({...this.transitions.value,...s})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(s=>{const f="popstate"===s.type?"popstate":"hashchange";"popstate"===f&&setTimeout(()=>{const E={replaceUrl:!0},N=s.state?.navigationId?s.state:null;if(N){const te={...N};delete te.navigationId,delete te.\u0275routerPageId,0!==Object.keys(te).length&&(E.state=te)}const J=this.parseUrl(s.url);this.scheduleNavigation(J,f,N,E)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(s){this.events.next(s)}resetConfig(s){this.config=s.map(Ml),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(s,f={}){const{relativeTo:E,queryParams:N,fragment:J,queryParamsHandling:te,preserveFragment:Ce}=f,Xe=E||this.routerState.root,dt=Ce?this.currentUrlTree.fragment:J;let st=null;switch(te){case"merge":st={...this.currentUrlTree.queryParams,...N};break;case"preserve":st=this.currentUrlTree.queryParams;break;default:st=N||null}return null!==st&&(st=this.removeEmptyProps(st)),id(Xe,this.currentUrlTree,s,st,dt??null)}navigateByUrl(s,f={skipLocationChange:!1}){const E=hs(s)?s:this.parseUrl(s),N=this.urlHandlingStrategy.merge(E,this.rawUrlTree);return this.scheduleNavigation(N,"imperative",null,f)}navigate(s,f={skipLocationChange:!1}){return function No(a){for(let o=0;o<a.length;o++){if(null==a[o])throw new v.vHH(4008,false)}}(s),this.navigateByUrl(this.createUrlTree(s,f),f)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){let f;try{f=this.urlSerializer.parse(s)}catch(E){f=this.malformedUriErrorHandler(E,this.urlSerializer,s)}return f}isActive(s,f){let E;if(E=!0===f?{...Bd}:!1===f?{...Kl}:f,hs(s))return al(this.currentUrlTree,s,E);const N=this.parseUrl(s);return al(this.currentUrlTree,N,E)}removeEmptyProps(s){return Object.keys(s).reduce((f,E)=>{const N=s[E];return null!=N&&(f[E]=N),f},{})}processNavigations(){this.navigations.subscribe(s=>{this.navigated=!0,this.lastSuccessfulId=s.id,this.currentPageId=s.targetPageId,this.events.next(new ds(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),s.resolve(!0)},s=>{this.console.warn(`Unhandled Navigation Error: ${s}`)})}scheduleNavigation(s,f,E,N,J){if(this.disposed)return Promise.resolve(!1);let te,Ce,Xe;J?(te=J.resolve,Ce=J.reject,Xe=J.promise):Xe=new Promise((qt,Ur)=>{te=qt,Ce=Ur});const dt=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(E=this.location.getState()),st=E&&E.\u0275routerPageId?E.\u0275routerPageId:N.replaceUrl||N.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):st=0,this.setTransition({id:dt,targetPageId:st,source:f,restoredState:E,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:s,extras:N,resolve:te,reject:Ce,promise:Xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xe.catch(qt=>Promise.reject(qt))}setBrowserUrl(s,f){const E=this.urlSerializer.serialize(s),N={...f.extras.state,...this.generateNgRouterState(f.id,f.targetPageId)};this.location.isCurrentPathEqualTo(E)||f.extras.replaceUrl?this.location.replaceState(E,"",N):this.location.go(E,"",N)}restoreHistory(s,f=!1){if("computed"===this.canceledNavigationResolution){const E=this.currentPageId-s.targetPageId;"popstate"!==s.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===E?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===E&&(this.resetState(s),this.browserUrlTree=s.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(E)}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=s.currentRouterState,this.currentUrlTree=s.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(s,f,E){const N=new Da(s.id,this.serializeUrl(s.extractedUrl),f,E);this.triggerEvent(N),s.resolve(!1)}generateNgRouterState(s,f){return"computed"===this.canceledNavigationResolution?{navigationId:s,\u0275routerPageId:f}:{navigationId:s}}}return a.\u0275fac=function(s){v.$Z()},a.\u0275prov=v.Yz7({token:a,factory:function(){return Wl()},providedIn:"root"}),a})();function Eu(a){return"imperative"!==a}class lh{}let Vd=(()=>{class a{constructor(s,f,E,N,J){this.router=s,this.injector=E,this.preloadingStrategy=N,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,rr.h)(s=>s instanceof ds),(0,_o.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,f){const E=[];for(const N of f){N.providers&&!N._injector&&(N._injector=(0,v.MMx)(N.providers,s,`Route: ${N.path}`));const J=N._injector??s,te=N._loadedInjector??J;N.loadChildren&&!N._loadedRoutes&&void 0===N.canLoad||N.loadComponent&&!N._loadedComponent?E.push(this.preloadConfig(J,N)):(N.children||N._loadedRoutes)&&E.push(this.processRoutes(te,N.children??N._loadedRoutes))}return(0,Bt.D)(E).pipe((0,Hs.J)())}preloadConfig(s,f){return this.preloadingStrategy.preload(f,()=>{let E;E=f.loadChildren&&void 0===f.canLoad?this.loader.loadChildren(s,f):(0,pt.of)(null);const N=E.pipe((0,Ir.z)(J=>null===J?(0,pt.of)(void 0):(f._loadedRoutes=J.routes,f._loadedInjector=J.injector,this.processRoutes(J.injector??s,J.routes))));if(f.loadComponent&&!f._loadedComponent){const J=this.loader.loadComponent(f);return(0,Bt.D)([N,J]).pipe((0,Hs.J)())}return N})}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(Er),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(lh),v.LFG(Ra))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Yl=new v.OlP("");let Jl=(()=>{class a{constructor(s,f,E={}){this.router=s,this.viewportScroller=f,this.options=E,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},E.scrollPositionRestoration=E.scrollPositionRestoration||"disabled",E.anchorScrolling=E.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(s=>{s instanceof Gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof ds&&(this.lastId=s.id,this.scheduleScrollEvent(s,this.router.parseUrl(s.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(s=>{s instanceof Oc&&(s.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(s.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,f){this.router.triggerEvent(new Oc(s,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return a.\u0275fac=function(s){v.$Z()},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();function Lo(a,o){return{\u0275kind:a,\u0275providers:o}}function Zl(a){return[{provide:Pa,multi:!0,useValue:a}]}function Xl(){const a=(0,v.f3M)(v.zs3);return o=>{const s=a.get(v.z2F);if(o!==s.components[0])return;const f=a.get(Er),E=a.get(ps);1===a.get(Cu)&&f.initialNavigation(),a.get(Na,null,v.XFs.Optional)?.setUpPreloading(),a.get(Yl,null,v.XFs.Optional)?.init(),f.resetRootComponentType(s.componentTypes[0]),E.next(),E.complete()}}const ps=new v.OlP("",{factory:()=>new jn.x}),Cu=new v.OlP("",{providedIn:"root",factory:()=>1});const Na=new v.OlP("");function Kd(a){return Lo(0,[{provide:Na,useExisting:Vd},{provide:lh,useExisting:a}])}const Su=new v.OlP("ROUTER_FORROOT_GUARD"),hh=[x.Ye,{provide:ul,useClass:ll},{provide:Er,useFactory:Wl},Sa,{provide:qi,useFactory:function Du(a){return a.routerState.root},deps:[Er]},Ra];function bu(){return new v.PXZ("Router",Er)}let La=(()=>{class a{constructor(s){}static forRoot(s,f){return{ngModule:a,providers:[hh,[],Zl(s),{provide:Su,useFactory:ec,deps:[[Er,new v.FiY,new v.tp0]]},{provide:$l,useValue:f||{}},f?.useHash?{provide:x.S$,useClass:x.Do}:{provide:x.S$,useClass:x.b0},{provide:Yl,useFactory:()=>{const a=(0,v.f3M)(Er),o=(0,v.f3M)(x.EM),s=(0,v.f3M)($l);return s.scrollOffset&&o.setOffset(s.scrollOffset),new Jl(a,o,s)}},f?.preloadingStrategy?Kd(f.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:bu},f?.initialNavigation?Ba(f):[],[{provide:ph,useFactory:Xl},{provide:v.tb,multi:!0,useExisting:ph}]]}}static forChild(s){return{ngModule:a,providers:[Zl(s)]}}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(Su,8))},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({imports:[Al]}),a})();function ec(a){return"guarded"}function Ba(a){return["disabled"===a.initialNavigation?Lo(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const o=(0,v.f3M)(Er);return()=>{o.setUpLocationChangeListener()}}},{provide:Cu,useValue:2}]).\u0275providers:[],"enabledBlocking"===a.initialNavigation?Lo(2,[{provide:Cu,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:o=>{const s=o.get(x.V_,Promise.resolve(null));let f=!1;return()=>s.then(()=>new Promise(N=>{const J=o.get(Er),te=o.get(ps);(function E(N){o.get(Er).events.pipe((0,rr.h)(te=>te instanceof ds||te instanceof Da||te instanceof vl),(0,gt.U)(te=>te instanceof ds||te instanceof Da&&(0===te.code||1===te.code)&&null),(0,rr.h)(te=>null!==te),(0,Qu.q)(1)).subscribe(()=>{N()})})(()=>{N(!0),f=!0}),J.afterPreactivation=()=>(N(!0),f||te.closed?(0,pt.of)(void 0):te),J.initialNavigation()}))}}]).\u0275providers:[]]}const ph=new v.OlP(""),zd={headers:new wn.WM({"Content-Type":"application/json",responseType:"text","Access-Control-Allow-Origin":"*"})};let mh=(()=>{class a{constructor(s){this.http=s}getOverviewData(){return this.http.get("http://localhost:3107/api/home/overview",zd)}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(wn.eN))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function tc(a,o){if(1&a&&(v.TgZ(0,"tr")(1,"td"),v._uU(2),v.qZA(),v.TgZ(3,"td"),v._uU(4),v.qZA()()),2&a){const s=o.$implicit;v.xp6(2),v.Oqu(s.city),v.xp6(2),v.Oqu(s.country)}}let nc=(()=>{class a{constructor(s){this.tableService=s}ngOnInit(){}fillTable(){this.tableService.getOverviewData().subscribe(s=>{this.places=s})}}return a.\u0275fac=function(s){return new(s||a)(v.Y36(mh))},a.\u0275cmp=v.Xpm({type:a,selectors:[["app-my-table"]],decls:13,vars:1,consts:[[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,f){1&s&&(v.TgZ(0,"h2"),v._uU(1,"Angular Element with shadow DOM"),v.qZA(),v.TgZ(2,"button",0),v.NdJ("click",function(){return f.fillTable()}),v._uU(3,"Fill the table"),v.qZA(),v._UZ(4,"br")(5,"br"),v.TgZ(6,"table")(7,"tr")(8,"th"),v._uU(9,"City"),v.qZA(),v.TgZ(10,"th"),v._uU(11,"Country"),v.qZA()(),v.YNc(12,tc,5,2,"tr",1),v.qZA()),2&s&&(v.xp6(12),v.Q6J("ngForOf",f.places))},dependencies:[x.sg],styles:["table{font-family:arial,sans-serif;border:1px solid #000000;width:80%}td,th{border:1px solid #000000;text-align:left;padding:8px}\n"],encapsulation:3}),a})();const lg=[{path:"",component:nc},{path:"**",redirectTo:"",pathMatch:"full"}];let rc=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=v.oAB({type:a}),a.\u0275inj=v.cJS({imports:[La.forRoot(lg),La]}),a})(),qd=(()=>{class a{constructor(){this.title="frontend"}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275cmp=v.Xpm({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(s,f){1&s&&v._UZ(0,"router-outlet")},dependencies:[hu]}),a})();const ic={issuer:"http://localhost:8080/realms/POC",redirectUri:"http://localhost:4100",clientId:"remote-frontend",scope:"openid profile email",showDebugInformation:!0};var Yd=D(5861);const Jd=new v.OlP("JWT_OPTIONS");let mi=(()=>{class a{constructor(s=null){this.tokenGetter=s&&s.tokenGetter||function(){}}urlBase64Decode(s){let f=s.replace(/-/g,"+").replace(/_/g,"/");switch(f.length%4){case 0:break;case 2:f+="==";break;case 3:f+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(f)}b64decode(s){let E="";if((s=String(s).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let J,te,N=0,Ce=0;te=s.charAt(Ce++);~te&&(J=N%4?64*J+te:te,N++%4)?E+=String.fromCharCode(255&J>>(-2*N&6)):0)te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(te);return E}b64DecodeUnicode(s){return decodeURIComponent(Array.prototype.map.call(this.b64decode(s),f=>"%"+("00"+f.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(s=this.tokenGetter()){if(!s||""===s)return null;const f=s.split(".");if(3!==f.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const E=this.urlBase64Decode(f[1]);if(!E)throw new Error("Cannot decode the token.");return JSON.parse(E)}getTokenExpirationDate(s=this.tokenGetter()){let f;if(f=this.decodeToken(s),!f||!f.hasOwnProperty("exp"))return null;const E=new Date(0);return E.setUTCSeconds(f.exp),E}isTokenExpired(s=this.tokenGetter(),f){if(!s||""===s)return!0;const E=this.getTokenExpirationDate(s);return f=f||0,null!==E&&!(E.valueOf()>(new Date).valueOf()+1e3*f)}getAuthScheme(s,f){return"function"==typeof s?s(f):s}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(Jd))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac}),a})();var sc=D(2573);class Xd extends En.z0{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(o,s=!1){if(!o.idToken)throw new Error("Parameter idToken expected!");if(!o.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!o.jwks)throw new Error("Parameter jwks expected!");if(!o.jwks.keys||!Array.isArray(o.jwks.keys)||0===o.jwks.keys.length)throw new Error("Array keys in jwks missing!");let N,f=o.idTokenHeader.kid,E=o.jwks.keys,J=o.idTokenHeader.alg;if(f)N=E.find(dt=>dt.kid===f);else{let dt=this.alg2kty(J),st=E.filter(qt=>qt.kty===dt&&"sig"===qt.use);if(st.length>1){let qt="More than one matching key found. Please specify a kid in the id_token header.";return console.error(qt),Promise.reject(qt)}1===st.length&&(N=st[0])}if(!N&&!s&&o.loadKeys)return o.loadKeys().then(dt=>o.jwks=dt).then(dt=>this.validateSignature(o,!0));if(!N&&s&&!f){let dt="No matching key found.";return console.error(dt),Promise.reject(dt)}if(!N&&s&&f){let dt="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+f;return console.error(dt),Promise.reject(dt)}let te=sc.KZ.getKey(N);return sc.fs.jws.JWS.verifyJWT(o.idToken,te,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(o){switch(o.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+o)}}calcHash(o,s){let E=new sc.fs.crypto.MessageDigest({alg:s}).digestString(o),N=this.toByteArrayAsString(E);return Promise.resolve(N)}toByteArrayAsString(o){let s="";for(let f=0;f<o.length;f+=2){let E=o.charAt(f)+o.charAt(f+1),N=parseInt(E,16);s+=String.fromCharCode(N)}return s}}let Qd=(()=>{class a{constructor(s){this.oauthService=s}logout(){this.oauthService.logOut()}getIsLogged(){return this.oauthService.hasValidIdToken()&&this.oauthService.hasValidAccessToken()}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(En.Ct))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ef=(()=>{class a{constructor(s,f){this.oauthService=s,this.loginService=f,this.jwtHelperService=new mi,this.authorizationCodeFound=this.configure(),this.authorizationCodeFound.then(E=>{console.log(E),E&&this.oauthService.hasValidAccessToken()?this.updateData():this.oauthService.initCodeFlow()})}configure(){var s=this;return(0,Yd.Z)(function*(){return s.oauthService.configure(ic),s.oauthService.tokenValidationHandler=new Xd,s.oauthService.setupAutomaticSilentRefresh(),s.oauthService.loadDiscoveryDocumentAndTryLogin()})()}getUsername(){return this.username}getIsLogged(){return this.isLogged}logout(){this.oauthService.logOut()}getAccessToken(){return this.oauthService.getAccessToken()}updateData(){const s=this.jwtHelperService.decodeToken(this.oauthService.getAccessToken());console.log(s);const f=JSON.parse(JSON.stringify(s));this.isLogged=this.loginService.getIsLogged(),this.username=f.preferred_username}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(En.Ct),v.LFG(Qd))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),vh=(()=>{class a{constructor(s,f){if(this.authService=s,this.injector=f,!this.authService.authorizationCodeFound)throw new Error("AppModule stopping.");if(null==customElements.get("my-private-table")){const E=function si(a,o){const s=function qr(a,o){return o.get(v._Vd).resolveComponentFactory(a).inputs}(a,o.injector),f=o.strategyFactory||new ki(a,o.injector),E=function Ei(a){const o={};return a.forEach(({propName:s,templateName:f})=>{o[function ti(a){return a.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}(f)]=s}),o}(s);class N extends Sr{constructor(te){super(),this.injector=te}get ngElementStrategy(){if(!this._ngElementStrategy){const te=this._ngElementStrategy=f.create(this.injector||o.injector);s.forEach(({propName:Ce})=>{if(!this.hasOwnProperty(Ce))return;const Xe=this[Ce];delete this[Ce],te.setInputValue(Ce,Xe)})}return this._ngElementStrategy}attributeChangedCallback(te,Ce,Xe,dt){this.ngElementStrategy.setInputValue(E[te],Xe)}connectedCallback(){let te=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),te=!0),this.ngElementStrategy.connect(this),te||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(te=>{const Ce=new CustomEvent(te.name,{detail:te.value});this.dispatchEvent(Ce)})}}return N.observedAttributes=Object.keys(E),s.forEach(({propName:J})=>{Object.defineProperty(N.prototype,J,{get(){return this.ngElementStrategy.getInputValue(J)},set(te){this.ngElementStrategy.setInputValue(J,te)},configurable:!0,enumerable:!0})}),N}(nc,{injector:f});customElements.define("my-private-table",E)}}}return a.\u0275fac=function(s){return new(s||a)(v.LFG(ef),v.LFG(v.zs3))},a.\u0275mod=v.oAB({type:a,bootstrap:[qd]}),a.\u0275inj=v.cJS({providers:[{provide:En.Tg,useValue:ic}],imports:[Ds,rc,x.ez,wn.JF,Zn,En.zr.forRoot({resourceServer:{allowedUrls:["http://localhost:3107/api/home"],sendAccessToken:!0}}),rc]}),a})();(0,v.G48)(),ws().bootstrapModule(vh).catch(a=>console.error(a))},1302:function(ie,oe,D){var x;!function(v,j){var Q={};!function(v){"use strict";v.__esModule=!0,v.digestLength=32,v.blockSize=64;var j=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Q(ye,fe,Ne,_e,We){for(var Qe,je,at,Te,Re,et,It,nt,ze,Ze,be,Ae,Le;We>=64;){for(Qe=fe[0],je=fe[1],at=fe[2],Te=fe[3],Re=fe[4],et=fe[5],It=fe[6],nt=fe[7],Ze=0;Ze<16;Ze++)ye[Ze]=(255&Ne[be=_e+4*Ze])<<24|(255&Ne[be+1])<<16|(255&Ne[be+2])<<8|255&Ne[be+3];for(Ze=16;Ze<64;Ze++)ye[Ze]=((Ae=((ze=ye[Ze-2])>>>17|ze<<15)^(ze>>>19|ze<<13)^ze>>>10)+ye[Ze-7]|0)+((Le=((ze=ye[Ze-15])>>>7|ze<<25)^(ze>>>18|ze<<14)^ze>>>3)+ye[Ze-16]|0);for(Ze=0;Ze<64;Ze++)Ae=(((Re>>>6|Re<<26)^(Re>>>11|Re<<21)^(Re>>>25|Re<<7))+(Re&et^~Re&It)|0)+(nt+(j[Ze]+ye[Ze]|0)|0)|0,Le=((Qe>>>2|Qe<<30)^(Qe>>>13|Qe<<19)^(Qe>>>22|Qe<<10))+(Qe&je^Qe&at^je&at)|0,nt=It,It=et,et=Re,Re=Te+Ae|0,Te=at,at=je,je=Qe,Qe=Ae+Le|0;fe[0]+=Qe,fe[1]+=je,fe[2]+=at,fe[3]+=Te,fe[4]+=Re,fe[5]+=et,fe[6]+=It,fe[7]+=nt,_e+=64,We-=64}return _e}var Y=function(){function ye(){this.digestLength=v.digestLength,this.blockSize=v.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return ye.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},ye.prototype.clean=function(){for(var fe=0;fe<this.buffer.length;fe++)this.buffer[fe]=0;for(fe=0;fe<this.temp.length;fe++)this.temp[fe]=0;this.reset()},ye.prototype.update=function(fe,Ne){if(void 0===Ne&&(Ne=fe.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var _e=0;if(this.bytesHashed+=Ne,this.bufferLength>0){for(;this.bufferLength<64&&Ne>0;)this.buffer[this.bufferLength++]=fe[_e++],Ne--;64===this.bufferLength&&(Q(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(Ne>=64&&(_e=Q(this.temp,this.state,fe,_e,Ne),Ne%=64);Ne>0;)this.buffer[this.bufferLength++]=fe[_e++],Ne--;return this},ye.prototype.finish=function(fe){if(!this.finished){var Ne=this.bytesHashed,_e=this.bufferLength,We=Ne/536870912|0,Qe=Ne<<3,je=Ne%64<56?64:128;this.buffer[_e]=128;for(var at=_e+1;at<je-8;at++)this.buffer[at]=0;this.buffer[je-8]=We>>>24&255,this.buffer[je-7]=We>>>16&255,this.buffer[je-6]=We>>>8&255,this.buffer[je-5]=We>>>0&255,this.buffer[je-4]=Qe>>>24&255,this.buffer[je-3]=Qe>>>16&255,this.buffer[je-2]=Qe>>>8&255,this.buffer[je-1]=Qe>>>0&255,Q(this.temp,this.state,this.buffer,0,je),this.finished=!0}for(at=0;at<8;at++)fe[4*at+0]=this.state[at]>>>24&255,fe[4*at+1]=this.state[at]>>>16&255,fe[4*at+2]=this.state[at]>>>8&255,fe[4*at+3]=this.state[at]>>>0&255;return this},ye.prototype.digest=function(){var fe=new Uint8Array(this.digestLength);return this.finish(fe),fe},ye.prototype._saveState=function(fe){for(var Ne=0;Ne<this.state.length;Ne++)fe[Ne]=this.state[Ne]},ye.prototype._restoreState=function(fe,Ne){for(var _e=0;_e<this.state.length;_e++)this.state[_e]=fe[_e];this.bytesHashed=Ne,this.finished=!1,this.bufferLength=0},ye}();v.Hash=Y;var ue=function(){function ye(fe){this.inner=new Y,this.outer=new Y,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var Ne=new Uint8Array(this.blockSize);if(fe.length>this.blockSize)(new Y).update(fe).finish(Ne).clean();else for(var _e=0;_e<fe.length;_e++)Ne[_e]=fe[_e];for(_e=0;_e<Ne.length;_e++)Ne[_e]^=54;for(this.inner.update(Ne),_e=0;_e<Ne.length;_e++)Ne[_e]^=106;for(this.outer.update(Ne),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),_e=0;_e<Ne.length;_e++)Ne[_e]=0}return ye.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},ye.prototype.clean=function(){for(var fe=0;fe<this.istate.length;fe++)this.ostate[fe]=this.istate[fe]=0;this.inner.clean(),this.outer.clean()},ye.prototype.update=function(fe){return this.inner.update(fe),this},ye.prototype.finish=function(fe){return this.outer.finished?this.outer.finish(fe):(this.inner.finish(fe),this.outer.update(fe,this.digestLength).finish(fe)),this},ye.prototype.digest=function(){var fe=new Uint8Array(this.digestLength);return this.finish(fe),fe},ye}();function Ee(ye){var fe=(new Y).update(ye),Ne=fe.digest();return fe.clean(),Ne}function Fe(ye,fe){var Ne=new ue(ye).update(fe),_e=Ne.digest();return Ne.clean(),_e}function he(ye,fe,Ne,_e){var We=_e[0];if(0===We)throw new Error("hkdf: cannot expand more");fe.reset(),We>1&&fe.update(ye),Ne&&fe.update(Ne),fe.update(_e),fe.finish(ye),_e[0]++}v.HMAC=ue,v.hash=Ee,v.default=Ee,v.hmac=Fe;var ve=new Uint8Array(v.digestLength);v.hkdf=function ce(ye,fe,Ne,_e){void 0===fe&&(fe=ve),void 0===_e&&(_e=32);for(var We=new Uint8Array([1]),Qe=Fe(fe,ye),je=new ue(Qe),at=new Uint8Array(je.digestLength),Te=at.length,Re=new Uint8Array(_e),et=0;et<_e;et++)Te===at.length&&(he(at,je,Ne,We),Te=0),Re[et]=at[Te++];return je.clean(),at.fill(0),We.fill(0),Re},v.pbkdf2=function G(ye,fe,Ne,_e){for(var We=new ue(ye),Qe=We.digestLength,je=new Uint8Array(4),at=new Uint8Array(Qe),Te=new Uint8Array(Qe),Re=new Uint8Array(_e),et=0;et*Qe<_e;et++){var It=et+1;je[0]=It>>>24&255,je[1]=It>>>16&255,je[2]=It>>>8&255,je[3]=It>>>0&255,We.reset(),We.update(fe),We.update(je),We.finish(Te);for(var nt=0;nt<Qe;nt++)at[nt]=Te[nt];for(nt=2;nt<=Ne;nt++){We.reset(),We.update(Te).finish(Te);for(var ze=0;ze<Qe;ze++)at[ze]^=Te[ze]}for(nt=0;nt<Qe&&et*Qe+nt<_e;nt++)Re[et*Qe+nt]=at[nt]}for(et=0;et<Qe;et++)at[et]=Te[et]=0;for(et=0;et<4;et++)je[et]=0;return We.clean(),Re}}(Q);var Y=Q.default;for(var ue in Q)Y[ue]=Q[ue];"object"==typeof ie.exports?ie.exports=Y:void 0!==(x=function(){return Y}.call(Q,D,Q,ie))&&(ie.exports=x)}()},2573:(ie,oe)=>{var r,l,h,p,y,_,w,A,M,B,b,u,x={userAgent:!1},v={},j=j||(r=Math,h=(l={}).lib={},p=h.Base=function(){function S(){}return{extend:function(O){S.prototype=this;var F=new S;return O&&F.mixIn(O),F.hasOwnProperty("init")||(F.init=function(){F.$super.init.apply(this,arguments)}),F.init.prototype=F,F.$super=this,F},create:function(){var O=this.extend();return O.init.apply(O,arguments),O},init:function(){},mixIn:function(O){for(var F in O)O.hasOwnProperty(F)&&(this[F]=O[F]);O.hasOwnProperty("toString")&&(this.toString=O.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=h.WordArray=p.extend({init:function(S,O){S=this.words=S||[],this.sigBytes=null!=O?O:4*S.length},toString:function(S){return(S||w).stringify(this)},concat:function(S){var O=this.words,F=S.words,H=this.sigBytes,R=S.sigBytes;if(this.clamp(),H%4)for(var U=0;U<R;U++)O[H+U>>>2]|=(F[U>>>2]>>>24-U%4*8&255)<<24-(H+U)%4*8;else for(U=0;U<R;U+=4)O[H+U>>>2]=F[U>>>2];return this.sigBytes+=R,this},clamp:function(){var S=this.words,O=this.sigBytes;S[O>>>2]&=4294967295<<32-O%4*8,S.length=r.ceil(O/4)},clone:function(){var S=p.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var O=[],F=0;F<S;F+=4)O.push(4294967296*r.random()|0);return new y.init(O,S)}}),_=l.enc={},w=_.Hex={stringify:function(S){for(var O=S.words,F=S.sigBytes,H=[],R=0;R<F;R++){var U=O[R>>>2]>>>24-R%4*8&255;H.push((U>>>4).toString(16)),H.push((15&U).toString(16))}return H.join("")},parse:function(S){for(var O=S.length,F=[],H=0;H<O;H+=2)F[H>>>3]|=parseInt(S.substr(H,2),16)<<24-H%8*4;return new y.init(F,O/2)}},A=_.Latin1={stringify:function(S){for(var O=S.words,F=S.sigBytes,H=[],R=0;R<F;R++)H.push(String.fromCharCode(O[R>>>2]>>>24-R%4*8&255));return H.join("")},parse:function(S){for(var O=S.length,F=[],H=0;H<O;H++)F[H>>>2]|=(255&S.charCodeAt(H))<<24-H%4*8;return new y.init(F,O)}},M=_.Utf8={stringify:function(S){try{return decodeURIComponent(escape(A.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return A.parse(unescape(encodeURIComponent(S)))}},B=h.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(S){"string"==typeof S&&(S=M.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var O=this._data,F=O.words,H=O.sigBytes,R=this.blockSize,X=H/(4*R),ne=(X=S?r.ceil(X):r.max((0|X)-this._minBufferSize,0))*R,ee=r.min(4*ne,H);if(ne){for(var Se=0;Se<ne;Se+=R)this._doProcessBlock(F,Se);var $=F.splice(0,ne);O.sigBytes-=ee}return new y.init($,ee)},clone:function(){var S=p.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),h.Hasher=B.extend({cfg:p.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){B.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){return S&&this._append(S),this._doFinalize()},blockSize:16,_createHelper:function(S){return function(O,F){return new S.init(F).finalize(O)}},_createHmacHelper:function(S){return function(O,F){return new b.HMAC.init(S,F).finalize(O)}}}),b=l.algo={},l);(function(r){var p,u=(p=j).lib,l=u.Base,h=u.WordArray;(p=p.x64={}).Word=l.extend({init:function(y,_){this.high=y,this.low=_}}),p.WordArray=l.extend({init:function(y,_){y=this.words=y||[],this.sigBytes=null!=_?_:8*y.length},toX32:function(){for(var y=this.words,_=y.length,w=[],A=0;A<_;A++){var M=y[A];w.push(M.high),w.push(M.low)}return h.create(w,this.sigBytes)},clone:function(){for(var y=l.clone.call(this),_=y.words=this.words.slice(0),w=_.length,A=0;A<w;A++)_[A]=_[A].clone();return y}})})(),j.lib.Cipher||function(r){var u=(S=j).lib,l=u.Base,h=u.WordArray,p=u.BufferedBlockAlgorithm,y=S.enc.Base64,_=S.algo.EvpKDF,w=u.Cipher=p.extend({cfg:l.extend(),createEncryptor:function(F,H){return this.create(this._ENC_XFORM_MODE,F,H)},createDecryptor:function(F,H){return this.create(this._DEC_XFORM_MODE,F,H)},init:function(F,H,R){this.cfg=this.cfg.extend(R),this._xformMode=F,this._key=H,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(F){return this._append(F),this._process()},finalize:function(F){return F&&this._append(F),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(F){return{encrypt:function(H,R,U){return("string"==typeof R?O:b).encrypt(F,H,R,U)},decrypt:function(H,R,U){return("string"==typeof R?O:b).decrypt(F,H,R,U)}}}});u.StreamCipher=w.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var k=S.mode={},A=function(F,H,R){var U=this._iv;U?this._iv=void 0:U=this._prevBlock;for(var X=0;X<R;X++)F[H+X]^=U[X]},M=(u.BlockCipherMode=l.extend({createEncryptor:function(F,H){return this.Encryptor.create(F,H)},createDecryptor:function(F,H){return this.Decryptor.create(F,H)},init:function(F,H){this._cipher=F,this._iv=H}})).extend();M.Encryptor=M.extend({processBlock:function(F,H){var R=this._cipher,U=R.blockSize;A.call(this,F,H,U),R.encryptBlock(F,H),this._prevBlock=F.slice(H,H+U)}}),M.Decryptor=M.extend({processBlock:function(F,H){var R=this._cipher,U=R.blockSize,X=F.slice(H,H+U);R.decryptBlock(F,H),A.call(this,F,H,U),this._prevBlock=X}}),k=k.CBC=M,M=(S.pad={}).Pkcs7={pad:function(F,H){for(var R,U=(R=(R=4*H)-F.sigBytes%R)<<24|R<<16|R<<8|R,X=[],ne=0;ne<R;ne+=4)X.push(U);R=h.create(X,R),F.concat(R)},unpad:function(F){F.sigBytes-=255&F.words[F.sigBytes-1>>>2]}},u.BlockCipher=w.extend({cfg:w.cfg.extend({mode:k,padding:M}),reset:function(){w.reset.call(this);var F=(H=this.cfg).iv,H=H.mode;if(this._xformMode==this._ENC_XFORM_MODE)var R=H.createEncryptor;else R=H.createDecryptor,this._minBufferSize=1;this._mode=R.call(H,this,F&&F.words)},_doProcessBlock:function(F,H){this._mode.processBlock(F,H)},_doFinalize:function(){var F=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){F.pad(this._data,this.blockSize);var H=this._process(!0)}else H=this._process(!0),F.unpad(H);return H},blockSize:4});var B=u.CipherParams=l.extend({init:function(F){this.mixIn(F)},toString:function(F){return(F||this.formatter).stringify(this)}}),b=(k=(S.format={}).OpenSSL={stringify:function(F){var H=F.ciphertext;return((F=F.salt)?h.create([1398893684,1701076831]).concat(F).concat(H):H).toString(y)},parse:function(F){var H=(F=y.parse(F)).words;if(1398893684==H[0]&&1701076831==H[1]){var R=h.create(H.slice(2,4));H.splice(0,4),F.sigBytes-=16}return B.create({ciphertext:F,salt:R})}},u.SerializableCipher=l.extend({cfg:l.extend({format:k}),encrypt:function(F,H,R,U){U=this.cfg.extend(U);var X=F.createEncryptor(R,U);return H=X.finalize(H),B.create({ciphertext:H,key:R,iv:(X=X.cfg).iv,algorithm:F,mode:X.mode,padding:X.padding,blockSize:F.blockSize,formatter:U.format})},decrypt:function(F,H,R,U){return U=this.cfg.extend(U),H=this._parse(H,U.format),F.createDecryptor(R,U).finalize(H.ciphertext)},_parse:function(F,H){return"string"==typeof F?H.parse(F,this):F}})),S=(S.kdf={}).OpenSSL={execute:function(F,H,R,U){return U||(U=h.random(8)),F=_.create({keySize:H+R}).compute(F,U),R=h.create(F.words.slice(H),4*R),F.sigBytes=4*H,B.create({key:F,iv:R,salt:U})}},O=u.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:S}),encrypt:function(F,H,R,U){return R=(U=this.cfg.extend(U)).kdf.execute(R,F.keySize,F.ivSize),U.iv=R.iv,(F=b.encrypt.call(this,F,H,R.key,U)).mixIn(R),F},decrypt:function(F,H,R,U){return U=this.cfg.extend(U),H=this._parse(H,U.format),R=U.kdf.execute(R,F.keySize,F.ivSize,H.salt),U.iv=R.iv,b.decrypt.call(this,F,H,R.key,U)}})}(),function(){for(var r=j,u=r.lib.BlockCipher,Se=r.algo,l=[],h=[],p=[],y=[],_=[],w=[],A=[],M=[],B=[],k=[],b=[],S=0;256>S;S++)b[S]=128>S?S<<1:S<<1^283;var O=0,F=0;for(S=0;256>S;S++){var H;l[O]=H=(H=F^F<<1^F<<2^F<<3^F<<4)>>>8^255&H^99,h[H]=O;var R=b[O],U=b[R],X=b[U],ne=257*b[H]^16843008*H;p[O]=ne<<24|ne>>>8,y[O]=ne<<16|ne>>>16,_[O]=ne<<8|ne>>>24,w[O]=ne,A[H]=(ne=16843009*X^65537*U^257*R^16843008*O)<<24|ne>>>8,M[H]=ne<<16|ne>>>16,B[H]=ne<<8|ne>>>24,k[H]=ne,O?(O=R^b[b[b[X^R]]],F^=b[b[F]]):O=F=1}var ee=[0,1,2,4,8,16,32,64,128,27,54];Se=Se.AES=u.extend({_doReset:function(){for(var $=(Z=this._key).words,W=Z.sigBytes/4,Z=4*((this._nRounds=W+6)+1),se=this._keySchedule=[],me=0;me<Z;me++)if(me<W)se[me]=$[me];else{var we=se[me-1];me%W?6<W&&me%W==4&&(we=l[we>>>24]<<24|l[we>>>16&255]<<16|l[we>>>8&255]<<8|l[255&we]):(we=l[(we=we<<8|we>>>24)>>>24]<<24|l[we>>>16&255]<<16|l[we>>>8&255]<<8|l[255&we],we^=ee[me/W|0]<<24),se[me]=se[me-W]^we}for($=this._invKeySchedule=[],W=0;W<Z;W++)me=Z-W,we=W%4?se[me]:se[me-4],$[W]=4>W||4>=me?we:A[l[we>>>24]]^M[l[we>>>16&255]]^B[l[we>>>8&255]]^k[l[255&we]]},encryptBlock:function($,W){this._doCryptBlock($,W,this._keySchedule,p,y,_,w,l)},decryptBlock:function($,W){var Z=$[W+1];$[W+1]=$[W+3],$[W+3]=Z,this._doCryptBlock($,W,this._invKeySchedule,A,M,B,k,h),Z=$[W+1],$[W+1]=$[W+3],$[W+3]=Z},_doCryptBlock:function($,W,Z,se,me,we,$e,ge){for(var Ie=this._nRounds,kt=$[W]^Z[0],vn=$[W+1]^Z[1],Qt=$[W+2]^Z[2],Pt=$[W+3]^Z[3],De=4,Me=1;Me<Ie;Me++){var Ct=se[kt>>>24]^me[vn>>>16&255]^we[Qt>>>8&255]^$e[255&Pt]^Z[De++],ft=se[vn>>>24]^me[Qt>>>16&255]^we[Pt>>>8&255]^$e[255&kt]^Z[De++],_t=se[Qt>>>24]^me[Pt>>>16&255]^we[kt>>>8&255]^$e[255&vn]^Z[De++];Pt=se[Pt>>>24]^me[kt>>>16&255]^we[vn>>>8&255]^$e[255&Qt]^Z[De++],kt=Ct,vn=ft,Qt=_t}Ct=(ge[kt>>>24]<<24|ge[vn>>>16&255]<<16|ge[Qt>>>8&255]<<8|ge[255&Pt])^Z[De++],ft=(ge[vn>>>24]<<24|ge[Qt>>>16&255]<<16|ge[Pt>>>8&255]<<8|ge[255&kt])^Z[De++],_t=(ge[Qt>>>24]<<24|ge[Pt>>>16&255]<<16|ge[kt>>>8&255]<<8|ge[255&vn])^Z[De++],Pt=(ge[Pt>>>24]<<24|ge[kt>>>16&255]<<16|ge[vn>>>8&255]<<8|ge[255&Qt])^Z[De++],$[W]=Ct,$[W+1]=ft,$[W+2]=_t,$[W+3]=Pt},keySize:8}),r.AES=u._createHelper(Se)}(),function(){function r(b,S){var O=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=O,this._lBlock^=O<<b}function u(b,S){var O=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=O,this._rBlock^=O<<b}var p,l=j,h=(p=l.lib).WordArray,y=l.algo,_=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],w=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],A=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],B=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],k=y.DES=(p=p.BlockCipher).extend({_doReset:function(){for(var b=this._key.words,S=[],O=0;56>O;O++){var F=_[O]-1;S[O]=b[F>>>5]>>>31-F%32&1}for(b=this._subKeys=[],F=0;16>F;F++){var H=b[F]=[],R=A[F];for(O=0;24>O;O++)H[O/6|0]|=S[(w[O]-1+R)%28]<<31-O%6,H[4+(O/6|0)]|=S[28+(w[O+24]-1+R)%28]<<31-O%6;for(H[0]=H[0]<<1|H[0]>>>31,O=1;7>O;O++)H[O]>>>=4*(O-1)+3;H[7]=H[7]<<5|H[7]>>>27}for(S=this._invSubKeys=[],O=0;16>O;O++)S[O]=b[15-O]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,O){this._lBlock=b[S],this._rBlock=b[S+1],r.call(this,4,252645135),r.call(this,16,65535),u.call(this,2,858993459),u.call(this,8,16711935),r.call(this,1,1431655765);for(var F=0;16>F;F++){for(var H=O[F],R=this._lBlock,U=this._rBlock,X=0,ne=0;8>ne;ne++)X|=M[ne][((U^H[ne])&B[ne])>>>0];this._lBlock=U,this._rBlock=R^X}O=this._lBlock,this._lBlock=this._rBlock,this._rBlock=O,r.call(this,1,1431655765),u.call(this,8,16711935),u.call(this,2,858993459),r.call(this,16,65535),r.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});l.DES=p._createHelper(k),y=y.TripleDES=p.extend({_doReset:function(){var b=this._key.words;this._des1=k.createEncryptor(h.create(b.slice(0,2))),this._des2=k.createEncryptor(h.create(b.slice(2,4))),this._des3=k.createEncryptor(h.create(b.slice(4,6)))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:6,ivSize:2,blockSize:2}),l.TripleDES=p._createHelper(y)}(),u=j.lib.WordArray,j.enc.Base64={stringify:function(l){var h=l.words,p=l.sigBytes,y=this._map;l.clamp(),l=[];for(var _=0;_<p;_+=3)for(var w=(h[_>>>2]>>>24-_%4*8&255)<<16|(h[_+1>>>2]>>>24-(_+1)%4*8&255)<<8|h[_+2>>>2]>>>24-(_+2)%4*8&255,A=0;4>A&&_+.75*A<p;A++)l.push(y.charAt(w>>>6*(3-A)&63));if(h=y.charAt(64))for(;l.length%4;)l.push(h);return l.join("")},parse:function(l){var h=l.length,p=this._map;(y=p.charAt(64))&&-1!=(y=l.indexOf(y))&&(h=y);for(var y=[],_=0,w=0;w<h;w++)if(w%4){var A=p.indexOf(l.charAt(w-1))<<w%4*2,M=p.indexOf(l.charAt(w))>>>6-w%4*2;y[_>>>2]|=(A|M)<<24-_%4*8,_++}return u.create(y,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(r){function u(k,b,S,O,F,H,R){return((k=k+(b&S|~b&O)+F+R)<<H|k>>>32-H)+b}function l(k,b,S,O,F,H,R){return((k=k+(b&O|S&~O)+F+R)<<H|k>>>32-H)+b}function h(k,b,S,O,F,H,R){return((k=k+(b^S^O)+F+R)<<H|k>>>32-H)+b}function p(k,b,S,O,F,H,R){return((k=k+(S^(b|~O))+F+R)<<H|k>>>32-H)+b}for(var y=j,_=(A=y.lib).WordArray,w=A.Hasher,A=y.algo,M=[],B=0;64>B;B++)M[B]=4294967296*r.abs(r.sin(B+1))|0;A=A.MD5=w.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,b){for(var S=0;16>S;S++)k[O=b+S]=16711935&((F=k[O])<<8|F>>>24)|4278255360&(F<<24|F>>>8);var O,F=k[b+1],H=k[b+2],R=k[b+3],U=k[b+4],X=k[b+5],ne=k[b+6],ee=k[b+7],Se=k[b+8],$=k[b+9],W=k[b+10],Z=k[b+11],se=k[b+12],me=k[b+13],we=k[b+14],$e=k[b+15],ge=u(ge=(S=this._hash.words)[0],Me=S[1],De=S[2],Ie=S[3],O=k[b+0],7,M[0]),Ie=u(Ie,ge,Me,De,F,12,M[1]),De=u(De,Ie,ge,Me,H,17,M[2]),Me=u(Me,De,Ie,ge,R,22,M[3]);ge=u(ge,Me,De,Ie,U,7,M[4]),Ie=u(Ie,ge,Me,De,X,12,M[5]),De=u(De,Ie,ge,Me,ne,17,M[6]),Me=u(Me,De,Ie,ge,ee,22,M[7]),ge=u(ge,Me,De,Ie,Se,7,M[8]),Ie=u(Ie,ge,Me,De,$,12,M[9]),De=u(De,Ie,ge,Me,W,17,M[10]),Me=u(Me,De,Ie,ge,Z,22,M[11]),ge=u(ge,Me,De,Ie,se,7,M[12]),Ie=u(Ie,ge,Me,De,me,12,M[13]),De=u(De,Ie,ge,Me,we,17,M[14]),ge=l(ge,Me=u(Me,De,Ie,ge,$e,22,M[15]),De,Ie,F,5,M[16]),Ie=l(Ie,ge,Me,De,ne,9,M[17]),De=l(De,Ie,ge,Me,Z,14,M[18]),Me=l(Me,De,Ie,ge,O,20,M[19]),ge=l(ge,Me,De,Ie,X,5,M[20]),Ie=l(Ie,ge,Me,De,W,9,M[21]),De=l(De,Ie,ge,Me,$e,14,M[22]),Me=l(Me,De,Ie,ge,U,20,M[23]),ge=l(ge,Me,De,Ie,$,5,M[24]),Ie=l(Ie,ge,Me,De,we,9,M[25]),De=l(De,Ie,ge,Me,R,14,M[26]),Me=l(Me,De,Ie,ge,Se,20,M[27]),ge=l(ge,Me,De,Ie,me,5,M[28]),Ie=l(Ie,ge,Me,De,H,9,M[29]),De=l(De,Ie,ge,Me,ee,14,M[30]),ge=h(ge,Me=l(Me,De,Ie,ge,se,20,M[31]),De,Ie,X,4,M[32]),Ie=h(Ie,ge,Me,De,Se,11,M[33]),De=h(De,Ie,ge,Me,Z,16,M[34]),Me=h(Me,De,Ie,ge,we,23,M[35]),ge=h(ge,Me,De,Ie,F,4,M[36]),Ie=h(Ie,ge,Me,De,U,11,M[37]),De=h(De,Ie,ge,Me,ee,16,M[38]),Me=h(Me,De,Ie,ge,W,23,M[39]),ge=h(ge,Me,De,Ie,me,4,M[40]),Ie=h(Ie,ge,Me,De,O,11,M[41]),De=h(De,Ie,ge,Me,R,16,M[42]),Me=h(Me,De,Ie,ge,ne,23,M[43]),ge=h(ge,Me,De,Ie,$,4,M[44]),Ie=h(Ie,ge,Me,De,se,11,M[45]),De=h(De,Ie,ge,Me,$e,16,M[46]),ge=p(ge,Me=h(Me,De,Ie,ge,H,23,M[47]),De,Ie,O,6,M[48]),Ie=p(Ie,ge,Me,De,ee,10,M[49]),De=p(De,Ie,ge,Me,we,15,M[50]),Me=p(Me,De,Ie,ge,X,21,M[51]),ge=p(ge,Me,De,Ie,se,6,M[52]),Ie=p(Ie,ge,Me,De,R,10,M[53]),De=p(De,Ie,ge,Me,W,15,M[54]),Me=p(Me,De,Ie,ge,F,21,M[55]),ge=p(ge,Me,De,Ie,Se,6,M[56]),Ie=p(Ie,ge,Me,De,$e,10,M[57]),De=p(De,Ie,ge,Me,ne,15,M[58]),Me=p(Me,De,Ie,ge,me,21,M[59]),ge=p(ge,Me,De,Ie,U,6,M[60]),Ie=p(Ie,ge,Me,De,Z,10,M[61]),De=p(De,Ie,ge,Me,H,15,M[62]),Me=p(Me,De,Ie,ge,$,21,M[63]),S[0]=S[0]+ge|0,S[1]=S[1]+Me|0,S[2]=S[2]+De|0,S[3]=S[3]+Ie|0},_doFinalize:function(){var k=this._data,b=k.words,S=8*this._nDataBytes,O=8*k.sigBytes;b[O>>>5]|=128<<24-O%32;var F=r.floor(S/4294967296);for(b[15+(O+64>>>9<<4)]=16711935&(F<<8|F>>>24)|4278255360&(F<<24|F>>>8),b[14+(O+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),k.sigBytes=4*(b.length+1),this._process(),b=(k=this._hash).words,S=0;4>S;S++)b[S]=16711935&((O=b[S])<<8|O>>>24)|4278255360&(O<<24|O>>>8);return k},clone:function(){var k=w.clone.call(this);return k._hash=this._hash.clone(),k}}),y.MD5=w._createHelper(A),y.HmacMD5=w._createHmacHelper(A)}(Math),function(){var r=j,u=(p=r.lib).WordArray,l=p.Hasher,h=[],p=r.algo.SHA1=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,_){for(var w=this._hash.words,A=w[0],M=w[1],B=w[2],k=w[3],b=w[4],S=0;80>S;S++){if(16>S)h[S]=0|y[_+S];else{var O=h[S-3]^h[S-8]^h[S-14]^h[S-16];h[S]=O<<1|O>>>31}O=(A<<5|A>>>27)+b+h[S],O=20>S?O+(1518500249+(M&B|~M&k)):40>S?O+(1859775393+(M^B^k)):60>S?O+((M&B|M&k|B&k)-1894007588):O+((M^B^k)-899497514),b=k,k=B,B=M<<30|M>>>2,M=A,A=O}w[0]=w[0]+A|0,w[1]=w[1]+M|0,w[2]=w[2]+B|0,w[3]=w[3]+k|0,w[4]=w[4]+b|0},_doFinalize:function(){var y=this._data,_=y.words,w=8*this._nDataBytes,A=8*y.sigBytes;return _[A>>>5]|=128<<24-A%32,_[14+(A+64>>>9<<4)]=Math.floor(w/4294967296),_[15+(A+64>>>9<<4)]=w,y.sigBytes=4*_.length,this._process(),this._hash},clone:function(){var y=l.clone.call(this);return y._hash=this._hash.clone(),y}});r.SHA1=l._createHelper(p),r.HmacSHA1=l._createHmacHelper(p)}(),function(r){for(var u=j,l=(S=u.lib).WordArray,h=S.Hasher,S=u.algo,p=[],y=[],_=function(F){return 4294967296*(F-(0|F))|0},w=2,A=0;64>A;){var M;e:{for(var B=r.sqrt(M=w),k=2;k<=B;k++)if(!(M%k)){M=!1;break e}M=!0}M&&(8>A&&(p[A]=_(r.pow(w,.5))),y[A]=_(r.pow(w,1/3)),A++),w++}var b=[];S=S.SHA256=h.extend({_doReset:function(){this._hash=new l.init(p.slice(0))},_doProcessBlock:function(O,F){for(var H=this._hash.words,R=H[0],U=H[1],X=H[2],ne=H[3],ee=H[4],Se=H[5],$=H[6],W=H[7],Z=0;64>Z;Z++){if(16>Z)b[Z]=0|O[F+Z];else{var se=b[Z-15],me=b[Z-2];b[Z]=((se<<25|se>>>7)^(se<<14|se>>>18)^se>>>3)+b[Z-7]+((me<<15|me>>>17)^(me<<13|me>>>19)^me>>>10)+b[Z-16]}se=W+((ee<<26|ee>>>6)^(ee<<21|ee>>>11)^(ee<<7|ee>>>25))+(ee&Se^~ee&$)+y[Z]+b[Z],me=((R<<30|R>>>2)^(R<<19|R>>>13)^(R<<10|R>>>22))+(R&U^R&X^U&X),W=$,$=Se,Se=ee,ee=ne+se|0,ne=X,X=U,U=R,R=se+me|0}H[0]=H[0]+R|0,H[1]=H[1]+U|0,H[2]=H[2]+X|0,H[3]=H[3]+ne|0,H[4]=H[4]+ee|0,H[5]=H[5]+Se|0,H[6]=H[6]+$|0,H[7]=H[7]+W|0},_doFinalize:function(){var O=this._data,F=O.words,H=8*this._nDataBytes,R=8*O.sigBytes;return F[R>>>5]|=128<<24-R%32,F[14+(R+64>>>9<<4)]=r.floor(H/4294967296),F[15+(R+64>>>9<<4)]=H,O.sigBytes=4*F.length,this._process(),this._hash},clone:function(){var O=h.clone.call(this);return O._hash=this._hash.clone(),O}}),u.SHA256=h._createHelper(S),u.HmacSHA256=h._createHmacHelper(S)}(Math),function(){var r=j,u=r.lib.WordArray,l=(h=r.algo).SHA256,h=h.SHA224=l.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var p=l._doFinalize.call(this);return p.sigBytes-=4,p}});r.SHA224=l._createHelper(h),r.HmacSHA224=l._createHmacHelper(h)}(),function(){function r(){return h.create.apply(h,arguments)}for(var u=j,l=u.lib.Hasher,h=(y=u.x64).Word,p=y.WordArray,y=u.algo,_=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],w=[],A=0;80>A;A++)w[A]=r();y=y.SHA512=l.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(M,B){for(var U,k=(U=this._hash.words)[0],b=U[1],S=U[2],O=U[3],F=U[4],H=U[5],R=U[6],X=k.high,ne=k.low,ee=b.high,Se=b.low,$=S.high,W=S.low,Z=O.high,se=O.low,me=F.high,we=F.low,$e=H.high,ge=H.low,Ie=R.high,De=R.low,Me=(U=U[7]).high,Ct=U.low,ft=X,_t=ne,Pt=ee,kt=Se,vn=$,Qt=W,dn=Z,_n=se,An=me,St=we,Zn=$e,di=ge,us=Ie,na=De,qu=Me,ra=Ct,fi=0;80>fi;fi++){var dr=w[fi];if(16>fi)var hr=dr.high=0|M[B+2*fi],en=dr.low=0|M[B+2*fi+1];else{hr=((en=(hr=w[fi-15]).high)>>>1|(pt=hr.low)<<31)^(en>>>8|pt<<24)^en>>>7;var pt=(pt>>>1|en<<31)^(pt>>>8|en<<24)^(pt>>>7|en<<25),Pn=((en=(Pn=w[fi-2]).high)>>>19|(Vt=Pn.low)<<13)^(en<<3|Vt>>>29)^en>>>6,Vt=(Vt>>>19|en<<13)^(Vt<<3|en>>>29)^(Vt>>>6|en<<26);dr.high=hr=(hr=(hr=hr+(Yu=(en=w[fi-7]).high)+((en=pt+en.low)>>>0<pt>>>0?1:0))+Pn+((en+=Vt)>>>0<Vt>>>0?1:0))+(Un=(ls=w[fi-16]).high)+((en+=ls=ls.low)>>>0<ls>>>0?1:0),dr.low=en}var Yu=An&Zn^~An&us,ls=St&di^~St&na,En=(dr=ft&Pt^ft&vn^Pt&vn,_t&kt^_t&Qt^kt&Qt),Ju=(Vt=_[fi]).high,ia=Vt.low,Un=qu+((An>>>14|St<<18)^(An>>>18|St<<14)^(An<<23|St>>>9))+((Vt=ra+((St>>>14|An<<18)^(St>>>18|An<<14)^(St<<23|An>>>9)))>>>0<ra>>>0?1:0);qu=us,ra=na,us=Zn,na=di,Zn=An,di=St,An=dn+(Un=(Un=(Un=Un+Yu+((Vt+=ls)>>>0<ls>>>0?1:0))+Ju+((Vt+=ia)>>>0<ia>>>0?1:0))+hr+((Vt+=en)>>>0<en>>>0?1:0))+((St=_n+Vt|0)>>>0<_n>>>0?1:0)|0,dn=vn,_n=Qt,vn=Pt,Qt=kt,Pt=ft,kt=_t,ft=Un+(dr=(pt=(ft>>>28|_t<<4)^(ft<<30|_t>>>2)^(ft<<25|_t>>>7))+dr+((en=(Pn=(_t>>>28|ft<<4)^(_t<<30|ft>>>2)^(_t<<25|ft>>>7))+En)>>>0<Pn>>>0?1:0))+((_t=Vt+en|0)>>>0<Vt>>>0?1:0)|0}ne=k.low=ne+_t,k.high=X+ft+(ne>>>0<_t>>>0?1:0),Se=b.low=Se+kt,b.high=ee+Pt+(Se>>>0<kt>>>0?1:0),W=S.low=W+Qt,S.high=$+vn+(W>>>0<Qt>>>0?1:0),se=O.low=se+_n,O.high=Z+dn+(se>>>0<_n>>>0?1:0),we=F.low=we+St,F.high=me+An+(we>>>0<St>>>0?1:0),ge=H.low=ge+di,H.high=$e+Zn+(ge>>>0<di>>>0?1:0),De=R.low=De+na,R.high=Ie+us+(De>>>0<na>>>0?1:0),Ct=U.low=Ct+ra,U.high=Me+qu+(Ct>>>0<ra>>>0?1:0)},_doFinalize:function(){var M=this._data,B=M.words,k=8*this._nDataBytes,b=8*M.sigBytes;return B[b>>>5]|=128<<24-b%32,B[30+(b+128>>>10<<5)]=Math.floor(k/4294967296),B[31+(b+128>>>10<<5)]=k,M.sigBytes=4*B.length,this._process(),this._hash.toX32()},clone:function(){var M=l.clone.call(this);return M._hash=this._hash.clone(),M},blockSize:32}),u.SHA512=l._createHelper(y),u.HmacSHA512=l._createHmacHelper(y)}(),function(){var r=j,u=(p=r.x64).Word,l=p.WordArray,h=(p=r.algo).SHA512,p=p.SHA384=h.extend({_doReset:function(){this._hash=new l.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var y=h._doFinalize.call(this);return y.sigBytes-=16,y}});r.SHA384=h._createHelper(p),r.HmacSHA384=h._createHmacHelper(p)}(),function(){var r=j,u=(M=r.lib).WordArray,l=M.Hasher,M=r.algo,h=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=u.create([0,1518500249,1859775393,2400959708,2840853838]),A=u.create([1352829926,1548603684,1836072691,2053994217,0]);M=M.RIPEMD160=l.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,k){for(var b=0;16>b;b++)B[S=k+b]=16711935&((O=B[S])<<8|O>>>24)|4278255360&(O<<24|O>>>8);var S,ne,ee,Se,$,W,Z,se,me,we,$e,ge,O=w.words,F=A.words,H=h.words,R=p.words,U=y.words,X=_.words;for(Z=ne=(S=this._hash.words)[0],se=ee=S[1],me=Se=S[2],we=$=S[3],$e=W=S[4],b=0;80>b;b+=1)ge=ne+B[k+H[b]]|0,ge=16>b?ge+((ee^Se^$)+O[0]):32>b?ge+((ee&Se|~ee&$)+O[1]):48>b?ge+(((ee|~Se)^$)+O[2]):64>b?ge+((ee&$|Se&~$)+O[3]):ge+((ee^(Se|~$))+O[4]),ge=(ge=(ge|=0)<<U[b]|ge>>>32-U[b])+W|0,ne=W,W=$,$=Se<<10|Se>>>22,Se=ee,ee=ge,ge=Z+B[k+R[b]]|0,ge=16>b?ge+((se^(me|~we))+F[0]):32>b?ge+((se&we|me&~we)+F[1]):48>b?ge+(((se|~me)^we)+F[2]):64>b?ge+((se&me|~se&we)+F[3]):ge+((se^me^we)+F[4]),ge=(ge=(ge|=0)<<X[b]|ge>>>32-X[b])+$e|0,Z=$e,$e=we,we=me<<10|me>>>22,me=se,se=ge;ge=S[1]+Se+we|0,S[1]=S[2]+$+$e|0,S[2]=S[3]+W+Z|0,S[3]=S[4]+ne+se|0,S[4]=S[0]+ee+me|0,S[0]=ge},_doFinalize:function(){var B=this._data,k=B.words,b=8*this._nDataBytes,S=8*B.sigBytes;for(k[S>>>5]|=128<<24-S%32,k[14+(S+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),B.sigBytes=4*(k.length+1),this._process(),k=(B=this._hash).words,b=0;5>b;b++)k[b]=16711935&((S=k[b])<<8|S>>>24)|4278255360&(S<<24|S>>>8);return B},clone:function(){var B=l.clone.call(this);return B._hash=this._hash.clone(),B}}),r.RIPEMD160=l._createHelper(M),r.HmacRIPEMD160=l._createHmacHelper(M)}(Math),function(){var u=j.enc.Utf8;j.algo.HMAC=j.lib.Base.extend({init:function(l,h){l=this._hasher=new l.init,"string"==typeof h&&(h=u.parse(h));var p=l.blockSize,y=4*p;h.sigBytes>y&&(h=l.finalize(h)),h.clamp();for(var _=this._oKey=h.clone(),w=this._iKey=h.clone(),A=_.words,M=w.words,B=0;B<p;B++)A[B]^=1549556828,M[B]^=909522486;_.sigBytes=w.sigBytes=y,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var h=this._hasher;return l=h.finalize(l),h.reset(),h.finalize(this._oKey.clone().concat(l))}})}(),function(){var h,r=j,u=(h=r.lib).Base,l=h.WordArray,p=(h=r.algo).HMAC,y=h.PBKDF2=u.extend({cfg:u.extend({keySize:4,hasher:h.SHA1,iterations:1}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,w){for(var A=p.create((O=this.cfg).hasher,_),M=l.create(),B=l.create([1]),k=M.words,b=B.words,S=O.keySize,O=O.iterations;k.length<S;){var F=A.update(w).finalize(B);A.reset();for(var H=F.words,R=H.length,U=F,X=1;X<O;X++){U=A.finalize(U),A.reset();for(var ne=U.words,ee=0;ee<R;ee++)H[ee]^=ne[ee]}M.concat(F),b[0]++}return M.sigBytes=4*S,M}});r.PBKDF2=function(_,w,A){return y.create(A).compute(_,w)}}();var he,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ue(r){var u,l,h="";for(u=0;u+3<=r.length;u+=3)l=parseInt(r.substring(u,u+3),16),h+=Q.charAt(l>>6)+Q.charAt(63&l);for(u+1==r.length?(l=parseInt(r.substring(u,u+1),16),h+=Q.charAt(l<<2)):u+2==r.length&&(l=parseInt(r.substring(u,u+2),16),h+=Q.charAt(l>>2)+Q.charAt((3&l)<<4));(3&h.length)>0;)h+="=";return h}function Ee(r){var l,p,y,u="",h=0;for(l=0;l<r.length&&"="!=r.charAt(l);++l)!((y=Q.indexOf(r.charAt(l)))<0)&&(0==h?(u+=Re(y>>2),p=3&y,h=1):1==h?(u+=Re(p<<2|y>>4),p=15&y,h=2):2==h?(u+=Re(p),u+=Re(y>>2),p=3&y,h=3):(u+=Re(p<<2|y>>4),u+=Re(15&y),h=0));return 1==h&&(u+=Re(p<<2)),u}function G(r,u,l){null!=r&&("number"==typeof r?this.fromNumber(r,u,l):this.fromString(r,null==u&&"string"!=typeof r?256:u))}function ye(){return new G(null)}"Microsoft Internet Explorer"==x.appName?(G.prototype.am=function Ne(r,u,l,h,p,y){for(var _=32767&u,w=u>>15;--y>=0;){var A=32767&this[r],M=this[r++]>>15,B=w*A+M*_;p=((A=_*A+((32767&B)<<15)+l[h]+(1073741823&p))>>>30)+(B>>>15)+w*M+(p>>>30),l[h++]=1073741823&A}return p},he=30):"Netscape"!=x.appName?(G.prototype.am=function fe(r,u,l,h,p,y){for(;--y>=0;){var _=u*this[r++]+l[h]+p;p=Math.floor(_/67108864),l[h++]=67108863&_}return p},he=26):(G.prototype.am=function _e(r,u,l,h,p,y){for(var _=16383&u,w=u>>14;--y>=0;){var A=16383&this[r],M=this[r++]>>14,B=w*A+M*_;p=((A=_*A+((16383&B)<<14)+l[h]+p)>>28)+(B>>14)+w*M,l[h++]=268435455&A}return p},he=28),G.prototype.DB=he,G.prototype.DM=(1<<he)-1,G.prototype.DV=1<<he,G.prototype.FV=Math.pow(2,52),G.prototype.F1=52-he,G.prototype.F2=2*he-52;var at,Te,je=new Array;for(at="0".charCodeAt(0),Te=0;Te<=9;++Te)je[at++]=Te;for(at="a".charCodeAt(0),Te=10;Te<36;++Te)je[at++]=Te;for(at="A".charCodeAt(0),Te=10;Te<36;++Te)je[at++]=Te;function Re(r){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(r)}function et(r,u){return je[r.charCodeAt(u)]??-1}function ze(r){var u=ye();return u.fromInt(r),u}function tt(r){var l,u=1;return 0!=(l=r>>>16)&&(r=l,u+=16),0!=(l=r>>8)&&(r=l,u+=8),0!=(l=r>>4)&&(r=l,u+=4),0!=(l=r>>2)&&(r=l,u+=2),0!=(l=r>>1)&&(r=l,u+=1),u}function Wr(r){this.m=r}function wr(r){this.m=r,this.mp=r.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function ln(r,u){return r&u}function Dr(r,u){return r|u}function hn(r,u){return r^u}function Ni(r,u){return r&~u}function io(r){if(0==r)return-1;var u=0;return 0==(65535&r)&&(r>>=16,u+=16),0==(255&r)&&(r>>=8,u+=8),0==(15&r)&&(r>>=4,u+=4),0==(3&r)&&(r>>=2,u+=2),0==(1&r)&&++u,u}function Uo(r){for(var u=0;0!=r;)r&=r-1,++u;return u}function Cr(){}function ri(r){return r}function Dn(r){this.r2=ye(),this.q3=ye(),G.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}Wr.prototype.convert=function er(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r},Wr.prototype.revert=function eo(r){return r},Wr.prototype.reduce=function ts(r){r.divRemTo(this.m,null,r)},Wr.prototype.mulTo=function Zr(r,u,l){r.multiplyTo(u,l),this.reduce(l)},Wr.prototype.sqrTo=function Oi(r,u){r.squareTo(u),this.reduce(u)},wr.prototype.convert=function ws(r){var u=ye();return r.abs().dlShiftTo(this.m.t,u),u.divRemTo(this.m,null,u),r.s<0&&u.compareTo(G.ZERO)>0&&this.m.subTo(u,u),u},wr.prototype.revert=function yi(r){var u=ye();return r.copyTo(u),this.reduce(u),u},wr.prototype.reduce=function On(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var u=0;u<this.m.t;++u){var l=32767&r[u],h=l*this.mpl+((l*this.mph+(r[u]>>15)*this.mpl&this.um)<<15)&r.DM;for(r[l=u+this.m.t]+=this.m.am(0,h,r,u,0,this.m.t);r[l]>=r.DV;)r[l]-=r.DV,r[++l]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)},wr.prototype.mulTo=function Ds(r,u,l){r.multiplyTo(u,l),this.reduce(l)},wr.prototype.sqrTo=function Qr(r,u){r.squareTo(u),this.reduce(u)},G.prototype.copyTo=function It(r){for(var u=this.t-1;u>=0;--u)r[u]=this[u];r.t=this.t,r.s=this.s},G.prototype.fromInt=function nt(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0},G.prototype.fromString=function Ze(r,u){var l;if(16==u)l=4;else if(8==u)l=3;else if(256==u)l=8;else if(2==u)l=1;else if(32==u)l=5;else{if(4!=u)return void this.fromRadix(r,u);l=2}this.t=0,this.s=0;for(var h=r.length,p=!1,y=0;--h>=0;){var _=8==l?255&r[h]:et(r,h);_<0?"-"==r.charAt(h)&&(p=!0):(p=!1,0==y?this[this.t++]=_:y+l>this.DB?(this[this.t-1]|=(_&(1<<this.DB-y)-1)<<y,this[this.t++]=_>>this.DB-y):this[this.t-1]|=_<<y,(y+=l)>=this.DB&&(y-=this.DB))}8==l&&0!=(128&r[0])&&(this.s=-1,y>0&&(this[this.t-1]|=(1<<this.DB-y)-1<<y)),this.clamp(),p&&G.ZERO.subTo(this,this)},G.prototype.clamp=function be(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t},G.prototype.dlShiftTo=function rn(r,u){var l;for(l=this.t-1;l>=0;--l)u[l+r]=this[l];for(l=r-1;l>=0;--l)u[l]=0;u.t=this.t+r,u.s=this.s},G.prototype.drShiftTo=function ur(r,u){for(var l=r;l<this.t;++l)u[l-r]=this[l];u.t=Math.max(this.t-r,0),u.s=this.s},G.prototype.lShiftTo=function Ht(r,u){var w,l=r%this.DB,h=this.DB-l,p=(1<<h)-1,y=Math.floor(r/this.DB),_=this.s<<l&this.DM;for(w=this.t-1;w>=0;--w)u[w+y+1]=this[w]>>h|_,_=(this[w]&p)<<l;for(w=y-1;w>=0;--w)u[w]=0;u[y]=_,u.t=this.t+y+1,u.s=this.s,u.clamp()},G.prototype.rShiftTo=function Qn(r,u){u.s=this.s;var l=Math.floor(r/this.DB);if(l>=this.t)u.t=0;else{var h=r%this.DB,p=this.DB-h,y=(1<<h)-1;u[0]=this[l]>>h;for(var _=l+1;_<this.t;++_)u[_-l-1]|=(this[_]&y)<<p,u[_-l]=this[_]>>h;h>0&&(u[this.t-l-1]|=(this.s&y)<<p),u.t=this.t-l,u.clamp()}},G.prototype.subTo=function Kr(r,u){for(var l=0,h=0,p=Math.min(r.t,this.t);l<p;)h+=this[l]-r[l],u[l++]=h&this.DM,h>>=this.DB;if(r.t<this.t){for(h-=r.s;l<this.t;)h+=this[l],u[l++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;l<r.t;)h-=r[l],u[l++]=h&this.DM,h>>=this.DB;h-=r.s}u.s=h<0?-1:0,h<-1?u[l++]=this.DV+h:h>0&&(u[l++]=h),u.t=l,u.clamp()},G.prototype.multiplyTo=function Gt(r,u){var l=this.abs(),h=r.abs(),p=l.t;for(u.t=p+h.t;--p>=0;)u[p]=0;for(p=0;p<h.t;++p)u[p+l.t]=l.am(0,h[p],u,p,0,l.t);u.s=0,u.clamp(),this.s!=r.s&&G.ZERO.subTo(u,u)},G.prototype.squareTo=function Ot(r){for(var u=this.abs(),l=r.t=2*u.t;--l>=0;)r[l]=0;for(l=0;l<u.t-1;++l){var h=u.am(l,u[l],r,2*l,0,1);(r[l+u.t]+=u.am(l+1,2*u[l],r,2*l+1,h,u.t-l-1))>=u.DV&&(r[l+u.t]-=u.DV,r[l+u.t+1]=1)}r.t>0&&(r[r.t-1]+=u.am(l,u[l],r,2*l,0,1)),r.s=0,r.clamp()},G.prototype.divRemTo=function Gr(r,u,l){var h=r.abs();if(!(h.t<=0)){var p=this.abs();if(p.t<h.t)return u?.fromInt(0),void(null!=l&&this.copyTo(l));null==l&&(l=ye());var y=ye(),_=this.s,w=r.s,A=this.DB-tt(h[h.t-1]);A>0?(h.lShiftTo(A,y),p.lShiftTo(A,l)):(h.copyTo(y),p.copyTo(l));var M=y.t,B=y[M-1];if(0!=B){var k=B*(1<<this.F1)+(M>1?y[M-2]>>this.F2:0),b=this.FV/k,S=(1<<this.F1)/k,O=1<<this.F2,F=l.t,H=F-M,R=u??ye();for(y.dlShiftTo(H,R),l.compareTo(R)>=0&&(l[l.t++]=1,l.subTo(R,l)),G.ONE.dlShiftTo(M,R),R.subTo(y,y);y.t<M;)y[y.t++]=0;for(;--H>=0;){var U=l[--F]==B?this.DM:Math.floor(l[F]*b+(l[F-1]+O)*S);if((l[F]+=y.am(0,U,l,H,0,M))<U)for(y.dlShiftTo(H,R),l.subTo(R,l);l[F]<--U;)l.subTo(R,l)}null!=u&&(l.drShiftTo(M,u),_!=w&&G.ZERO.subTo(u,u)),l.t=M,l.clamp(),A>0&&l.rShiftTo(A,l),_<0&&G.ZERO.subTo(l,l)}}},G.prototype.invDigit=function Xr(){if(this.t<1)return 0;var r=this[0];if(0==(1&r))return 0;var u=3&r;return(u=(u=(u=(u=u*(2-(15&r)*u)&15)*(2-(255&r)*u)&255)*(2-((65535&r)*u&65535))&65535)*(2-r*u%this.DV)%this.DV)>0?this.DV-u:-u},G.prototype.isEven=function to(){return 0==(this.t>0?1&this[0]:this.s)},G.prototype.exp=function wt(r,u){if(r>4294967295||r<1)return G.ONE;var l=ye(),h=ye(),p=u.convert(this),y=tt(r)-1;for(p.copyTo(l);--y>=0;)if(u.sqrTo(l,h),(r&1<<y)>0)u.mulTo(h,p,l);else{var _=l;l=h,h=_}return u.revert(l)},G.prototype.toString=function Ae(r){if(this.s<0)return"-"+this.negate().toString(r);var u;if(16==r)u=4;else if(8==r)u=3;else if(2==r)u=1;else if(32==r)u=5;else{if(4!=r)return this.toRadix(r);u=2}var h,l=(1<<u)-1,p=!1,y="",_=this.t,w=this.DB-_*this.DB%u;if(_-- >0)for(w<this.DB&&(h=this[_]>>w)>0&&(p=!0,y=Re(h));_>=0;)w<u?(h=(this[_]&(1<<w)-1)<<u-w,h|=this[--_]>>(w+=this.DB-u)):(h=this[_]>>(w-=u)&l,w<=0&&(w+=this.DB,--_)),h>0&&(p=!0),p&&(y+=Re(h));return p?y:"0"},G.prototype.negate=function Le(){var r=ye();return G.ZERO.subTo(this,r),r},G.prototype.abs=function Pe(){return this.s<0?this.negate():this},G.prototype.compareTo=function ot(r){var u=this.s-r.s;if(0!=u)return u;var l=this.t;if(0!=(u=l-r.t))return this.s<0?-u:u;for(;--l>=0;)if(0!=(u=this[l]-r[l]))return u;return 0},G.prototype.bitLength=function Rt(){return this.t<=0?0:this.DB*(this.t-1)+tt(this[this.t-1]^this.s&this.DM)},G.prototype.mod=function Wn(r){var u=ye();return this.abs().divRemTo(r,null,u),this.s<0&&u.compareTo(G.ZERO)>0&&r.subTo(u,u),u},G.prototype.modPowInt=function Cs(r,u){var l;return l=r<256||u.isEven()?new Wr(u):new wr(u),this.exp(r,l)},G.ZERO=ze(0),G.ONE=ze(1),Cr.prototype.convert=ri,Cr.prototype.revert=ri,Cr.prototype.mulTo=function Lt(r,u,l){r.multiplyTo(u,l)},Cr.prototype.sqrTo=function Ei(r,u){r.squareTo(u)},Dn.prototype.convert=function ki(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var u=ye();return r.copyTo(u),this.reduce(u),u},Dn.prototype.revert=function wi(r){return r},Dn.prototype.reduce=function Sr(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)},Dn.prototype.mulTo=function oo(r,u,l){r.multiplyTo(u,l),this.reduce(l)},Dn.prototype.sqrTo=function si(r,u){r.squareTo(u),this.reduce(u)};var Yr,zn,sn,Bn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Tr=(1<<26)/Bn[Bn.length-1];function Cn(){this.i=0,this.j=0,this.S=new Array}function ir(){!function Ga(r){zn[sn++]^=255&r,zn[sn++]^=r>>8&255,zn[sn++]^=r>>16&255,zn[sn++]^=r>>24&255,sn>=256&&(sn-=256)}((new Date).getTime())}if(G.prototype.chunkSize=function ke(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},G.prototype.toRadix=function Dt(r){if(null==r&&(r=10),0==this.signum()||r<2||r>36)return"0";var u=this.chunkSize(r),l=Math.pow(r,u),h=ze(l),p=ye(),y=ye(),_="";for(this.divRemTo(h,p,y);p.signum()>0;)_=(l+y.intValue()).toString(r).substr(1)+_,p.divRemTo(h,p,y);return y.intValue().toString(r)+_},G.prototype.fromRadix=function Nt(r,u){this.fromInt(0),null==u&&(u=10);for(var l=this.chunkSize(u),h=Math.pow(u,l),p=!1,y=0,_=0,w=0;w<r.length;++w){var A=et(r,w);A<0?"-"==r.charAt(w)&&0==this.signum()&&(p=!0):(_=u*_+A,++y>=l&&(this.dMultiply(h),this.dAddOffset(_,0),y=0,_=0))}y>0&&(this.dMultiply(Math.pow(u,y)),this.dAddOffset(_,0)),p&&G.ZERO.subTo(this,this)},G.prototype.fromNumber=function Yt(r,u,l){if("number"==typeof u)if(r<2)this.fromInt(1);else for(this.fromNumber(r,l),this.testBit(r-1)||this.bitwiseTo(G.ONE.shiftLeft(r-1),Dr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(u);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(G.ONE.shiftLeft(r-1),this);else{var h=new Array,p=7&r;h.length=1+(r>>3),u.nextBytes(h),p>0?h[0]&=(1<<p)-1:h[0]=0,this.fromString(h,256)}},G.prototype.bitwiseTo=function ut(r,u,l){var h,p,y=Math.min(r.t,this.t);for(h=0;h<y;++h)l[h]=u(this[h],r[h]);if(r.t<this.t){for(p=r.s&this.DM,h=y;h<this.t;++h)l[h]=u(this[h],p);l.t=this.t}else{for(p=this.s&this.DM,h=y;h<r.t;++h)l[h]=u(p,r[h]);l.t=r.t}l.s=u(this.s,r.s),l.clamp()},G.prototype.changeBit=function nn(r,u){var l=G.ONE.shiftLeft(r);return this.bitwiseTo(l,u,l),l},G.prototype.addTo=function cr(r,u){for(var l=0,h=0,p=Math.min(r.t,this.t);l<p;)h+=this[l]+r[l],u[l++]=h&this.DM,h>>=this.DB;if(r.t<this.t){for(h+=r.s;l<this.t;)h+=this[l],u[l++]=h&this.DM,h>>=this.DB;h+=this.s}else{for(h+=this.s;l<r.t;)h+=r[l],u[l++]=h&this.DM,h>>=this.DB;h+=r.s}u.s=h<0?-1:0,h>0?u[l++]=h:h<-1&&(u[l++]=this.DV+h),u.t=l,u.clamp()},G.prototype.dMultiply=function ni(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()},G.prototype.dAddOffset=function gn(r,u){if(0!=r){for(;this.t<=u;)this[this.t++]=0;for(this[u]+=r;this[u]>=this.DV;)this[u]-=this.DV,++u>=this.t&&(this[this.t++]=0),++this[u]}},G.prototype.multiplyLowerTo=function ns(r,u,l){var p,h=Math.min(this.t+r.t,u);for(l.s=0,l.t=h;h>0;)l[--h]=0;for(p=l.t-this.t;h<p;++h)l[h+this.t]=this.am(0,r[h],l,h,0,this.t);for(p=Math.min(r.t,u);h<p;++h)this.am(0,r[h],l,h,0,u-h);l.clamp()},G.prototype.multiplyUpperTo=function ii(r,u,l){--u;var h=l.t=this.t+r.t-u;for(l.s=0;--h>=0;)l[h]=0;for(h=Math.max(u-this.t,0);h<r.t;++h)l[this.t+h-u]=this.am(u-h,r[h],l,0,0,this.t+h-u);l.clamp(),l.drShiftTo(1,l)},G.prototype.modInt=function ao(r){if(r<=0)return 0;var u=this.DV%r,l=this.s<0?r-1:0;if(this.t>0)if(0==u)l=this[0]%r;else for(var h=this.t-1;h>=0;--h)l=(u*l+this[h])%r;return l},G.prototype.millerRabin=function Nr(r){var u=this.subtract(G.ONE),l=u.getLowestSetBit();if(l<=0)return!1;var h=u.shiftRight(l);(r=r+1>>1)>Bn.length&&(r=Bn.length);for(var p=ye(),y=0;y<r;++y){p.fromInt(Bn[Math.floor(Math.random()*Bn.length)]);var _=p.modPow(h,this);if(0!=_.compareTo(G.ONE)&&0!=_.compareTo(u)){for(var w=1;w++<l&&0!=_.compareTo(u);)if(0==(_=_.modPowInt(2,this)).compareTo(G.ONE))return!1;if(0!=_.compareTo(u))return!1}}return!0},G.prototype.clone=function _i(){var r=ye();return this.copyTo(r),r},G.prototype.intValue=function Be(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},G.prototype.byteValue=function de(){return 0==this.t?this.s:this[0]<<24>>24},G.prototype.shortValue=function ae(){return 0==this.t?this.s:this[0]<<16>>16},G.prototype.signum=function Ge(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},G.prototype.toByteArray=function ct(){var r=this.t,u=new Array;u[0]=this.s;var h,l=this.DB-r*this.DB%8,p=0;if(r-- >0)for(l<this.DB&&(h=this[r]>>l)!=(this.s&this.DM)>>l&&(u[p++]=h|this.s<<this.DB-l);r>=0;)l<8?(h=(this[r]&(1<<l)-1)<<8-l,h|=this[--r]>>(l+=this.DB-8)):(h=this[r]>>(l-=8)&255,l<=0&&(l+=this.DB,--r)),0!=(128&h)&&(h|=-256),0==p&&(128&this.s)!=(128&h)&&++p,(p>0||h!=this.s)&&(u[p++]=h);return u},G.prototype.equals=function Nn(r){return 0==this.compareTo(r)},G.prototype.min=function un(r){return this.compareTo(r)<0?this:r},G.prototype.max=function lr(r){return this.compareTo(r)>0?this:r},G.prototype.and=function an(r){var u=ye();return this.bitwiseTo(r,ln,u),u},G.prototype.or=function ei(r){var u=ye();return this.bitwiseTo(r,Dr,u),u},G.prototype.xor=function Or(r){var u=ye();return this.bitwiseTo(r,hn,u),u},G.prototype.andNot=function zr(r){var u=ye();return this.bitwiseTo(r,Ni,u),u},G.prototype.not=function no(){for(var r=ye(),u=0;u<this.t;++u)r[u]=this.DM&~this[u];return r.t=this.t,r.s=~this.s,r},G.prototype.shiftLeft=function jo(r){var u=ye();return r<0?this.rShiftTo(-r,u):this.lShiftTo(r,u),u},G.prototype.shiftRight=function ro(r){var u=ye();return r<0?this.lShiftTo(-r,u):this.rShiftTo(r,u),u},G.prototype.getLowestSetBit=function Ka(){for(var r=0;r<this.t;++r)if(0!=this[r])return r*this.DB+io(this[r]);return this.s<0?this.t*this.DB:-1},G.prototype.bitCount=function $o(){for(var r=0,u=this.s&this.DM,l=0;l<this.t;++l)r+=Uo(this[l]^u);return r},G.prototype.testBit=function so(r){var u=Math.floor(r/this.DB);return u>=this.t?0!=this.s:0!=(this[u]&1<<r%this.DB)},G.prototype.setBit=function tr(r){return this.changeBit(r,Dr)},G.prototype.clearBit=function wn(r){return this.changeBit(r,Ni)},G.prototype.flipBit=function jn(r){return this.changeBit(r,hn)},G.prototype.add=function vr(r){var u=ye();return this.addTo(r,u),u},G.prototype.subtract=function rt(r){var u=ye();return this.subTo(r,u),u},G.prototype.multiply=function yt(r){var u=ye();return this.multiplyTo(r,u),u},G.prototype.divide=function kn(r){var u=ye();return this.divRemTo(r,u,null),u},G.prototype.remainder=function ti(r){var u=ye();return this.divRemTo(r,null,u),u},G.prototype.divideAndRemainder=function Ln(r){var u=ye(),l=ye();return this.divRemTo(r,u,l),new Array(u,l)},G.prototype.modPow=function Bt(r,u){var h,y,l=r.bitLength(),p=ze(1);if(l<=0)return p;h=l<18?1:l<48?3:l<144?4:l<768?5:6,y=l<8?new Wr(u):u.isEven()?new Dn(u):new wr(u);var _=new Array,w=3,A=h-1,M=(1<<h)-1;if(_[1]=y.convert(this),h>1){var B=ye();for(y.sqrTo(_[1],B);w<=M;)_[w]=ye(),y.mulTo(B,_[w-2],_[w]),w+=2}var b,F,k=r.t-1,S=!0,O=ye();for(l=tt(r[k])-1;k>=0;){for(l>=A?b=r[k]>>l-A&M:(b=(r[k]&(1<<l+1)-1)<<A-l,k>0&&(b|=r[k-1]>>this.DB+l-A)),w=h;0==(1&b);)b>>=1,--w;if((l-=w)<0&&(l+=this.DB,--k),S)_[b].copyTo(p),S=!1;else{for(;w>1;)y.sqrTo(p,O),y.sqrTo(O,p),w-=2;w>0?y.sqrTo(p,O):(F=p,p=O,O=F),y.mulTo(O,_[b],p)}for(;k>=0&&0==(r[k]&1<<l);)y.sqrTo(p,O),F=p,p=O,O=F,--l<0&&(l=this.DB-1,--k)}return y.revert(p)},G.prototype.modInverse=function Bi(r){var u=r.isEven();if(this.isEven()&&u||0==r.signum())return G.ZERO;for(var l=r.clone(),h=this.clone(),p=ze(1),y=ze(0),_=ze(0),w=ze(1);0!=l.signum();){for(;l.isEven();)l.rShiftTo(1,l),u?((!p.isEven()||!y.isEven())&&(p.addTo(this,p),y.subTo(r,y)),p.rShiftTo(1,p)):y.isEven()||y.subTo(r,y),y.rShiftTo(1,y);for(;h.isEven();)h.rShiftTo(1,h),u?((!_.isEven()||!w.isEven())&&(_.addTo(this,_),w.subTo(r,w)),_.rShiftTo(1,_)):w.isEven()||w.subTo(r,w),w.rShiftTo(1,w);l.compareTo(h)>=0?(l.subTo(h,l),u&&p.subTo(_,p),y.subTo(w,y)):(h.subTo(l,h),u&&_.subTo(p,_),w.subTo(y,w))}return 0!=h.compareTo(G.ONE)?G.ZERO:w.compareTo(r)>=0?w.subtract(r):w.signum()<0?(w.addTo(r,w),w.signum()<0?w.add(r):w):w},G.prototype.pow=function qr(r){return this.exp(r,new Cr)},G.prototype.gcd=function Li(r){var u=this.s<0?this.negate():this.clone(),l=r.s<0?r.negate():r.clone();if(u.compareTo(l)<0){var h=u;u=l,l=h}var p=u.getLowestSetBit(),y=l.getLowestSetBit();if(y<0)return u;for(p<y&&(y=p),y>0&&(u.rShiftTo(y,u),l.rShiftTo(y,l));u.signum()>0;)(p=u.getLowestSetBit())>0&&u.rShiftTo(p,u),(p=l.getLowestSetBit())>0&&l.rShiftTo(p,l),u.compareTo(l)>=0?(u.subTo(l,u),u.rShiftTo(1,u)):(l.subTo(u,l),l.rShiftTo(1,l));return y>0&&l.lShiftTo(y,l),l},G.prototype.isProbablePrime=function Hi(r){var u,l=this.abs();if(1==l.t&&l[0]<=Bn[Bn.length-1]){for(u=0;u<Bn.length;++u)if(l[0]==Bn[u])return!0;return!1}if(l.isEven())return!1;for(u=1;u<Bn.length;){for(var h=Bn[u],p=u+1;p<Bn.length&&h<Tr;)h*=Bn[p++];for(h=l.modInt(h);u<p;)if(h%Bn[u++]==0)return!1}return l.millerRabin(r)},G.prototype.square=function gt(){var r=ye();return this.squareTo(r),r},Cn.prototype.init=function uo(r){var u,l,h;for(u=0;u<256;++u)this.S[u]=u;for(l=0,u=0;u<256;++u)h=this.S[u],this.S[u]=this.S[l=l+this.S[u]+r[u%r.length]&255],this.S[l]=h;this.i=0,this.j=0},Cn.prototype.next=function Sn(){var r;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,r=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=r,this.S[r+this.S[this.i]&255]},null==zn){var br;if(zn=new Array,sn=0,void 0!==v&&(void 0!==v.crypto||void 0!==v.msCrypto)){var kr=v.crypto||v.msCrypto;if(kr.getRandomValues){var lo=new Uint8Array(32);for(kr.getRandomValues(lo),br=0;br<32;++br)zn[sn++]=lo[br]}else if("Netscape"==x.appName&&x.appVersion<"5"){var qn=v.crypto.random(32);for(br=0;br<qn.length;++br)zn[sn++]=255&qn.charCodeAt(br)}}for(;sn<256;)br=Math.floor(65536*Math.random()),zn[sn++]=br>>>8,zn[sn++]=255&br;sn=0,ir()}function oi(){if(null==Yr){for(ir(),(Yr=function In(){return new Cn}()).init(zn),sn=0;sn<zn.length;++sn)zn[sn]=0;sn=0}return Yr.next()}function Ci(){}function Yn(r,u){return new G(r,u)}function co(r,u,l){for(var h="",p=0;h.length<u;)h+=l(String.fromCharCode.apply(String,r.concat([(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p]))),p+=1;return h}function mt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ho(r,u,l){for(var h="",p=0;h.length<u;)h+=l(r+String.fromCharCode.apply(String,[(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p])),p+=1;return h}function yn(r,u){this.x=u,this.q=r}function zt(r,u,l,h){this.curve=r,this.x=u,this.y=l,this.z=h??G.ONE,this.zinv=null}function bn(r,u,l){this.q=r,this.a=this.fromBigInteger(u),this.b=this.fromBigInteger(l),this.infinity=new zt(this,null,null)}Ci.prototype.nextBytes=function Wa(r){var u;for(u=0;u<r.length;++u)r[u]=oi()},mt.prototype.doPublic=function Ss(r){return r.modPowInt(this.e,this.n)},mt.prototype.setPublic=function Wo(r,u){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof r)this.n=r,this.e=u;else{if(!(null!=r&&null!=u&&r.length>0&&u.length>0))throw"Invalid RSA public key";this.n=Yn(r,16),this.e=parseInt(u,16)}},mt.prototype.encrypt=function bs(r){var u=function Ko(r,u){if(u<r.length+11)throw"Message too long for RSA";for(var l=new Array,h=r.length-1;h>=0&&u>0;){var p=r.charCodeAt(h--);p<128?l[--u]=p:p>127&&p<2048?(l[--u]=63&p|128,l[--u]=p>>6|192):(l[--u]=63&p|128,l[--u]=p>>6&63|128,l[--u]=p>>12|224)}l[--u]=0;for(var y=new Ci,_=new Array;u>2;){for(_[0]=0;0==_[0];)y.nextBytes(_);l[--u]=_[0]}return l[--u]=2,l[--u]=0,new G(l)}(r,this.n.bitLength()+7>>3);if(null==u)return null;var l=this.doPublic(u);if(null==l)return null;var h=l.toString(16);return 0==(1&h.length)?h:"0"+h},mt.prototype.encryptOAEP=function Vi(r,u,l){var h=function Go(r,u,l,h){var p=g.crypto.MessageDigest,y=g.crypto.Util,_=null;if(l||(l="sha1"),"string"==typeof l&&(_=p.getCanonicalAlgName(l),h=p.getHashLength(_),l=function(F){return pn(y.hashHex(Mn(F),_))}),r.length+2*h+2>u)throw"Message too long for RSA";var A,w="";for(A=0;A<u-r.length-2*h-2;A+=1)w+="\0";var M=l("")+w+"\x01"+r,B=new Array(h);(new Ci).nextBytes(B);var k=co(B,M.length,l),b=[];for(A=0;A<M.length;A+=1)b[A]=M.charCodeAt(A)^k.charCodeAt(A);var S=co(b,B.length,l),O=[0];for(A=0;A<B.length;A+=1)O[A+1]=B[A]^S.charCodeAt(A);return new G(O.concat(b))}(r,this.n.bitLength()+7>>3,u,l);if(null==h)return null;var p=this.doPublic(h);if(null==p)return null;var y=p.toString(16);return 0==(1&y.length)?y:"0"+y},mt.prototype.type="RSA",mt.prototype.doPrivate=function fo(r){if(null==this.p||null==this.q)return r.modPow(this.d,this.n);for(var u=r.mod(this.p).modPow(this.dmp1,this.p),l=r.mod(this.q).modPow(this.dmq1,this.q);u.compareTo(l)<0;)u=u.add(this.p);return u.subtract(l).multiply(this.coeff).mod(this.p).multiply(this.q).add(l)},mt.prototype.setPrivate=function Mr(r,u,l){if(this.isPrivate=!0,"string"!=typeof r)this.n=r,this.e=u,this.d=l;else{if(!(null!=r&&null!=u&&r.length>0&&u.length>0))throw"Invalid RSA private key";this.n=Yn(r,16),this.e=parseInt(u,16),this.d=Yn(l,16)}},mt.prototype.setPrivateEx=function ji(r,u,l,h,p,y,_,w){if(this.isPrivate=!0,this.isPublic=!1,null==r)throw"RSASetPrivateEx N == null";if(null==u)throw"RSASetPrivateEx E == null";if(0==r.length)throw"RSASetPrivateEx N.length == 0";if(0==u.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=r&&null!=u&&r.length>0&&u.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=Yn(r,16),this.e=parseInt(u,16),this.d=Yn(l,16),this.p=Yn(h,16),this.q=Yn(p,16),this.dmp1=Yn(y,16),this.dmq1=Yn(_,16),this.coeff=Yn(w,16)},mt.prototype.generate=function Ui(r,u){var l=new Ci,h=r>>1;this.e=parseInt(u,16);for(var p=new G(u,16),y=r/2-100,_=G.ONE.shiftLeft(y);;){for(;this.p=new G(r-h,1,l),0!=this.p.subtract(G.ONE).gcd(p).compareTo(G.ONE)||!this.p.isProbablePrime(10););for(;this.q=new G(h,1,l),0!=this.q.subtract(G.ONE).gcd(p).compareTo(G.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var w=this.p;this.p=this.q,this.q=w}var A=this.q.subtract(this.p).abs();if(!(A.bitLength()<y||A.compareTo(_)<=0)){var M=this.p.subtract(G.ONE),B=this.q.subtract(G.ONE),k=M.multiply(B);if(0==k.gcd(p).compareTo(G.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==r)){this.d=p.modInverse(k),this.dmp1=this.d.mod(M),this.dmq1=this.d.mod(B),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},mt.prototype.decrypt=function xs(r){if(r.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var u=Yn(r,16),l=this.doPrivate(u);return null==l?null:function zo(r,u){for(var l=r.toByteArray(),h=0;h<l.length&&0==l[h];)++h;if(l.length-h!=u-1||2!=l[h])return null;for(++h;0!=l[h];)if(++h>=l.length)return null;for(var p="";++h<l.length;){var y=255&l[h];y<128?p+=String.fromCharCode(y):y>191&&y<224?(p+=String.fromCharCode((31&y)<<6|63&l[h+1]),++h):(p+=String.fromCharCode((15&y)<<12|(63&l[h+1])<<6|63&l[h+2]),h+=2)}return p}(l,this.n.bitLength()+7>>3)},mt.prototype.decryptOAEP=function As(r,u,l){if(r.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var h=Yn(r,16),p=this.doPrivate(h);return null==p?null:function Ya(r,u,l,h){var p=g.crypto.MessageDigest,y=g.crypto.Util,_=null;for(l||(l="sha1"),"string"==typeof l&&(_=p.getCanonicalAlgName(l),h=p.getHashLength(_),l=function(H){return pn(y.hashHex(Mn(H),_))}),r=r.toByteArray(),k=0;k<r.length;k+=1)r[k]&=255;for(;r.length<u;)r.unshift(0);if((r=String.fromCharCode.apply(String,r)).length<2*h+2)throw"Cipher too short";var k,w=r.substr(1,h),A=r.substr(h+1),M=ho(A,h,l),B=[];for(k=0;k<w.length;k+=1)B[k]=w.charCodeAt(k)^M.charCodeAt(k);var b=ho(String.fromCharCode.apply(String,B),r.length-h,l),S=[];for(k=0;k<A.length;k+=1)S[k]=A.charCodeAt(k)^b.charCodeAt(k);if((S=String.fromCharCode.apply(String,S)).substr(0,h)!==l(""))throw"Hash mismatch";var O=(S=S.substr(h)).indexOf("\x01");if((-1!=O?S.substr(0,O).lastIndexOf("\0"):-1)+1!=O)throw"Malformed data";return S.substr(O+1)}(p,this.n.bitLength()+7>>3,u,l)},yn.prototype.equals=function Is(r){return r==this||this.q.equals(r.q)&&this.x.equals(r.x)},yn.prototype.toBigInteger=function Fs(){return this.x},yn.prototype.negate=function $i(){return new yn(this.q,this.x.negate().mod(this.q))},yn.prototype.add=function qo(r){return new yn(this.q,this.x.add(r.toBigInteger()).mod(this.q))},yn.prototype.subtract=function yr(r){return new yn(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))},yn.prototype.multiply=function Ts(r){return new yn(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))},yn.prototype.square=function sr(){return new yn(this.q,this.x.square().mod(this.q))},yn.prototype.divide=function Pr(r){return new yn(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))},yn.prototype.sqrt=function(){return new yn(this.q,this.x.sqrt().mod(this.q))},zt.prototype.getX=function Ja(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},zt.prototype.getY=function Fn(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},zt.prototype.equals=function Za(r){return r==this||(this.isInfinity()?r.isInfinity():r.isInfinity()?this.isInfinity():!!r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(G.ZERO)&&r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(G.ZERO))},zt.prototype.isInfinity=function Xa(){return null==this.x&&null==this.y||this.z.equals(G.ZERO)&&!this.y.toBigInteger().equals(G.ZERO)},zt.prototype.negate=function Ki(){return new zt(this.curve,this.x,this.y.negate(),this.z)},zt.prototype.add=function Zt(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var u=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),l=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);if(G.ZERO.equals(l))return G.ZERO.equals(u)?this.twice():this.curve.getInfinity();var h=new G("3"),p=this.x.toBigInteger(),y=this.y.toBigInteger(),A=(r.x.toBigInteger(),r.y.toBigInteger(),l.square()),M=A.multiply(l),B=p.multiply(A),k=u.square().multiply(this.z),b=k.subtract(B.shiftLeft(1)).multiply(r.z).subtract(M).multiply(l).mod(this.curve.q),S=B.multiply(h).multiply(u).subtract(y.multiply(M)).subtract(k.multiply(u)).multiply(r.z).add(u.multiply(M)).mod(this.curve.q),O=M.multiply(this.z).multiply(r.z).mod(this.curve.q);return new zt(this.curve,this.curve.fromBigInteger(b),this.curve.fromBigInteger(S),O)},zt.prototype.twice=function Qa(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=new G("3"),u=this.x.toBigInteger(),l=this.y.toBigInteger(),h=l.multiply(this.z),p=h.multiply(l).mod(this.curve.q),y=this.curve.a.toBigInteger(),_=u.square().multiply(r);G.ZERO.equals(y)||(_=_.add(this.z.square().multiply(y)));var w=(_=_.mod(this.curve.q)).square().subtract(u.shiftLeft(3).multiply(p)).shiftLeft(1).multiply(h).mod(this.curve.q),A=_.multiply(r).multiply(u).subtract(p.shiftLeft(1)).shiftLeft(2).multiply(p).subtract(_.square().multiply(_)).mod(this.curve.q),M=h.square().multiply(h).shiftLeft(3).mod(this.curve.q);return new zt(this.curve,this.curve.fromBigInteger(w),this.curve.fromBigInteger(A),M)},zt.prototype.multiply=function ai(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var M,u=r,l=u.multiply(new G("3")),h=this.negate(),p=this,y=this.curve.q.subtract(r),_=y.multiply(new G("3")),w=new zt(this.curve,this.x,this.y),A=w.negate();for(M=l.bitLength()-2;M>0;--M){p=p.twice();var B=l.testBit(M);B!=u.testBit(M)&&(p=p.add(B?this:h))}for(M=_.bitLength()-2;M>0;--M){w=w.twice();var b=_.testBit(M);b!=y.testBit(M)&&(w=w.add(b?w:A))}return p},zt.prototype.multiplyTwo=function Gi(r,u,l){var h;h=r.bitLength()>l.bitLength()?r.bitLength()-1:l.bitLength()-1;for(var p=this.curve.getInfinity(),y=this.add(u);h>=0;)p=p.twice(),r.testBit(h)?p=l.testBit(h)?p.add(y):p.add(this):l.testBit(h)&&(p=p.add(u)),--h;return p},bn.prototype.getQ=function Yo(){return this.q},bn.prototype.getA=function Ms(){return this.a},bn.prototype.getB=function Wu(){return this.b},bn.prototype.equals=function Si(r){return r==this||this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b)},bn.prototype.getInfinity=function eu(){return this.infinity},bn.prototype.fromBigInteger=function po(r){return new yn(this.q,r)},bn.prototype.decodePointHex=function Ft(r){switch(parseInt(r.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var u=r.substr(0,2),h=(r.substr(2),this.fromBigInteger(new G(M,16))),p=this.getA(),y=this.getB(),w=h.square().add(p).multiply(h).add(y).sqrt();return"03"==u&&(w=w.negate()),new zt(this,h,w);case 4:case 6:case 7:var A=(r.length-2)/2,M=r.substr(2,A),B=r.substr(A+2,A);return new zt(this,this.fromBigInteger(new G(M,16)),this.fromBigInteger(new G(B,16)));default:return null}},yn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},zt.prototype.getEncoded=function(r){var u=function(y,_){var w=y.toByteArrayUnsigned();if(_<w.length)w=w.slice(w.length-_);else for(;_>w.length;)w.unshift(0);return w},l=this.getX().toBigInteger(),h=this.getY().toBigInteger(),p=u(l,32);return r?h.isEven()?p.unshift(2):p.unshift(3):(p.unshift(4),p=p.concat(u(h,32))),p},zt.decodeFrom=function(r,u){var h=u.length-1,p=u.slice(1,1+h/2),y=u.slice(1+h/2,1+h);p.unshift(0),y.unshift(0);var _=new G(p),w=new G(y);return new zt(r,r.fromBigInteger(_),r.fromBigInteger(w))},zt.decodeFromHex=function(r,u){u.substr(0,2);var h=u.length-2,p=u.substr(2,h/2),y=u.substr(2+h/2,h/2),_=new G(p,16),w=new G(y,16);return new zt(r,r.fromBigInteger(_),r.fromBigInteger(w))},zt.prototype.add2D=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;if(this.x.equals(r.x))return this.y.equals(r.y)?this.twice():this.curve.getInfinity();var u=r.x.subtract(this.x),h=r.y.subtract(this.y).divide(u),p=h.square().subtract(this.x).subtract(r.x),y=h.multiply(this.x.subtract(p)).subtract(this.y);return new zt(this.curve,p,y)},zt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=this.curve.fromBigInteger(G.valueOf(2)),u=this.curve.fromBigInteger(G.valueOf(3)),l=this.x.square().multiply(u).add(this.curve.a).divide(this.y.multiply(r)),h=l.square().subtract(this.x.multiply(r)),p=l.multiply(this.x.subtract(h)).subtract(this.y);return new zt(this.curve,h,p)},zt.prototype.multiply2D=function(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var y,u=r,l=u.multiply(new G("3")),h=this.negate(),p=this;for(y=l.bitLength()-2;y>0;--y){p=p.twice();var _=l.testBit(y);_!=u.testBit(y)&&(p=p.add2D(_?this:h))}return p},zt.prototype.isOnCurve=function(){var r=this.getX().toBigInteger(),u=this.getY().toBigInteger(),l=this.curve.getA().toBigInteger(),h=this.curve.getB().toBigInteger(),p=this.curve.getQ(),y=u.multiply(u).mod(p),_=r.multiply(r).multiply(r).add(l.multiply(r)).add(h).mod(p);return y.equals(_)},zt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},zt.prototype.validate=function(){var r=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var u=this.getX().toBigInteger(),l=this.getY().toBigInteger();if(u.compareTo(G.ONE)<0||u.compareTo(r.subtract(G.ONE))>0)throw new Error("x coordinate out of bounds");if(l.compareTo(G.ONE)<0||l.compareTo(r.subtract(G.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(r).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var rs=function(){var h=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),p=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),y={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function _(k,b,S){return b?y[b]:String.fromCharCode(parseInt(S,16))}var w=new String(""),B=Object.hasOwnProperty;return function(k,b){var O,S=k.match(h),F=S[0],H=!1;"{"===F?O={}:"["===F?O=[]:(O=[],H=!0);for(var R,U=[O],X=1-H,ne=S.length;X<ne;++X){var ee;switch((F=S[X]).charCodeAt(0)){default:(ee=U[0])[R||ee.length]=+F,R=void 0;break;case 34:if(-1!==(F=F.substring(1,F.length-1)).indexOf("\\")&&(F=F.replace(p,_)),ee=U[0],!R){if(!(ee instanceof Array)){R=F||w;break}R=ee.length}ee[R]=F,R=void 0;break;case 91:U.unshift((ee=U[0])[R||ee.length]=[]),R=void 0;break;case 93:case 125:U.shift();break;case 102:(ee=U[0])[R||ee.length]=!1,R=void 0;break;case 110:(ee=U[0])[R||ee.length]=null,R=void 0;break;case 116:(ee=U[0])[R||ee.length]=!0,R=void 0;break;case 123:U.unshift((ee=U[0])[R||ee.length]={}),R=void 0}}if(H){if(1!==U.length)throw new Error;O=O[0]}else if(U.length)throw new Error;if(b){var Se=function($,W){var Z=$[W];if(Z&&"object"==typeof Z){var se=null;for(var me in Z)if(B.call(Z,me)&&Z!==$){var we=Se(Z,me);void 0!==we?Z[me]=we:(se||(se=[]),se.push(me))}if(se)for(var $e=se.length;--$e>=0;)delete Z[se[$e]]}return b.call($,W,Z)};O=Se({"":O},"")}return O}}();(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),g.asn1.ASN1Util=new function(){this.integerToByteHex=function(r){var u=r.toString(16);return u.length%2==1&&(u="0"+u),u},this.bigIntToMinTwosComplementsHex=function(r){var u=r.toString(16);if("-"!=u.substr(0,1))u.length%2==1?u="0"+u:u.match(/^[0-7]/)||(u="00"+u);else{var h=u.substr(1).length;h%2==1?h+=1:u.match(/^[0-7]/)||(h+=2);for(var p="",y=0;y<h;y++)p+="f";u=new G(p,16).xor(r).add(G.ONE).toString(16).replace(/^-/,"")}return u},this.getPEMStringFromHex=function(r,u){return Hn(r,u)},this.newObject=function(r){var l=g.asn1,h=l.ASN1Object,p=l.DERBoolean,y=l.DERInteger,_=l.DERBitString,w=l.DEROctetString,A=l.DERNull,M=l.DERObjectIdentifier,B=l.DEREnumerated,k=l.DERUTF8String,b=l.DERNumericString,S=l.DERPrintableString,O=l.DERTeletexString,F=l.DERIA5String,H=l.DERUTCTime,R=l.DERGeneralizedTime,U=l.DERVisibleString,X=l.DERBMPString,ne=l.DERSequence,ee=l.DERSet,Se=l.DERTaggedObject,$=l.ASN1Util.newObject;if(r instanceof l.ASN1Object)return r;var W=Object.keys(r);if(1!=W.length)throw new Error("key of param shall be only one.");var Z=W[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Z+":"))throw new Error("undefined key: "+Z);if("bool"==Z)return new p(r[Z]);if("int"==Z)return new y(r[Z]);if("bitstr"==Z)return new _(r[Z]);if("octstr"==Z)return new w(r[Z]);if("null"==Z)return new A(r[Z]);if("oid"==Z)return new M(r[Z]);if("enum"==Z)return new B(r[Z]);if("utf8str"==Z)return new k(r[Z]);if("numstr"==Z)return new b(r[Z]);if("prnstr"==Z)return new S(r[Z]);if("telstr"==Z)return new O(r[Z]);if("ia5str"==Z)return new F(r[Z]);if("utctime"==Z)return new H(r[Z]);if("gentime"==Z)return new R(r[Z]);if("visstr"==Z)return new U(r[Z]);if("bmpstr"==Z)return new X(r[Z]);if("asn1"==Z)return new h(r[Z]);if("seq"==Z){for(var se=r[Z],me=[],we=0;we<se.length;we++){var $e=$(se[we]);me.push($e)}return new ne({array:me})}if("set"==Z){for(se=r[Z],me=[],we=0;we<se.length;we++)$e=$(se[we]),me.push($e);return new ee({array:me})}if("tag"==Z){var ge=r[Z];if("[object Array]"===Object.prototype.toString.call(ge)&&3==ge.length){var Ie=$(ge[2]);return new Se({tag:ge[0],explicit:ge[1],obj:Ie})}return new Se(ge)}},this.jsonToASN1HEX=function(r){return this.newObject(r).tohex()}},g.asn1.ASN1Util.oidHexToInt=function(r){for(var p="",u=parseInt(r.substr(0,2),16),y=(p=Math.floor(u/40)+"."+u%40,""),_=2;_<r.length;_+=2){var A=("00000000"+parseInt(r.substr(_,2),16).toString(2)).slice(-8);y+=A.substr(1,7),"0"==A.substr(0,1)&&(p=p+"."+new G(y,2).toString(10),y="")}return p},g.asn1.ASN1Util.oidIntToHex=function(r){var u=function(w){var A=w.toString(16);return 1==A.length&&(A="0"+A),A},l=function(w){var A="",B=new G(w,10).toString(2),k=7-B.length%7;7==k&&(k=0);for(var b="",S=0;S<k;S++)b+="0";for(B=b+B,S=0;S<B.length-1;S+=7){var O=B.substr(S,7);S!=B.length-7&&(O="1"+O),A+=u(parseInt(O,2))}return A};if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var h="",p=r.split("."),y=40*parseInt(p[0])+parseInt(p[1]);h+=u(y),p.splice(0,2);for(var _=0;_<p.length;_++)h+=l(p[_]);return h},g.asn1.ASN1Object=function(r){this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var _=this.hV.length/2,w=_.toString(16);if(w.length%2==1&&(w="0"+w),_<128)return w;var A=w.length/2;if(A>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+_.toString(16));return(128+A).toString(16)+w},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(_){this.params=_},null!=r&&null!=r.tlv&&(this.hTLV=r.tlv,this.isModified=!1)},g.asn1.DERAbstractString=function(r){g.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(h){this.hTLV=null,this.isModified=!0,this.s=h,this.hV=Wi(this.s).toLowerCase()},this.setStringHex=function(h){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=h},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&("string"==typeof r?this.setString(r):typeof r.str<"u"?this.setString(r.str):typeof r.hex<"u"&&this.setStringHex(r.hex))},He(g.asn1.DERAbstractString,g.asn1.ASN1Object),g.asn1.DERAbstractTime=function(r){g.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(h){var p=h.getTime()+6e4*h.getTimezoneOffset();return new Date(p)},this.formatDate=function(h,p,y){var _=this.zeroPadding,w=this.localDateToUTC(h),A=String(w.getFullYear());"utc"==p&&(A=A.substr(2,2));var O=A+_(String(w.getMonth()+1),2)+_(String(w.getDate()),2)+_(String(w.getHours()),2)+_(String(w.getMinutes()),2)+_(String(w.getSeconds()),2);if(!0===y){var F=w.getMilliseconds();if(0!=F){var H=_(String(F),3);O=O+"."+(H=H.replace(/[0]+$/,""))}}return O+"Z"},this.zeroPadding=function(h,p){return h.length>=p?h:new Array(p-h.length+1).join("0")+h},this.setByParam=function(h){this.hV=null,this.hTLV=null,this.params=h},this.getString=function(){},this.setString=function(h){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=h},this.setByDate=function(h){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=h},this.setByDateValue=function(h,p,y,_,w,A){var M=new Date(Date.UTC(h,p-1,y,_,w,A,0));this.setByDate(M)},this.getFreshValueHex=function(){return this.hV}},He(g.asn1.DERAbstractTime,g.asn1.ASN1Object),g.asn1.DERAbstractStructured=function(r){g.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(l){this.hTLV=null,this.isModified=!0,this.asn1Array=l},this.appendASN1Object=function(l){this.hTLV=null,this.isModified=!0,this.asn1Array.push(l)},this.asn1Array=new Array,typeof r<"u"&&typeof r.array<"u"&&(this.asn1Array=r.array)},He(g.asn1.DERAbstractStructured,g.asn1.ASN1Object),g.asn1.DERBoolean=function(r){g.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==r?"010100":"0101ff"},He(g.asn1.DERBoolean,g.asn1.ASN1Object),g.asn1.DERInteger=function(r){g.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(u){this.hTLV=null,this.isModified=!0,this.hV=g.asn1.ASN1Util.bigIntToMinTwosComplementsHex(u)},this.setByInteger=function(u){var l=new G(String(u),10);this.setByBigInteger(l)},this.setValueHex=function(u){this.hV=u},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r.bigint<"u"?this.setByBigInteger(r.bigint):typeof r.int<"u"?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):typeof r.hex<"u"&&this.setValueHex(r.hex))},He(g.asn1.DERInteger,g.asn1.ASN1Object),g.asn1.DERBitString=function(r){if(void 0!==r&&typeof r.obj<"u"){var u=g.asn1.ASN1Util.newObject(r.obj);r.hex="00"+u.tohex()}g.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(l){this.hTLV=null,this.isModified=!0,this.hV=l},this.setUnusedBitsAndHexValue=function(l,h){if(l<0||7<l)throw"unused bits shall be from 0 to 7: u = "+l;var p="0"+l;this.hTLV=null,this.isModified=!0,this.hV=p+h},this.setByBinaryString=function(l){var h=8-(l=l.replace(/0+$/,"")).length%8;8==h&&(h=0),l+="0000000".substr(0,h);for(var p="",y=0;y<l.length-1;y+=8){var _=l.substr(y,8),w=parseInt(_,2).toString(16);1==w.length&&(w="0"+w),p+=w}this.hTLV=null,this.isModified=!0,this.hV="0"+h+p},this.setByBooleanArray=function(l){for(var h="",p=0;p<l.length;p++)h+=1==l[p]?"1":"0";this.setByBinaryString(h)},this.newFalseArray=function(l){for(var h=new Array(l),p=0;p<l;p++)h[p]=!1;return h},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&("string"==typeof r&&r.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(r):typeof r.hex<"u"?this.setHexValueIncludingUnusedBits(r.hex):typeof r.bin<"u"?this.setByBinaryString(r.bin):typeof r.array<"u"&&this.setByBooleanArray(r.array))},He(g.asn1.DERBitString,g.asn1.ASN1Object),g.asn1.DEROctetString=function(r){if(void 0!==r&&typeof r.obj<"u"){var u=g.asn1.ASN1Util.newObject(r.obj);r.hex=u.tohex()}g.asn1.DEROctetString.superclass.constructor.call(this,r),this.hT="04"},He(g.asn1.DEROctetString,g.asn1.DERAbstractString),g.asn1.DERNull=function(){g.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},He(g.asn1.DERNull,g.asn1.ASN1Object),g.asn1.DERObjectIdentifier=function(r){g.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(u){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueOidString=function(u){var l=function Ar(r){var u=function(w){var A=w.toString(16);return 1==A.length&&(A="0"+A),A},l=function(w){var A="",B=parseInt(w,10).toString(2),k=7-B.length%7;7==k&&(k=0);for(var b="",S=0;S<k;S++)b+="0";for(B=b+B,S=0;S<B.length-1;S+=7){var O=B.substr(S,7);S!=B.length-7&&(O="1"+O),A+=u(parseInt(O,2))}return A};try{if(!r.match(/^[0-9.]+$/))return null;var h="",p=r.split("."),y=40*parseInt(p[0],10)+parseInt(p[1],10);h+=u(y),p.splice(0,2);for(var _=0;_<p.length;_++)h+=l(p[_]);return h}catch{return null}}(u);if(null==l)throw new Error("malformed oid string: "+u);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=l},this.setValueName=function(u){var l=g.asn1.x509.OID.name2oid(u);if(""===l)throw new Error("DERObjectIdentifier oidName undefined: "+u);this.setValueOidString(l)},this.setValueNameOrOid=function(u){u.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(u):this.setValueName(u)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(u){"string"==typeof u?this.setValueNameOrOid(u):void 0!==u.oid?this.setValueNameOrOid(u.oid):void 0!==u.name?this.setValueNameOrOid(u.name):void 0!==u.hex&&this.setValueHex(u.hex)},void 0!==r&&this.setByParam(r)},He(g.asn1.DERObjectIdentifier,g.asn1.ASN1Object),g.asn1.DEREnumerated=function(r){g.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(u){this.hTLV=null,this.isModified=!0,this.hV=g.asn1.ASN1Util.bigIntToMinTwosComplementsHex(u)},this.setByInteger=function(u){var l=new G(String(u),10);this.setByBigInteger(l)},this.setValueHex=function(u){this.hV=u},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r.int<"u"?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):typeof r.hex<"u"&&this.setValueHex(r.hex))},He(g.asn1.DEREnumerated,g.asn1.ASN1Object),g.asn1.DERUTF8String=function(r){g.asn1.DERUTF8String.superclass.constructor.call(this,r),this.hT="0c"},He(g.asn1.DERUTF8String,g.asn1.DERAbstractString),g.asn1.DERNumericString=function(r){g.asn1.DERNumericString.superclass.constructor.call(this,r),this.hT="12"},He(g.asn1.DERNumericString,g.asn1.DERAbstractString),g.asn1.DERPrintableString=function(r){g.asn1.DERPrintableString.superclass.constructor.call(this,r),this.hT="13"},He(g.asn1.DERPrintableString,g.asn1.DERAbstractString),g.asn1.DERTeletexString=function(r){g.asn1.DERTeletexString.superclass.constructor.call(this,r),this.hT="14"},He(g.asn1.DERTeletexString,g.asn1.DERAbstractString),g.asn1.DERIA5String=function(r){g.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="16"},He(g.asn1.DERIA5String,g.asn1.DERAbstractString),g.asn1.DERVisibleString=function(r){g.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="1a"},He(g.asn1.DERVisibleString,g.asn1.DERAbstractString),g.asn1.DERBMPString=function(r){g.asn1.DERBMPString.superclass.constructor.call(this,r),this.hT="1e"},He(g.asn1.DERBMPString,g.asn1.DERAbstractString),g.asn1.DERUTCTime=function(r){g.asn1.DERUTCTime.superclass.constructor.call(this,r),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var u=this.params;if(null==this.params&&(u={date:new Date}),"string"==typeof u){if(!u.match(/^[0-9]{12}Z$/)&&!u.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+u);this.hV=Tn(u)}else if(null!=u.str)this.hV=Tn(u.str);else if(null==u.date&&1==u.millis){var l=new Date;this.hV=Tn(this.formatDate(l,"utc",!0))}else null!=u.date&&u.date instanceof Date?this.hV=Tn(this.formatDate(u.date,"utc",!0===u.millis)):u instanceof Date&&(this.hV=Tn(this.formatDate(u,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=r&&this.setByParam(r)},He(g.asn1.DERUTCTime,g.asn1.DERAbstractTime),g.asn1.DERGeneralizedTime=function(r){g.asn1.DERGeneralizedTime.superclass.constructor.call(this,r),this.hT="18",this.params=r,this.getFreshValueHex=function(){var u=this.params;if(null==this.params&&(u={date:new Date}),"string"==typeof u){if(!u.match(/^[0-9]{14}Z$/)&&!u.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+u);this.hV=Tn(u)}else if(null!=u.str)this.hV=Tn(u.str);else if(null==u.date&&1==u.millis){var l=new Date;this.hV=Tn(this.formatDate(l,"gen",!0))}else null!=u.date&&u.date instanceof Date?this.hV=Tn(this.formatDate(u.date,"gen",!0===u.millis)):u instanceof Date&&(this.hV=Tn(this.formatDate(u,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=r&&this.setByParam(r)},He(g.asn1.DERGeneralizedTime,g.asn1.DERAbstractTime),g.asn1.DERSequence=function(r){g.asn1.DERSequence.superclass.constructor.call(this,r),this.hT="30",this.getFreshValueHex=function(){for(var u="",l=0;l<this.asn1Array.length;l++)u+=this.asn1Array[l].tohex();return this.hV=u,this.hV}},He(g.asn1.DERSequence,g.asn1.DERAbstractStructured),g.asn1.DERSet=function(r){g.asn1.DERSet.superclass.constructor.call(this,r),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var u=new Array,l=0;l<this.asn1Array.length;l++)u.push(this.asn1Array[l].tohex());return 1==this.sortFlag&&u.sort(),this.hV=u.join(""),this.hV},typeof r<"u"&&typeof r.sortflag<"u"&&0==r.sortflag&&(this.sortFlag=!1)},He(g.asn1.DERSet,g.asn1.DERAbstractStructured),g.asn1.DERTaggedObject=function(r){g.asn1.DERTaggedObject.superclass.constructor.call(this);var u=g.asn1,h=Ye.getV,y=u.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(_,w,A){this.params={tag:w,explicit:_,obj:A}},this.getFreshValueHex=function(){var _=this.params;if(null==_.explicit&&(_.explicit=!0),null!=_.tage&&(_.tag=_.tage,_.explicit=!0),null!=_.tagi&&(_.tag=_.tagi,_.explicit=!1),null!=_.str)this.hV=Wi(_.str);else if(null!=_.hex)this.hV=_.hex;else{if(null==_.obj)throw new Error("str, hex nor obj not specified");var w;_.obj instanceof u.ASN1Object?w=_.obj.tohex():"object"==typeof _.obj&&(w=y(_.obj).tohex()),this.hV=_.explicit?w:h(w,0)}return null==_.tag&&(_.tag="a0"),this.hT=_.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(_){this.params=_},void 0!==r&&this.setByParam(r)},He(g.asn1.DERTaggedObject,g.asn1.ASN1Object);var g,nr,or,Ye=new function(){};function bi(r){for(var u="",l=0;l<r.length;l++){var h=r[l].toString(16);1==h.length&&(h="0"+h),u+=h}return u}function Tn(r){return bi(function Ps(r){for(var u=new Array,l=0;l<r.length;l++)u[l]=r.charCodeAt(l);return u}(r))}function Jr(r){return(r=(r=r.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function fn(r){return r.length%4==2?r+="==":r.length%4==3&&(r+="="),(r=r.replace(/-/g,"+")).replace(/_/g,"/")}function mn(r){return r.length%2==1&&(r="0"+r),Jr(ue(r))}function Jt(r){return Ee(fn(r))}function Wi(r){return V(vt(r)).toLowerCase()}function Xt(r){try{return decodeURIComponent(P(r))}catch{return null}}function go(r){return Xt(function _r(r){for(var u=r.match(/.{1,2}/g),l=[],h=0;h<u.length;h++){var p=parseInt(u[h],16);161<=p&&p<=191?(l.push("c2"),l.push(u[h])):192<=p&&p<=255?(l.push("c3"),l.push((p-64).toString(16))):l.push(u[h])}return l.join("")}(r))}function pn(r){for(var u="",l=0;l<r.length-1;l+=2)u+=String.fromCharCode(parseInt(r.substr(l,2),16));return u}function Mn(r){for(var u="",l=0;l<r.length;l++)u+=("0"+r.charCodeAt(l).toString(16)).slice(-2);return u}function xi(r){var l=function Os(r){return ue(r)}(r).replace(/(.{64})/g,"$1\r\n");return l.replace(/\r\n$/,"")}function Hn(r,u){return"-----BEGIN "+u+"-----\r\n"+xi(r)+"\r\n-----END "+u+"-----\r\n"}function cn(r,u){if(-1==r.indexOf("-----BEGIN "))throw"can't find PEM header: "+u;return function Zo(r){return Ee(r.replace(/[^0-9A-Za-z\/+=]*/g,""))}(r=void 0!==u?(r=r.replace(new RegExp("^[^]*-----BEGIN "+u+"-----"),"")).replace(new RegExp("-----END "+u+"-----[^]*$"),""):(r=r.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function nu(r){return Math.round(function ss(r){var u,l,h,p,y,_,w,M,B,k,b;if(b=r.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return M=b[1],u=parseInt(M),2===M.length&&(50<=u&&u<100?u=1900+u:0<=u&&u<50&&(u=2e3+u)),l=parseInt(b[2])-1,h=parseInt(b[3]),p=parseInt(b[4]),y=parseInt(b[5]),_=parseInt(b[6]),w=0,""!==(B=b[7])&&(k=(B.substr(1)+"00").substr(0,3),w=parseInt(k)),Date.UTC(u,l,h,p,y,_,w);throw new Error("unsupported zulu format: "+r)}(r)/1e3)}function V(r){return r.replace(/%/g,"")}function P(r){return r.replace(/(..)/g,"%$1")}function q(r){var u="malformed IPv6 address";if(!r.match(/^[0-9A-Fa-f:]+$/))throw u;var l=(r=r.toLowerCase()).split(":").length-1;if(l<2)throw u;var h=":".repeat(7-l+2),p=(r=r.replace("::",h)).split(":");if(8!=p.length)throw u;for(var y=0;y<8;y++)p[y]=("0000"+p[y]).slice(-4);return p.join("")}function le(r){if(!r.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+r);var u=(r=r.toLowerCase()).match(/.{1,4}/g);u=u.map(function(p){return p.replace(/^0+/,"")}),u=u.map(function(p){return""==p?"0":p});var l=(r=":"+u.join(":")+":").match(/:(0:){2,}/g);if(null==l)return r.slice(1,-1);var h=l.sort().slice(-1)[0];return"::"!=(r=r.replace(h.substr(0,h.length-1),":")).substr(0,2)&&(r=r.substr(1)),"::"!=r.substr(-2,2)&&(r=r.substr(0,r.length-1)),r}function Oe(r){var u=new Error("malformed hex value");if(!r.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw u;if(8==r.length)try{return parseInt(r.substr(0,2),16)+"."+parseInt(r.substr(2,2),16)+"."+parseInt(r.substr(4,2),16)+"."+parseInt(r.substr(6,2),16)}catch{throw u}else{if(16!=r.length){if(32==r.length)return le(r);if(64==r.length){try{return le(r.substr(0,32))+"/"+Ue(r.substr(32))}catch{throw u}return}return r}try{return Oe(r.substr(0,8))+"/"+Ue(r.substr(8))}catch{throw u}}}function Ue(r){var l,u=new Error("malformed mask");try{l=new G(r,16).toString(2)}catch{throw u}if(!l.match(/^1*0*$/))throw u;return l.replace(/0+$/,"").length}function lt(r){var u=new Error("malformed IP address");if(!(r=r.toLowerCase(r)).match(/^[0-9a-f.:/]+$/))throw u;if(!r.match(/^[0-9.]+$/)){var _;if(r.match(/^[0-9.]+\/[0-9]+$/))return lt((_=r.split("/"))[0])+Tt(parseInt(_[1]),32);if(r.match(/^[0-9a-f:]+$/)&&-1!==r.indexOf(":"))return q(r);if(r.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==r.indexOf(":"))return q((_=r.split("/"))[0])+Tt(parseInt(_[1]),128);throw u}var l=r.split(".");if(4!==l.length)throw u;var h="";try{for(var p=0;p<4;p++)h+=("0"+parseInt(l[p]).toString(16)).slice(-2);return h}catch{throw u}}function Tt(r,u){return 32==u&&0==r?"00000000":128==u&&0==r?"00000000000000000000000000000000":new G(Array(r+1).join("1")+Array(u-r+1).join("0"),2).toString(16)}function Mt(r){var h=r.match(/.{4}/g).map(function u(p){var y=parseInt(p.substr(0,2),16),_=parseInt(p.substr(2),16);if(0==y&_<128)return String.fromCharCode(_);if(y<8){var A=128|63&_;return Xt((192|(7&y)<<3|(192&_)>>6).toString(16)+A.toString(16))}A=128|(15&y)<<2|(192&_)>>6;var M=128|63&_;return Xt((224|(240&y)>>4).toString(16)+A.toString(16)+M.toString(16))});return h.join("")}function vt(r){for(var u=encodeURIComponent(r),l="",h=0;h<u.length;h++)"%"==u[h]?(l+=u.substr(h,3),h+=2):l=l+"%"+Tn(u[h]);return l}function on(r){return!(r.length%2!=0||!r.match(/^[0-9a-f]+$/)&&!r.match(/^[0-9A-F]+$/))}function Vn(r){return!!r.match(/^[0-9A-Za-z-_.]+$/)}function Lr(r){return r.length%2==1?"0"+r:r.substr(0,1)>"7"?"00"+r:r}function Hr(r){if(!on(r))return null;try{var u=[],l=r.substr(0,2),h=parseInt(l,16);u[0]=new String(Math.floor(h/40)),u[1]=new String(h%40);for(var p=r.substr(2),y=[],_=0;_<p.length/2;_++)y.push(parseInt(p.substr(2*_,2),16));var w=[],A="";for(_=0;_<y.length;_++)128&y[_]?A+=ci((127&y[_]).toString(2),7):(A+=ci((127&y[_]).toString(2),7),w.push(new String(parseInt(A,2))),A="");var M=u.join(".");return w.length>0&&(M=M+"."+w.join(".")),M}catch{return null}}Ye.getLblen=function(r,u){if("8"!=r.substr(u+2,1))return 1;var l=parseInt(r.substr(u+3,1));return 0==l?-1:0<l&&l<10?l+1:-2},Ye.getL=function(r,u){var l=Ye.getLblen(r,u);return l<1?"":r.substr(u+2,2*l)},Ye.getVblen=function(r,u){var l;return""==(l=Ye.getL(r,u))?-1:("8"===l.substr(0,1)?new G(l.substr(2),16):new G(l,16)).intValue()},Ye.getVidx=function(r,u){var l=Ye.getLblen(r,u);return l<0?l:u+2*(l+1)},Ye.getV=function(r,u){var l=Ye.getVidx(r,u),h=Ye.getVblen(r,u);return r.substr(l,2*h)},Ye.getTLV=function(r,u){return r.substr(u,2)+Ye.getL(r,u)+Ye.getV(r,u)},Ye.getTLVblen=function(r,u){return 2+2*Ye.getLblen(r,u)+2*Ye.getVblen(r,u)},Ye.getNextSiblingIdx=function(r,u){return Ye.getVidx(r,u)+2*Ye.getVblen(r,u)},Ye.getChildIdx=function(r,u){var p,y,_,l=Ye,h=[];p=l.getVidx(r,u),y=2*l.getVblen(r,u),"03"==r.substr(u,2)&&(p+=2,y-=2),_=0;for(var w=p;_<=y;){var A=l.getTLVblen(r,w);if((_+=A)<=y&&h.push(w),w+=A,_>=y)break}return h},Ye.getNthChildIdx=function(r,u,l){return Ye.getChildIdx(r,u)[l]},Ye.getIdxbyList=function(r,u,l,h){var y,_,p=Ye;return 0==l.length?void 0!==h&&r.substr(u,2)!==h?-1:u:(y=l.shift())>=(_=p.getChildIdx(r,u)).length?-1:p.getIdxbyList(r,_[y],l,h)},Ye.getIdxbyListEx=function(r,u,l,h){var y,_,p=Ye;if(0==l.length)return void 0!==h&&r.substr(u,2)!==h?-1:u;y=l.shift(),_=p.getChildIdx(r,u);for(var w=0,A=0;A<_.length;A++){var M=r.substr(_[A],2);if("number"==typeof y&&!p.isContextTag(M)&&w==y||"string"==typeof y&&p.isContextTag(M,y))return p.getIdxbyListEx(r,_[A],l,h);p.isContextTag(M)||w++}return-1},Ye.getTLVbyList=function(r,u,l,h){var p=Ye,y=p.getIdxbyList(r,u,l,h);return-1==y||y>=r.length?null:p.getTLV(r,y)},Ye.getTLVbyListEx=function(r,u,l,h){var p=Ye,y=p.getIdxbyListEx(r,u,l,h);return-1==y?null:p.getTLV(r,y)},Ye.getVbyList=function(r,u,l,h,p){var _,w,y=Ye;return-1==(_=y.getIdxbyList(r,u,l,h))||_>=r.length?null:(w=y.getV(r,_),!0===p&&(w=w.substr(2)),w)},Ye.getVbyListEx=function(r,u,l,h,p){var _,A,y=Ye;return-1==(_=y.getIdxbyListEx(r,u,l,h))?null:(A=y.getV(r,_),"03"==r.substr(_,2)&&!1!==p&&(A=A.substr(2)),A)},Ye.getInt=function(r,u,l){null==l&&(l=-1);try{var h=r.substr(u,2);if("02"!=h&&"03"!=h)return l;var p=Ye.getV(r,u);return"02"==h?parseInt(p,16):function os(r){if(r.length%2!=0||null==(r=r.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var u=r.substr(0,2);if("00"==u)return parseInt(r.substr(2),16);var l=parseInt(u,16);if(l>7)return-1;var h=r.substr(2),p=parseInt(h,16).toString(2);"0"==p&&(p="00000000"),p=p.slice(0,0-l);var y=parseInt(p,2);return NaN==y?-1:y}catch{return-1}}(p)}catch{return l}},Ye.getOID=function(r,u,l){null==l&&(l=null);try{return"06"!=r.substr(u,2)?l:Hr(Ye.getV(r,u))}catch{return l}},Ye.getOIDName=function(r,u,l){null==l&&(l=null);try{var h=Ye.getOID(r,u,l);if(h==l)return l;var p=g.asn1.x509.OID.oid2name(h);return""==p?h:p}catch{return l}},Ye.getString=function(r,u,l){null==l&&(l=null);try{return pn(Ye.getV(r,u))}catch{return l}},Ye.hextooidstr=function(r){var u=function(k,b){return k.length>=b?k:new Array(b-k.length+1).join("0")+k},l=[],h=r.substr(0,2),p=parseInt(h,16);l[0]=new String(Math.floor(p/40)),l[1]=new String(p%40);for(var y=r.substr(2),_=[],w=0;w<y.length/2;w++)_.push(parseInt(y.substr(2*w,2),16));var A=[],M="";for(w=0;w<_.length;w++)128&_[w]?M+=u((127&_[w]).toString(2),7):(M+=u((127&_[w]).toString(2),7),A.push(new String(parseInt(M,2))),M="");var B=l.join(".");return A.length>0&&(B=B+"."+A.join(".")),B},Ye.dump=function(r,u,l,h){var p=Ye,y=p.getV,_=p.dump,w=p.getChildIdx,A=r;r instanceof g.asn1.ASN1Object&&(A=r.tohex());var M=function($,W){return $.length<=2*W?$:$.substr(0,W)+"..(total "+$.length/2+"bytes).."+$.substr($.length-W,W)};void 0===u&&(u={ommit_long_octet:32}),void 0===l&&(l=0),void 0===h&&(h="");var ee,B=u.ommit_long_octet;if("01"==(ee=A.substr(l,2)))return"00"==(k=y(A,l))?h+"BOOLEAN FALSE\n":h+"BOOLEAN TRUE\n";if("02"==ee)return h+"INTEGER "+M(k=y(A,l),B)+"\n";if("03"==ee){var k=y(A,l);return p.isASN1HEX(k.substr(2))?(b=h+"BITSTRING, encapsulates\n")+_(k.substr(2),u,0,h+"  "):h+"BITSTRING "+M(k,B)+"\n"}if("04"==ee)return k=y(A,l),p.isASN1HEX(k)?(b=h+"OCTETSTRING, encapsulates\n")+_(k,u,0,h+"  "):h+"OCTETSTRING "+M(k,B)+"\n";if("05"==ee)return h+"NULL\n";if("06"==ee){var S=y(A,l),O=g.asn1.ASN1Util.oidHexToInt(S),F=g.asn1.x509.OID.oid2name(O),H=O.replace(/\./g," ");return""!=F?h+"ObjectIdentifier "+F+" ("+H+")\n":h+"ObjectIdentifier ("+H+")\n"}if("0a"==ee)return h+"ENUMERATED "+parseInt(y(A,l))+"\n";if("0c"==ee)return h+"UTF8String '"+Xt(y(A,l))+"'\n";if("13"==ee)return h+"PrintableString '"+Xt(y(A,l))+"'\n";if("14"==ee)return h+"TeletexString '"+Xt(y(A,l))+"'\n";if("16"==ee)return h+"IA5String '"+Xt(y(A,l))+"'\n";if("17"==ee)return h+"UTCTime "+Xt(y(A,l))+"\n";if("18"==ee)return h+"GeneralizedTime "+Xt(y(A,l))+"\n";if("1a"==ee)return h+"VisualString '"+Xt(y(A,l))+"'\n";if("1e"==ee)return h+"BMPString '"+Mt(y(A,l))+"'\n";if("30"==ee){if("3000"==A.substr(l,4))return h+"SEQUENCE {}\n";b=h+"SEQUENCE\n";var U=u;if((2==(R=w(A,l)).length||3==R.length)&&"06"==A.substr(R[0],2)&&"04"==A.substr(R[R.length-1],2)){F=p.oidname(y(A,R[0]));var X=JSON.parse(JSON.stringify(u));X.x509ExtName=F,U=X}for(var ne=0;ne<R.length;ne++)b+=_(A,U,R[ne],h+"  ");return b}if("31"==ee){b=h+"SET\n";var R=w(A,l);for(ne=0;ne<R.length;ne++)b+=_(A,u,R[ne],h+"  ");return b}if(0!=(128&(ee=parseInt(ee,16)))){var b,Se=31&ee;if(0!=(32&ee)){for(b=h+"["+Se+"]\n",R=w(A,l),ne=0;ne<R.length;ne++)b+=_(A,u,R[ne],h+"  ");return b}return k=y(A,l),Ye.isASN1HEX(k)?(b=h+"["+Se+"]\n")+_(k,u,0,h+"  "):(("68747470"==k.substr(0,8)||"subjectAltName"===u.x509ExtName&&2==Se)&&(k=Xt(k)),h+"["+Se+"] "+k+"\n")}return h+"UNKNOWN("+ee+") "+y(A,l)+"\n"},Ye.parse=function(r){var l=Ye.parse,h=Ye.isASN1HEX,p=Ye.getV,y=Ye.getTLV,_=Ye.getChildIdx,w=g.asn1,A=w.ASN1Util.oidHexToInt,M=w.x509.OID.oid2name,B=Xt,k=Mt,b=go,S={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},F=r.substr(0,2),H={},R=p(r,0);if("01"==F)return"0101ff"==r?{bool:!0}:{bool:!1};if("02"==F)return{int:{hex:R}};if("03"==F)try{if("00"!=R.substr(0,2))throw"not encap";var U=R.substr(2);if(!h(U))throw"not encap";return{bitstr:{obj:l(U)}}}catch{var X=null;return R.length<=10&&(X=function hi(r){if("string"!=typeof r||r.length%2!=0||!r.match(/^[0-9a-f]+$/))return null;try{var u=parseInt(r.substr(0,2),16);if(u<0||7<u)return null;for(var l=r.substr(2),h="",p=0;p<l.length;p+=2){var y=l.substr(p,2),_=parseInt(y,16).toString(2);h+=_=("0000000"+_).slice(-8)}return h.substr(0,h.length-u)}catch{return null}}(R)),null==X?{bitstr:{hex:R}}:{bitstr:{bin:X}}}else if("04"==F)try{if(!h(R))throw"not encap";return{octstr:{obj:l(R)}}}catch{return{octstr:{hex:R}}}else{if("05"==F)return{null:""};if("06"==F){var ne=A(R),ee=M(ne);return""==ee?{oid:ne}:{oid:ee}}if("0a"==F)return R.length>4?{enum:{hex:R}}:{enum:parseInt(R,16)};if("30"==F||"31"==F)return H[S[F]]=function(Z){for(var se=[],me=_(Z,0),we=0;we<me.length;we++){var ge=y(Z,me[we]),Ie=l(ge);se.push(Ie)}return se}(r),H;if("14"==F){var Se=b(R);return H[S[F]]={str:Se},H}if("1e"==F)return Se=k(R),H[S[F]]={str:Se},H;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(F))return Se=B(R),H[S[F]]={str:Se},H;if(F.match(/^8[0-9]$/))return null==(Se=B(R))|""==Se||null!=Se.match(/[\x00-\x1F\x7F-\x9F]/)||null!=Se.match(/[\u0000-\u001F\u0080\u2013\u009F]/)?{tag:{tag:F,explicit:!1,hex:R}}:{tag:{tag:F,explicit:!1,str:Se}};if(!F.match(/^a[0-9]$/)){var $=new g.asn1.ASN1Object;return $.hV=R,{asn1:{tlv:F+$.getLengthHexFromValue()+R}}}try{if(!h(R))throw new Error("not encap");return{tag:{tag:F,explicit:!0,obj:l(R)}}}catch{return{tag:{tag:F,explicit:!0,hex:R}}}}},Ye.isContextTag=function(r,u){var l,h;r=r.toLowerCase();try{l=parseInt(r,16)}catch{return-1}if(void 0===u)return 128==(192&l);try{return!(null==u.match(/^\[[0-9]+\]$/)||(h=parseInt(u.substr(1,u.length-1),10),h>31))&&128==(192&l)&&(31&l)==h}catch{return!1}},Ye.isASN1HEX=function(r){var u=Ye;if(r.length%2==1)return!1;var l=u.getVblen(r,0),h=r.substr(0,2),p=u.getL(r,0);return r.length-h.length-p.length==2*l},Ye.checkStrictDER=function(r,u,l,h,p){var y=Ye;if(void 0===l){if("string"!=typeof r)throw new Error("not hex string");if(r=r.toLowerCase(),!g.lang.String.isHex(r))throw new Error("not hex string");l=r.length,p=(h=r.length/2)<128?1:Math.ceil(h.toString(16))+1}if(y.getL(r,u).length>2*p)throw new Error("L of TLV too long: idx="+u);var w=y.getVblen(r,u);if(w>h)throw new Error("value of L too long than hex: idx="+u);var A=y.getTLV(r,u),M=A.length-2-y.getL(r,u).length;if(M!==2*w)throw new Error("V string length and L's value not the same:"+M+"/"+2*w);if(0===u&&r.length!=A.length)throw new Error("total length and TLV length unmatch:"+r.length+"!="+A.length);var B=r.substr(u,2);if("02"===B){var k=y.getVidx(r,u);if("00"==r.substr(k,2)&&r.charCodeAt(k+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(B,16)){for(var b=y.getVblen(r,u),S=0,O=y.getChildIdx(r,u),F=0;F<O.length;F++)S+=y.getTLV(r,O[F]).length,y.checkStrictDER(r,O[F],l,h,p);if(2*b!=S)throw new Error("sum of children's TLV length and L unmatch: "+2*b+"!="+S)}},Ye.oidname=function(r){var u=g.asn1;g.lang.String.isHex(r)&&(r=u.ASN1Util.oidHexToInt(r));var l=u.x509.OID.oid2name(r);return""===l&&(l=r),l},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.x509>"u"||!g.asn1.x509)&&(g.asn1.x509={}),g.asn1.x509.Certificate=function(r){g.asn1.x509.Certificate.superclass.constructor.call(this);var l=g.asn1,h=l.DERBitString,p=l.DERSequence,y=l.x509,_=y.TBSCertificate,w=y.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(A){this.params=A},this.sign=function(){var A=this.params,M=A.sigalg;null!=A.sigalg.name&&(M=A.sigalg.name);var B=A.tbsobj.tohex(),k=new g.crypto.Signature({alg:M});k.init(A.cakey),k.updateHex(B),A.sighex=k.sign()},this.getPEM=function(){return Hn(this.tohex(),"CERTIFICATE")},this.tohex=function(){var A=this.params;if((null==A.tbsobj||null==A.tbsobj)&&(A.tbsobj=new _(A)),null==A.sighex&&null!=A.cakey&&this.sign(),null==A.sighex)throw new Error("sighex or cakey parameter not defined");var M=[];return M.push(A.tbsobj),M.push(new w({name:A.sigalg})),M.push(new h({hex:"00"+A.sighex})),new p({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&(this.params=r)},He(g.asn1.x509.Certificate,g.asn1.ASN1Object),g.asn1.x509.TBSCertificate=function(r){g.asn1.x509.TBSCertificate.superclass.constructor.call(this);var l=g.asn1,h=l.x509,p=l.DERTaggedObject,y=l.DERInteger,_=l.DERSequence,w=h.AlgorithmIdentifier,A=h.Time,M=h.X500Name,B=h.Extensions,k=h.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(b){this.params=b},this.tohex=function(){var b=[],S=this.params;if(null!=S.version||1!=S.version){var O=2;null!=S.version&&(O=S.version-1);var F=new p({obj:new y({int:O})});b.push(F)}return b.push(new y(S.serial)),b.push(new w({name:S.sigalg})),b.push(new M(S.issuer)),b.push(new _({array:[new A(S.notbefore),new A(S.notafter)]})),b.push(new M(S.subject)),b.push(new k($t.getKey(S.sbjpubkey))),void 0!==S.ext&&S.ext.length>0&&b.push(new p({tag:"a3",obj:new B(S.ext)})),new g.asn1.DERSequence({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.TBSCertificate,g.asn1.ASN1Object),g.asn1.x509.Extensions=function(r){g.asn1.x509.Extensions.superclass.constructor.call(this);var l=g.asn1,h=l.DERSequence,p=l.x509;this.aParam=[],this.setByParam=function(y){this.aParam=y},this.tohex=function(){for(var y=[],_=0;_<this.aParam.length;_++){var w=this.aParam[_],A=w.extname,M=null;if(null!=w.extn)M=new p.PrivateExtension(w);else if("subjectKeyIdentifier"==A)M=new p.SubjectKeyIdentifier(w);else if("keyUsage"==A)M=new p.KeyUsage(w);else if("subjectAltName"==A)M=new p.SubjectAltName(w);else if("issuerAltName"==A)M=new p.IssuerAltName(w);else if("basicConstraints"==A)M=new p.BasicConstraints(w);else if("nameConstraints"==A)M=new p.NameConstraints(w);else if("cRLDistributionPoints"==A)M=new p.CRLDistributionPoints(w);else if("certificatePolicies"==A)M=new p.CertificatePolicies(w);else if("authorityKeyIdentifier"==A)M=new p.AuthorityKeyIdentifier(w);else if("extKeyUsage"==A)M=new p.ExtKeyUsage(w);else if("authorityInfoAccess"==A)M=new p.AuthorityInfoAccess(w);else if("cRLNumber"==A)M=new p.CRLNumber(w);else if("cRLReason"==A)M=new p.CRLReason(w);else if("ocspNonce"==A)M=new p.OCSPNonce(w);else if("ocspNoCheck"==A)M=new p.OCSPNoCheck(w);else if("adobeTimeStamp"==A)M=new p.AdobeTimeStamp(w);else{if("subjectDirectoryAttributes"!=A)throw new Error("extension not supported:"+JSON.stringify(w));M=new p.SubjectDirectoryAttributes(w)}null!=M&&y.push(M)}return new h({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.x509.Extensions,g.asn1.ASN1Object),g.asn1.x509.Extension=function(r){g.asn1.x509.Extension.superclass.constructor.call(this);var h=g.asn1,p=h.DERObjectIdentifier,y=h.DEROctetString,w=h.DERBoolean,A=h.DERSequence;this.tohex=function(){var M=new p({oid:this.oid}),B=new y({hex:this.getExtnValueHex()}),k=new Array;return k.push(M),this.critical&&k.push(new w),k.push(B),new A({array:k}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==r&&void 0!==r.critical&&(this.critical=r.critical)},He(g.asn1.x509.Extension,g.asn1.ASN1Object),g.asn1.x509.KeyUsage=function(r){g.asn1.x509.KeyUsage.superclass.constructor.call(this,r);var u=Error,l={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var h=this.getBinValue();return this.asn1ExtnValue=new g.asn1.DERBitString({bin:h}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var h=this.params;if("object"!=typeof h||"object"!=typeof h.names&&"string"!=typeof h.bin)throw new u("parameter not yet set");if(null!=h.names)return Ns(h.names,l);if(null!=h.bin)return h.bin;throw new u("parameter not set properly")},this.oid="2.5.29.15",void 0!==r&&(this.params=r)},He(g.asn1.x509.KeyUsage,g.asn1.x509.Extension),g.asn1.x509.BasicConstraints=function(r){g.asn1.x509.BasicConstraints.superclass.constructor.call(this,r);var u=g.asn1,l=u.DERBoolean,h=u.DERInteger,p=u.DERSequence;this.getExtnValueHex=function(){var w=new Array;this.cA&&w.push(new l),this.pathLen>-1&&w.push(new h({int:this.pathLen}));var A=new p({array:w});return this.asn1ExtnValue=A,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==r&&(void 0!==r.cA&&(this.cA=r.cA),void 0!==r.pathLen&&(this.pathLen=r.pathLen))},He(g.asn1.x509.BasicConstraints,g.asn1.x509.Extension),g.asn1.x509.CRLDistributionPoints=function(r){g.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,r);var l=g.asn1,h=l.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(p){for(var y=[],_=0;_<p.length;_++)if(p[_]instanceof g.asn1.ASN1Object)y.push(p[_]);else{var w=new h.DistributionPoint(p[_]);y.push(w)}this.asn1ExtnValue=new l.DERSequence({array:y})},this.setByOneURI=function(p){var y=new h.DistributionPoint({fulluri:p});this.setByDPArray([y])},this.oid="2.5.29.31",void 0!==r&&(void 0!==r.array?this.setByDPArray(r.array):void 0!==r.uri&&this.setByOneURI(r.uri))},He(g.asn1.x509.CRLDistributionPoints,g.asn1.x509.Extension),g.asn1.x509.DistributionPoint=function(r){g.asn1.x509.DistributionPoint.superclass.constructor.call(this);var h=g.asn1,p=h.x509.DistributionPointName;this.tohex=function(){var y=new h.DERSequence;if(null!=this.asn1DP){var _=new h.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});y.appendASN1Object(_)}return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.dpobj?this.asn1DP=r.dpobj:void 0!==r.dpname?this.asn1DP=new p(r.dpname):void 0!==r.fulluri&&(this.asn1DP=new p({full:[{uri:r.fulluri}]})))},He(g.asn1.x509.DistributionPoint,g.asn1.ASN1Object),g.asn1.x509.DistributionPointName=function(r){g.asn1.x509.DistributionPointName.superclass.constructor.call(this);var _=g.asn1,w=_.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new w({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r)if(_.x509.GeneralNames.prototype.isPrototypeOf(r))this.type="full",this.tag="a0",this.asn1V=r;else{if(void 0===r.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new _.x509.GeneralNames(r.full)}},He(g.asn1.x509.DistributionPointName,g.asn1.ASN1Object),g.asn1.x509.CertificatePolicies=function(r){g.asn1.x509.CertificatePolicies.superclass.constructor.call(this,r);var l=g.asn1,p=l.DERSequence,y=l.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var _=[],w=0;w<this.params.array.length;w++)_.push(new y(this.params.array[w]));var A=new p({array:_});return this.asn1ExtnValue=A,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==r&&(this.params=r)},He(g.asn1.x509.CertificatePolicies,g.asn1.x509.Extension),g.asn1.x509.PolicyInformation=function(r){g.asn1.x509.PolicyInformation.superclass.constructor.call(this,r);var u=g.asn1,l=u.DERSequence,h=u.DERObjectIdentifier,p=u.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var y=[new h(this.params.policyoid)];if(void 0!==this.params.array){for(var _=[],w=0;w<this.params.array.length;w++)_.push(new p(this.params.array[w]));_.length>0&&y.push(new l({array:_}))}return new l({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},He(g.asn1.x509.PolicyInformation,g.asn1.ASN1Object),g.asn1.x509.PolicyQualifierInfo=function(r){g.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,r);var u=g.asn1,l=u.DERSequence,h=u.DERIA5String,p=u.DERObjectIdentifier,y=u.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new l({array:[new p({oid:"1.3.6.1.5.5.7.2.1"}),new h({str:this.params.cps})]}).tohex():null!=this.params.unotice?new l({array:[new p({oid:"1.3.6.1.5.5.7.2.2"}),new y(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},He(g.asn1.x509.PolicyQualifierInfo,g.asn1.ASN1Object),g.asn1.x509.UserNotice=function(r){g.asn1.x509.UserNotice.superclass.constructor.call(this,r);var u=g.asn1.DERSequence,h=g.asn1.x509.DisplayText,p=g.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var y=[];return void 0!==this.params.noticeref&&y.push(new p(this.params.noticeref)),void 0!==this.params.exptext&&y.push(new h(this.params.exptext)),new u({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},He(g.asn1.x509.UserNotice,g.asn1.ASN1Object),g.asn1.x509.NoticeReference=function(r){g.asn1.x509.NoticeReference.superclass.constructor.call(this,r);var u=g.asn1.DERSequence,l=g.asn1.DERInteger,h=g.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var p=[];if(void 0!==this.params.org&&p.push(new h(this.params.org)),void 0!==this.params.noticenum){for(var y=[],_=this.params.noticenum,w=0;w<_.length;w++)y.push(new l(_[w]));p.push(new u({array:y}))}if(0==p.length)throw new Error("parameter is empty");return new u({array:p}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(this.params=r)},He(g.asn1.x509.NoticeReference,g.asn1.ASN1Object),g.asn1.x509.DisplayText=function(r){g.asn1.x509.DisplayText.superclass.constructor.call(this,r),this.hT="0c",void 0!==r&&("ia5"===r.type?this.hT="16":"vis"===r.type?this.hT="1a":"bmp"===r.type&&(this.hT="1e"))},He(g.asn1.x509.DisplayText,g.asn1.DERAbstractString),g.asn1.x509.NameConstraints=function(r){g.asn1.x509.NameConstraints.superclass.constructor.call(this,r);var l=g.asn1,p=l.ASN1Util.newObject,y=l.x509.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var _=this.params,w=[];if(null!=_.permit&&null!=_.permit.length){for(var A=[],M=0;M<_.permit.length;M++)A.push(new y(_.permit[M]));w.push({tag:{tagi:"a0",obj:{seq:A}}})}if(null!=_.exclude&&null!=_.exclude.length){var B=[];for(M=0;M<_.exclude.length;M++)B.push(new y(_.exclude[M]));w.push({tag:{tagi:"a1",obj:{seq:B}}})}return this.asn1ExtnValue=p({seq:w}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==r&&(this.params=r)},He(g.asn1.x509.NameConstraints,g.asn1.x509.Extension),g.asn1.x509.GeneralSubtree=function(r){g.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var u=g.asn1,h=u.x509.GeneralName,p=u.ASN1Util.newObject;this.params=null,this.setByParam=function(y){this.params=y},this.tohex=function(){var y=this.params,_=[new h(y)];return null!=y.min&&_.push({tag:{tagi:"80",obj:{int:y.min}}}),null!=y.max&&_.push({tag:{tagi:"81",obj:{int:y.max}}}),p({seq:_}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.GeneralSubtree,g.asn1.ASN1Object),g.asn1.x509.ExtKeyUsage=function(r){g.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,r);var l=g.asn1;this.setPurposeArray=function(h){this.asn1ExtnValue=new l.DERSequence;for(var p=0;p<h.length;p++){var y=new l.DERObjectIdentifier(h[p]);this.asn1ExtnValue.appendASN1Object(y)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==r&&void 0!==r.array&&this.setPurposeArray(r.array)},He(g.asn1.x509.ExtKeyUsage,g.asn1.x509.Extension),g.asn1.x509.AuthorityKeyIdentifier=function(r){g.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,r);var l=g.asn1,h=l.DERTaggedObject,p=l.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var _=new Array;this.asn1KID&&_.push(new h({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&_.push(new h({explicit:!1,tag:"a1",obj:new p([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&_.push(new h({explicit:!1,tag:"82",obj:this.asn1CertSN}));var w=new l.DERSequence({array:_});return this.asn1ExtnValue=w,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(_){if(void 0!==_.str||void 0!==_.hex)this.asn1KID=new g.asn1.DEROctetString(_);else if("object"==typeof _&&g.crypto.Util.isKey(_)||"string"==typeof _&&-1!=_.indexOf("BEGIN ")){var w=_;"string"==typeof _&&(w=$t.getKey(_));var A=$t.getKeyID(w);this.asn1KID=new g.asn1.DEROctetString({hex:A})}},this.setCertIssuerByParam=function(_){void 0!==_.str||void 0!==_.ldapstr||void 0!==_.hex||void 0!==_.certsubject||void 0!==_.certissuer?this.asn1CertIssuer=new g.asn1.x509.X500Name(_):"string"==typeof _&&-1!=_.indexOf("BEGIN ")&&-1!=_.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new g.asn1.x509.X500Name({certissuer:_}))},this.setCertSNByParam=function(_){if(void 0!==_.str||void 0!==_.bigint||void 0!==_.hex)this.asn1CertSN=new g.asn1.DERInteger(_);else if("string"==typeof _&&-1!=_.indexOf("BEGIN ")&&_.indexOf("CERTIFICATE")){var w=new xt;w.readCertPEM(_);var A=w.getSerialNumberHex();this.asn1CertSN=new g.asn1.DERInteger({hex:A})}},this.oid="2.5.29.35",void 0!==r&&(void 0!==r.kid&&this.setKIDByParam(r.kid),void 0!==r.issuer&&this.setCertIssuerByParam(r.issuer),void 0!==r.sn&&this.setCertSNByParam(r.sn),void 0!==r.issuersn&&"string"==typeof r.issuersn&&-1!=r.issuersn.indexOf("BEGIN ")&&r.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(r.issuersn),this.setCertIssuerByParam(r.issuersn)))},He(g.asn1.x509.AuthorityKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.SubjectKeyIdentifier=function(r){g.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,r);var h=g.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(p){if(void 0!==p.str||void 0!==p.hex)this.asn1KID=new h(p);else if("object"==typeof p&&g.crypto.Util.isKey(p)||"string"==typeof p&&-1!=p.indexOf("BEGIN")){var y=p;"string"==typeof p&&(y=$t.getKey(p));var _=$t.getKeyID(y);this.asn1KID=new g.asn1.DEROctetString({hex:_})}},this.oid="2.5.29.14",void 0!==r&&void 0!==r.kid&&this.setKIDByParam(r.kid)},He(g.asn1.x509.SubjectKeyIdentifier,g.asn1.x509.Extension),g.asn1.x509.AuthorityInfoAccess=function(r){g.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,r),this.setAccessDescriptionArray=function(u){for(var l=new Array,p=g.asn1,y=p.DERSequence,_=p.DERObjectIdentifier,w=p.x509.GeneralName,A=0;A<u.length;A++){var M,B=u[A];if(void 0!==B.ocsp)M=new y({array:[new _({oid:"1.3.6.1.5.5.7.48.1"}),new w({uri:B.ocsp})]});else{if(void 0===B.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(B));M=new y({array:[new _({oid:"1.3.6.1.5.5.7.48.2"}),new w({uri:B.caissuer})]})}l.push(M)}this.asn1ExtnValue=new y({array:l})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==r&&void 0!==r.array&&this.setAccessDescriptionArray(r.array)},He(g.asn1.x509.AuthorityInfoAccess,g.asn1.x509.Extension),g.asn1.x509.SubjectAltName=function(r){g.asn1.x509.SubjectAltName.superclass.constructor.call(this,r),this.setNameArray=function(u){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(u)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==r&&void 0!==r.array&&this.setNameArray(r.array)},He(g.asn1.x509.SubjectAltName,g.asn1.x509.Extension),g.asn1.x509.IssuerAltName=function(r){g.asn1.x509.IssuerAltName.superclass.constructor.call(this,r),this.setNameArray=function(u){this.asn1ExtnValue=new g.asn1.x509.GeneralNames(u)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==r&&void 0!==r.array&&this.setNameArray(r.array)},He(g.asn1.x509.IssuerAltName,g.asn1.x509.Extension),g.asn1.x509.SubjectDirectoryAttributes=function(r){g.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,r);var u=g.asn1,l=u.DERSequence,h=u.ASN1Util.newObject,p=u.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var y=[],_=0;_<this.params.array.length;_++){var w=this.params.array[_],A={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==w.attr)A.seq[0].oid=p(w.attr),A.seq[1].set[0]={gentime:w.str};else if("placeOfBirth"==w.attr)A.seq[0].oid=p(w.attr),A.seq[1].set[0]={utf8str:w.str};else if("gender"==w.attr)A.seq[0].oid=p(w.attr),A.seq[1].set[0]={prnstr:w.str};else if("countryOfCitizenship"==w.attr)A.seq[0].oid=p(w.attr),A.seq[1].set[0]={prnstr:w.str};else{if("countryOfResidence"!=w.attr)throw new Error("unsupported attribute: "+w.attr);A.seq[0].oid=p(w.attr),A.seq[1].set[0]={prnstr:w.str}}y.push(new h(A))}var M=new l({array:y});return this.asn1ExtnValue=M,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==r&&(this.params=r)},He(g.asn1.x509.SubjectDirectoryAttributes,g.asn1.x509.Extension),g.asn1.x509.PrivateExtension=function(r){g.asn1.x509.PrivateExtension.superclass.constructor.call(this,r);var l=g.lang.String.isHex,h=g.asn1,p=h.x509.OID.name2oid,y=h.ASN1Util.newObject;this.params=null,this.setByParam=function(_){this.oid=p(_.extname),this.params=_},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var _=this.params.extn;if("string"==typeof _&&l(_))return _;if("object"==typeof _)try{return y(_).tohex()}catch{}throw new Error("unsupported extn value")},null!=r&&this.setByParam(r)},He(g.asn1.x509.PrivateExtension,g.asn1.x509.Extension),g.asn1.x509.CRL=function(r){g.asn1.x509.CRL.superclass.constructor.call(this);var l=g.asn1,h=l.DERSequence,p=l.DERBitString,y=l.x509,_=y.AlgorithmIdentifier,w=y.TBSCertList;this.params=void 0,this.setByParam=function(A){this.params=A},this.sign=function(){var A=new w(this.params).tohex(),M=new g.crypto.Signature({alg:this.params.sigalg});M.init(this.params.cakey),M.updateHex(A);var B=M.sign();this.params.sighex=B},this.getPEM=function(){return Hn(this.tohex(),"X509 CRL")},this.tohex=function(){var A=this.params;if(null==A.tbsobj&&(A.tbsobj=new w(A)),null==A.sighex&&null!=A.cakey&&this.sign(),null==A.sighex)throw new Error("sighex or cakey parameter not defined");var M=[];return M.push(A.tbsobj),M.push(new _({name:A.sigalg})),M.push(new p({hex:"00"+A.sighex})),new h({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&(this.params=r)},He(g.asn1.x509.CRL,g.asn1.ASN1Object),g.asn1.x509.TBSCertList=function(r){g.asn1.x509.TBSCertList.superclass.constructor.call(this);var l=g.asn1,h=l.DERInteger,p=l.DERSequence,y=l.DERTaggedObject,w=l.x509,A=w.AlgorithmIdentifier,M=w.Time,B=w.Extensions,k=w.X500Name;this.params=null,this.setByParam=function(b){this.params=b},this.getRevCertSequence=function(){for(var b=[],S=this.params.revcert,O=0;O<S.length;O++){var F=[new h(S[O].sn),new M(S[O].date)];null!=S[O].ext&&F.push(new B(S[O].ext)),b.push(new p({array:F}))}return new p({array:b})},this.tohex=function(){var b=[],S=this.params;if(null!=S.version){var F=new h({int:S.version-1});b.push(F)}if(b.push(new A({name:S.sigalg})),b.push(new k(S.issuer)),b.push(new M(S.thisupdate)),null!=S.nextupdate&&b.push(new M(S.nextupdate)),null!=S.revcert&&b.push(this.getRevCertSequence()),null!=S.ext){var H=new B(S.ext);b.push(new y({tag:"a0",explicit:!0,obj:H}))}return new p({array:b}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.TBSCertList,g.asn1.ASN1Object),g.asn1.x509.CRLEntry=function(r){g.asn1.x509.CRLEntry.superclass.constructor.call(this);var p=g.asn1;this.setCertSerial=function(y){this.sn=new p.DERInteger(y)},this.setRevocationDate=function(y){this.time=new p.x509.Time(y)},this.tohex=function(){var y=new p.DERSequence({array:[this.sn,this.time]});return this.TLV=y.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.time&&this.setRevocationDate(r.time),void 0!==r.sn&&this.setCertSerial(r.sn))},He(g.asn1.x509.CRLEntry,g.asn1.ASN1Object),g.asn1.x509.CRLNumber=function(r){g.asn1.x509.CRLNumber.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=r&&(this.params=r)},He(g.asn1.x509.CRLNumber,g.asn1.x509.Extension),g.asn1.x509.CRLReason=function(r){g.asn1.x509.CRLReason.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=r&&(this.params=r)},He(g.asn1.x509.CRLReason,g.asn1.x509.Extension),g.asn1.x509.OCSPNonce=function(r){g.asn1.x509.OCSPNonce.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=r&&(this.params=r)},He(g.asn1.x509.OCSPNonce,g.asn1.x509.Extension),g.asn1.x509.OCSPNoCheck=function(r){g.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new g.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=r&&(this.params=r)},He(g.asn1.x509.OCSPNoCheck,g.asn1.x509.Extension),g.asn1.x509.AdobeTimeStamp=function(r){g.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,r);var l=g.asn1,h=l.DERInteger,p=l.DERBoolean,y=l.DERSequence,_=l.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var w=this.params,A=[new h(1)];return A.push(new _({uri:w.uri})),null!=w.reqauth&&A.push(new p(w.reqauth)),this.asn1ExtnValue=new y({array:A}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==r&&this.setByParam(r)},He(g.asn1.x509.AdobeTimeStamp,g.asn1.x509.Extension),g.asn1.x509.X500Name=function(r){g.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var l=g.asn1,h=l.x509,p=h.RDN;this.setByString=function(_,w){void 0!==w&&(this.sRule=w);var A=_.split("/");A.shift();for(var M=[],B=0;B<A.length;B++)if(A[B].match(/^[^=]+=.+$/))M.push(A[B]);else{var k=M.length-1;M[k]=M[k]+"/"+A[B]}for(B=0;B<M.length;B++)this.asn1Array.push(new p({str:M[B],rule:this.sRule}))},this.setByLdapString=function(_,w){void 0!==w&&(this.sRule=w);var A=h.X500Name.ldapToCompat(_);this.setByString(A,w)},this.setByObject=function(_,w){for(var A in void 0!==w&&(this.sRule=w),_)if(_.hasOwnProperty(A)){var M=new p({str:A+"="+_[A],rule:this.sRule});this.asn1Array?this.asn1Array.push(M):this.asn1Array=[M]}},this.setByParam=function(_){if(void 0!==_.rule&&(this.sRule=_.rule),void 0!==_.array)this.paramArray=_.array;else if(void 0!==_.str)this.setByString(_.str);else if(void 0!==_.ldapstr)this.setByLdapString(_.ldapstr);else if(void 0!==_.hex)this.hTLV=_.hex;else if(void 0!==_.certissuer)(w=new xt).readCertPEM(_.certissuer),this.hTLV=w.getIssuerHex();else if(void 0!==_.certsubject){var w;(w=new xt).readCertPEM(_.certsubject),this.hTLV=w.getSubjectHex()}else"object"==typeof _&&void 0===_.certsubject&&void 0===_.certissuer&&this.setByObject(_)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var _=0;_<this.paramArray.length;_++){var w={array:this.paramArray[_]};"utf8"!=this.sRule&&(w.rule=this.sRule);var A=new p(w);this.asn1Array.push(A)}var M=new l.DERSequence({array:this.asn1Array});return this.hTLV=M.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.X500Name,g.asn1.ASN1Object),g.asn1.x509.X500Name.compatToLDAP=function(r){if("/"!==r.substr(0,1))throw"malformed input";var l=(r=r.substr(1)).split("/");return l.reverse(),l=l.map(function(h){return h.replace(/,/,"\\,")}),l.join(",")},g.asn1.x509.X500Name.onelineToLDAP=function(r){return g.asn1.x509.X500Name.compatToLDAP(r)},g.asn1.x509.X500Name.ldapToCompat=function(r){for(var u=r.split(","),l=!1,h=[],p=0;u.length>0;p++){var y=u.shift();if(!0===l){var w=(h.pop()+","+y).replace(/\\,/g,",");h.push(w),l=!1}else h.push(y);"\\"===y.substr(-1,1)&&(l=!0)}return h=h.map(function(A){return A.replace("/","\\/")}),h.reverse(),"/"+h.join("/")},g.asn1.x509.X500Name.ldapToOneline=function(r){return g.asn1.x509.X500Name.ldapToCompat(r)},g.asn1.x509.RDN=function(r){g.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var u=g.asn1.x509.AttributeTypeAndValue;this.setByParam=function(l){void 0!==l.rule&&(this.sRule=l.rule),void 0!==l.str&&this.addByMultiValuedString(l.str),void 0!==l.array&&(this.paramArray=l.array)},this.addByString=function(l){this.asn1Array.push(new g.asn1.x509.AttributeTypeAndValue({str:l,rule:this.sRule}))},this.addByMultiValuedString=function(l){for(var h=g.asn1.x509.RDN.parseString(l),p=0;p<h.length;p++)this.addByString(h[p])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var l=0;l<this.paramArray.length;l++){var h=this.paramArray[l];void 0!==h.rule&&"utf8"!=this.sRule&&(h.rule=this.sRule);var p=new u(h);this.asn1Array.push(p)}var y=new g.asn1.DERSet({array:this.asn1Array});return this.TLV=y.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.RDN,g.asn1.ASN1Object),g.asn1.x509.RDN.parseString=function(r){for(var u=r.split(/\+/),l=!1,h=[],p=0;u.length>0;p++){var y=u.shift();if(!0===l){var w=(h.pop()+"+"+y).replace(/\\\+/g,"+");h.push(w),l=!1}else h.push(y);"\\"===y.substr(-1,1)&&(l=!0)}var A=!1,M=[];for(p=0;h.length>0;p++){if(y=h.shift(),!0===A){var B=M.pop();y.match(/"$/)?(w=(B+"+"+y).replace(/^([^=]+)="(.*)"$/,"$1=$2"),M.push(w),A=!1):M.push(B+"+"+y)}else M.push(y);y.match(/^[^=]+="/)&&(A=!0)}return M},g.asn1.x509.AttributeTypeAndValue=function(r){g.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var l=g.asn1,h=l.DERSequence,p=l.DERUTF8String,y=l.DERPrintableString,_=l.DERTeletexString,w=l.DERIA5String,A=l.DERVisibleString,M=l.DERBMPString,B=g.lang.String.isMail,k=g.lang.String.isPrintable;this.setByParam=function(b){if(void 0!==b.rule&&(this.sRule=b.rule),void 0!==b.ds&&(this.dsType=b.ds),void 0===b.value&&void 0!==b.str){var O=b.str.match(/^([^=]+)=(.+)$/);if(!O)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=O[1],this.sValue=O[2]}else this.sType=b.type,this.sValue=b.value},this.setByString=function(b,S){void 0!==S&&(this.sRule=S);var O=b.match(/^([^=]+)=(.+)$/);if(!O)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(O[1],O[2])},this._getDsType=function(){var b=this.sType,S=this.sValue,O=this.sRule;return"prn"===O?"CN"==b&&B(S)?"ia5":k(S)?"prn":"utf8":"utf8"===O?"CN"==b&&B(S)?"ia5":"C"==b?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(b,S,O){void 0!==O&&(this.sRule=O),this.sType=b,this.sValue=S},this.getValueObj=function(b,S){if("utf8"==b)return new p({str:S});if("prn"==b)return new y({str:S});if("tel"==b)return new _({str:S});if("ia5"==b)return new w({str:S});if("vis"==b)return new A({str:S});if("bmp"==b)return new M({str:S});throw new Error("unsupported directory string type: type="+b+" value="+S)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var b=g.asn1.x509.OID.atype2obj(this.sType),S=this.getValueObj(this.dsType,this.sValue),O=new h({array:[b,S]});return this.TLV=O.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.AttributeTypeAndValue,g.asn1.ASN1Object),g.asn1.x509.SubjectPublicKeyInfo=function(r){g.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var p=g.asn1,y=p.DERInteger,_=p.DERBitString,w=p.DERObjectIdentifier,A=p.DERSequence,M=p.ASN1Util.newObject,k=p.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new A({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var F=this.getASN1Object();return this.hTLV=F.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(F){try{if(F instanceof mt){var R=M({seq:[{int:{bigint:F.n}},{int:{int:F.e}}]}).tohex();this.asn1AlgId=new k({name:"rsaEncryption"}),this.asn1SubjPKey=new _({hex:"00"+R})}}catch{}try{if(F instanceof g.crypto.ECDSA){var U=new w({name:F.curveName});this.asn1AlgId=new k({name:"ecPublicKey",asn1params:U}),this.asn1SubjPKey=new _({hex:"00"+F.pubKeyHex})}}catch{}try{if(F instanceof g.crypto.DSA){U=new M({seq:[{int:{bigint:F.p}},{int:{bigint:F.q}},{int:{bigint:F.g}}]}),this.asn1AlgId=new k({name:"dsa",asn1params:U});var X=new y({bigint:F.y});this.asn1SubjPKey=new _({hex:"00"+X.tohex()})}}catch{}},void 0!==r&&this.setPubKey(r)},He(g.asn1.x509.SubjectPublicKeyInfo,g.asn1.ASN1Object),g.asn1.x509.Time=function(r){g.asn1.x509.Time.superclass.constructor.call(this);var p=g.asn1,y=p.DERUTCTime,_=p.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(w){this.timeParams=w},this.setByParam=function(w){this.params=w},this.getType=function(w){return w.match(/^[0-9]{12}Z$/)?"utc":w.match(/^[0-9]{14}Z$/)?"gen":w.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":w.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var w=this.params,A=null;if("string"==typeof w&&(w={str:w}),null!=w&&w.str&&(null==w.type||null==w.type)&&(w.type=this.getType(w.str)),null!=w&&w.str?("utc"==w.type&&(A=new y(w.str)),"gen"==w.type&&(A=new _(w.str))):A="gen"==this.type?new _:new y,null==A)throw new Error("wrong setting for Time");return this.TLV=A.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},g.asn1.x509.Time_bak=function(r){g.asn1.x509.Time_bak.superclass.constructor.call(this);var p=g.asn1,y=p.DERUTCTime,_=p.DERGeneralizedTime;this.setTimeParams=function(w){this.timeParams=w},this.tohex=function(){var w=null;return w=null!=this.timeParams?"utc"==this.type?new y(this.timeParams):new _(this.timeParams):"utc"==this.type?new y:new _,this.TLV=w.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==r&&(void 0!==r.type?this.type=r.type:void 0!==r.str&&(r.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),r.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=r)},He(g.asn1.x509.Time,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier=function(r){g.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var l=g.asn1,h=l.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var y=null;for(var _ in h)_===this.nameAlg&&(y=h[_]);if(null!==y)return this.hTLV=y,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=l.x509.OID.name2obj(this.nameAlg));var w=[this.asn1Alg];null!==this.asn1Params&&w.push(this.asn1Params);var A=new l.DERSequence({array:w});return this.hTLV=A.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&(void 0!==r.name&&(this.nameAlg=r.name),void 0!==r.asn1params&&(this.asn1Params=r.asn1params),void 0!==r.paramempty&&(this.paramEmpty=r.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var p=this.nameAlg.toLowerCase();"withdsa"!==p.substr(-7,7)&&"withecdsa"!==p.substr(-9,9)&&(this.asn1Params=new l.DERNull)}},He(g.asn1.x509.AlgorithmIdentifier,g.asn1.ASN1Object),g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},g.asn1.x509.GeneralName=function(r){g.asn1.x509.GeneralName.superclass.constructor.call(this);var h=g.asn1,p=h.x509,y=p.X500Name,_=p.OtherName,w=h.DERIA5String,M=h.DEROctetString,B=h.DERTaggedObject,k=h.ASN1Object,b=Error;this.params=null,this.setByParam=function(S){this.params=S},this.tohex=function(){var O,F,S=this.params,H=!1;if(void 0!==S.other)O="a0",F=new _(S.other);else if(void 0!==S.rfc822)O="81",F=new w({str:S.rfc822});else if(void 0!==S.dns)O="82",F=new w({str:S.dns});else if(void 0!==S.dn)O="a4",H=!0,F="string"==typeof S.dn?new y({str:S.dn}):S.dn instanceof g.asn1.x509.X500Name?S.dn:new y(S.dn);else if(void 0!==S.ldapdn)O="a4",H=!0,F=new y({ldapstr:S.ldapdn});else if(void 0!==S.certissuer||void 0!==S.certsubj){O="a4",H=!0;var R,U,X=null;if(void 0!==S.certsubj?(R=!1,U=S.certsubj):(R=!0,U=S.certissuer),U.match(/^[0-9A-Fa-f]+$/),-1!=U.indexOf("-----BEGIN ")&&(X=cn(U)),null==X)throw new Error("certsubj/certissuer not cert");var ee,ne=new xt;ne.hex=X,ee=R?ne.getIssuerHex():ne.getSubjectHex(),(F=new k).hTLV=ee}else if(void 0!==S.uri)O="86",F=new w({str:S.uri});else{if(void 0===S.ip)throw new b("improper params");O="87";var Se,$=S.ip;try{if($.match(/^[0-9a-f]+$/)){var W=$.length;if(8!=W&&16!=W&&32!=W&&64!=W)throw"err";Se=$}else Se=lt($)}catch(se){throw new b("malformed IP address: "+S.ip+":"+se.message)}F=new M({hex:Se})}return new B({tag:O,explicit:H,obj:F}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.GeneralName,g.asn1.ASN1Object),g.asn1.x509.GeneralNames=function(r){g.asn1.x509.GeneralNames.superclass.constructor.call(this);var h=g.asn1;this.setByParamArray=function(p){for(var y=0;y<p.length;y++){var _=new h.x509.GeneralName(p[y]);this.asn1Array.push(_)}},this.tohex=function(){return new h.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof r<"u"&&this.setByParamArray(r)},He(g.asn1.x509.GeneralNames,g.asn1.ASN1Object),g.asn1.x509.OtherName=function(r){g.asn1.x509.OtherName.superclass.constructor.call(this);var p=g.asn1,y=p.DERObjectIdentifier,_=p.DERSequence,w=p.ASN1Util.newObject;this.params=null,this.setByParam=function(A){this.params=A},this.tohex=function(){var A=this.params;if(null==A.oid||null==A.value)throw new Error("oid or value not specified");var M=new y({oid:A.oid}),B=w({tag:{tag:"a0",explicit:!0,obj:A.value}});return new _({array:[M,B]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.x509.OtherName,g.asn1.ASN1Object),g.asn1.x509.OID=new function(){var r=g.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(u){if(typeof this.objCache[u]<"u")return this.objCache[u];if(typeof this.name2oidList[u]>"u")throw"Name of ObjectIdentifier not defined: "+u;var h=new r({oid:this.name2oidList[u]});return this.objCache[u]=h,h},this.atype2obj=function(u){if(void 0!==this.objCache[u])return this.objCache[u];var l;if(u.match(/^\d+\.\d+\.[0-9.]+$/))l=u;else if(void 0!==this.atype2oidList[u])l=this.atype2oidList[u];else{if(void 0===this.name2oidList[u])throw new Error("AttributeType name undefined: "+u);l=this.name2oidList[u]}var h=new r({oid:l});return this.objCache[u]=h,h},this.registerOIDs=function(u){if(this.checkOIDs(u))for(var l in u)this.name2oidList[l]=u[l]},this.checkOIDs=function(u){try{var l=Object.keys(u);return 0!=l.length&&(l.map(function(h,p,y){if(!this[h].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},u),!0)}catch{return!1}}},g.asn1.x509.OID.oid2name=function(r){var u=g.asn1.x509.OID.name2oidList;for(var l in u)if(u[l]==r)return l;return""},g.asn1.x509.OID.oid2atype=function(r){var u=g.asn1.x509.OID.atype2oidList;for(var l in u)if(u[l]==r)return l;return r},g.asn1.x509.OID.name2oid=function(r){if(r.match(/^[0-9.]+$/))return r;var u=g.asn1.x509.OID.name2oidList;return void 0===u[r]?"":u[r]},g.asn1.x509.X509Util={},g.asn1.x509.X509Util.newCertPEM=function(r){return new(0,g.asn1.x509.Certificate)(r).getPEM()},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cms>"u"||!g.asn1.cms)&&(g.asn1.cms={}),g.asn1.cms.Attribute=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.DERSet,_=h.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(w){this.params=w},this.getValueArray=function(){throw new u("not yet implemented abstract")},this.tohex=function(){var w=new _({oid:this.typeOid}),A=new y({array:this.getValueArray()});return new p({array:[w,A]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},He(g.asn1.cms.Attribute,g.asn1.ASN1Object),g.asn1.cms.ContentType=function(r){var l=g.asn1;l.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new l.DERObjectIdentifier(this.params.type)]},null!=r&&this.setByParam(r)},He(g.asn1.cms.ContentType,g.asn1.cms.Attribute),g.asn1.cms.MessageDigest=function(r){var l=g.asn1,h=l.DEROctetString;l.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new h(this.params)]},null!=r&&this.setByParam(r)},He(g.asn1.cms.MessageDigest,g.asn1.cms.Attribute),g.asn1.cms.SigningTime=function(r){var l=g.asn1;l.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new l.x509.Time(this.params)]},null!=r&&this.setByParam(r)},He(g.asn1.cms.SigningTime,g.asn1.cms.Attribute),g.asn1.cms.SigningCertificate=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.cms,_=y.ESSCertID;y.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new u("parameter 'array' not specified");for(var A=this.params.array,M=[],B=0;B<A.length;B++){var k=A[B];0==r.hasis&&"string"==typeof k&&(-1!=k.indexOf("-----BEGIN")||Ye.isASN1HEX(k))&&(k={cert:k}),0!=k.hasis&&0==r.hasis&&(k.hasis=!1),M.push(new _(k))}var b=new p({array:M});return[new p({array:[b]})]},null!=r&&this.setByParam(r)},He(g.asn1.cms.SigningCertificate,g.asn1.cms.Attribute),g.asn1.cms.ESSCertID=function(r){g.asn1.cms.ESSCertID.superclass.constructor.call(this);var u=Error,l=g,h=l.asn1,p=h.DEROctetString,y=h.DERSequence,_=h.cms.IssuerSerial;this.params=null,this.getCertHash=function(w,A){if(null!=w.hash)return w.hash;if("string"==typeof w&&-1==w.indexOf("-----BEGIN")&&!Ye.isASN1HEX(w))return w;var M,B,k;if("string"==typeof w)M=w;else{if(null==w.cert)throw new u("hash nor cert unspecified");M=w.cert}if(B=-1!=M.indexOf("-----BEGIN")?cn(M):M,"string"==typeof w&&(-1!=w.indexOf("-----BEGIN")?B=cn(w):Ye.isASN1HEX(w)&&(B=w)),null!=w.alg)k=w.alg;else{if(null==A)throw new u("hash alg unspecified");k=A}return l.crypto.Util.hashHex(B,k)},this.tohex=function(){var w=this.params,A=this.getCertHash(w,"sha1"),M=[];return M.push(new p({hex:A})),("string"==typeof w&&-1!=w.indexOf("-----BEGIN")||null!=w.cert&&0!=w.hasis||null!=w.issuer&&null!=w.serial)&&M.push(new _(w)),new y({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.ESSCertID,g.asn1.ASN1Object),g.asn1.cms.SigningCertificateV2=function(r){var u=Error,h=g.asn1,p=h.DERSequence,_=h.cms,w=_.ESSCertIDv2;_.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new u("parameter 'array' not specified");for(var M=this.params.array,B=[],k=0;k<M.length;k++){var b=M[k];(null!=r.alg||0==r.hasis)&&"string"==typeof b&&(-1!=b.indexOf("-----BEGIN")||Ye.isASN1HEX(b))&&(b={cert:b}),null==b.alg&&null!=r.alg&&(b.alg=r.alg),0!=b.hasis&&0==r.hasis&&(b.hasis=!1),B.push(new w(b))}var S=new p({array:B});return[new p({array:[S]})]},null!=r&&this.setByParam(r)},He(g.asn1.cms.SigningCertificateV2,g.asn1.cms.Attribute),g.asn1.cms.ESSCertIDv2=function(r){g.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var h=g.asn1,p=h.DEROctetString,y=h.DERSequence,_=h.cms.IssuerSerial,w=h.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var A=this.params,M=this.getCertHash(A,"sha256"),B=[];return null!=A.alg&&"sha256"!=A.alg&&B.push(new w({name:A.alg})),B.push(new p({hex:M})),("string"==typeof A&&-1!=A.indexOf("-----BEGIN")||null!=A.cert&&0!=A.hasis||null!=A.issuer&&null!=A.serial)&&B.push(new _(A)),new y({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.ESSCertIDv2,g.asn1.cms.ESSCertID),g.asn1.cms.IssuerSerial=function(r){var u=Error,h=g.asn1,p=h.DERInteger,y=h.DERSequence,A=h.x509.GeneralNames,M=xt;h.cms.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(B){this.params=B},this.tohex=function(){var k,b,B=this.params;if("string"==typeof B&&-1!=B.indexOf("-----BEGIN")||null!=B.cert){var S;S=null!=B.cert?B.cert:B;var O=new M;O.readCertPEM(S),k=O.getIssuer(),b={hex:O.getSerialNumberHex()}}else{if(null==B.issuer||!B.serial)throw new u("cert or issuer and serial parameter not specified");k=B.issuer,b=B.serial}var F=new A([{dn:k}]),H=new p(b);return new y({array:[F,H]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.IssuerSerial,g.asn1.ASN1Object),g.asn1.cms.SignerIdentifier=function(r){var y=g.asn1.cms,_=y.IssuerAndSerialNumber,w=y.SubjectKeyIdentifier;Error,y.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params;if("isssn"==b.type)return new _(b).tohex();if("skid"==b.type)return new w(b).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.SignerIdentifier,g.asn1.ASN1Object),g.asn1.cms.IssuerAndSerialNumber=function(r){var l=g.asn1,h=l.DERInteger,p=l.DERSequence,w=l.x509.X500Name,A=xt,M=Error;l.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var k,b,B=this.params;if("string"==typeof B&&-1!=B.indexOf("-----BEGIN")||null!=B.cert){var S;S=null!=B.cert?B.cert:B;var O=new A;O.readCertPEM(S),k=O.getIssuer(),b={hex:O.getSerialNumberHex()}}else{if(null==B.issuer||!B.serial)throw new M("cert or issuer and serial parameter not specified");k=B.issuer,b=B.serial}var F=new w(k),H=new h(b);return new p({array:[F,H]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(B){this.params=B},null!=r&&this.setByParam(r)},He(g.asn1.cms.IssuerAndSerialNumber,g.asn1.ASN1Object),g.asn1.cms.SubjectKeyIdentifier=function(r){var l=g.asn1,y=l.ASN1Util.newObject,k=xt,b=Error;l.cms.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var O,S=this.params;if(null==S.cert&&null==S.skid)throw new b("property cert nor skid undefined");return null!=S.cert?O=new k(S.cert).getExtSubjectKeyIdentifier().kid.hex:null!=S.skid&&(O=S.skid),y({tag:{tage:"a0",obj:{octstr:{hex:O}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.SubjectKeyIdentifier,g.asn1.ASN1Object),g.asn1.cms.AttributeList=function(r){var u=Error,h=g.asn1,p=h.DERSet,y=h.cms;y.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(_){this.params=_},this.tohex=function(){var _=this.params;if(null!=this.hTLV)return this.hTLV;var w=!0;null!=_.sortflag&&(w=_.sortflag);for(var A=_.array,M=[],B=0;B<A.length;B++){var k=A[B],b=k.attr;if("contentType"==b)M.push(new y.ContentType(k));else if("messageDigest"==b)M.push(new y.MessageDigest(k));else if("signingTime"==b)M.push(new y.SigningTime(k));else if("signingCertificate"==b)M.push(new y.SigningCertificate(k));else if("signingCertificateV2"==b)M.push(new y.SigningCertificateV2(k));else if("signaturePolicyIdentifier"==b)M.push(new g.asn1.cades.SignaturePolicyIdentifier(k));else{if("signatureTimeStamp"!=b&&"timeStampToken"!=b)throw new u("unknown attr: "+b);M.push(new g.asn1.cades.SignatureTimeStamp(k))}}var S=new p({array:M,sortflag:w});return this.hTLV=S.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.AttributeList,g.asn1.ASN1Object),g.asn1.cms.SignerInfo=function(r){var u=Error,h=g.asn1,p=h.DERInteger,y=h.DEROctetString,_=h.DERSequence,w=h.DERTaggedObject,A=h.cms,M=A.SignerIdentifier,B=A.AttributeList,H=h.x509.AlgorithmIdentifier,R=g.crypto,U=$t;A.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var X=this.params,ne=X.sigalg,ee=new B(X.sattrs).tohex(),Se=U.getKey(X.signkey),$=new R.Signature({alg:ne});$.init(Se),$.updateHex(ee);var W=$.sign();X.sighex=W},this.tohex=function(){var X=this.params,ne=[];if(ne.push(new p({int:X.version})),ne.push(new M(X.id)),ne.push(new H({name:X.hashalg})),null!=X.sattrs){var ee=new B(X.sattrs);try{ne.push(new w({tag:"a0",explicit:!1,obj:ee}))}catch($){throw new u("si sattr error: "+$)}}if(ne.push(new H(null!=X.sigalgfield?{name:X.sigalgfield}:{name:X.sigalg})),null==X.sighex&&null!=X.signkey&&this.sign(),ne.push(new y({hex:X.sighex})),null!=X.uattrs){ee=new B(X.uattrs);try{ne.push(new w({tag:"a1",explicit:!1,obj:ee}))}catch(W){throw new u("si uattr error: "+W)}}return new _({array:ne}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.SignerInfo,g.asn1.ASN1Object),g.asn1.cms.EncapsulatedContentInfo=function(r){var l=g.asn1,h=l.DERTaggedObject,p=l.DERSequence,y=l.DERObjectIdentifier,_=l.DEROctetString;l.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var A=this.params,M=[];if(M.push(new y(A.type)),null!=A.content&&(null!=A.content.hex||null!=A.content.str)&&1!=A.isDetached){var B=new _(A.content),k=new h({tag:"a0",explicit:!0,obj:B});M.push(k)}return new p({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(A){this.params=A},null!=r&&this.setByParam(r)},He(g.asn1.cms.EncapsulatedContentInfo,g.asn1.ASN1Object),g.asn1.cms.ContentInfo=function(r){var l=g.asn1,h=l.DERTaggedObject,p=l.DERSequence,y=l.DERObjectIdentifier;g.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var A=this.params,M=[];M.push(new y(A.type));var B=new h({tag:"a0",explicit:!0,obj:A.obj});return M.push(B),new p({array:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(A){this.params=A},null!=r&&this.setByParam(r)},He(g.asn1.cms.ContentInfo,g.asn1.ASN1Object),g.asn1.cms.SignedData=function(r){Error;var h=g.asn1,y=h.DERInteger,_=h.DERSet,w=h.DERSequence,M=h.cms,B=M.EncapsulatedContentInfo,k=M.SignerInfo,b=M.ContentInfo,S=M.CertificateSet,O=M.RevocationInfoChoices,H=h.x509.AlgorithmIdentifier;g.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var R=this.params;this._setDigestAlgs(R),this._setContentTypeByEContent(R),this._setMessageDigestByEContent(R),this._setSignerInfoVersion(R),this._setSignedDataVersion(R)},this._setDigestAlgs=function(R){for(var U={},X=R.sinfos,ne=0;ne<X.length;ne++)U[X[ne].hashalg]=1;R.hashalgs=Object.keys(U).sort()},this._setContentTypeByEContent=function(R){for(var U=R.econtent.type,X=R.sinfos,ne=0;ne<X.length;ne++)this._getAttrParamByName(X[ne],"contentType").type=U},this._setMessageDigestByEContent=function(R){var U=R.econtent,ne=U.content.hex;null==ne&&"data"==U.type&&null!=U.content.str&&(ne=Mn(U.content.str));for(var ee=R.sinfos,Se=0;Se<ee.length;Se++){var $=ee[Se],W=$.hashalg,Z=this._getAttrParamByName($,"messageDigest"),se=g.crypto.Util.hashHex(ne,W);Z.hex=se}},this._getAttrParamByName=function(R,U){for(var X=R.sattrs.array,ne=0;ne<X.length;ne++)if(X[ne].attr==U)return X[ne]},this._setSignerInfoVersion=function(R){for(var U=R.sinfos,X=0;X<U.length;X++){var ne=U[X],ee=1;"skid"==ne.id.type&&(ee=3),ne.version=ee}},this._setSignedDataVersion=function(R){var U=this._getSignedDataVersion(R);R.version=U},this._getSignedDataVersion=function(R){if(null!=R.revinfos)for(var U=R.revinfos,X=0;X<U.length;X++)if(null!=U[X].ocsp)return 5;var ee=R.sinfos;for(X=0;X<ee.length;X++)if(3==R.sinfos[X].version)return 3;return"data"!=R.econtent.type?3:1},this.tohex=function(){var R=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=R.fixed&&this.checkAndFixParam();var U=[];U.push(new y({int:R.version}));for(var X=[],ne=0;ne<R.hashalgs.length;ne++)X.push(new H({name:R.hashalgs[ne]}));U.push(new _({array:X})),U.push(new B(R.econtent)),null!=R.certs&&U.push(new S(R.certs)),null!=R.revinfos&&U.push(new O(R.revinfos));var Se=[];for(ne=0;ne<R.sinfos.length;ne++)Se.push(new k(R.sinfos[ne]));return U.push(new _({array:Se})),new w({array:U}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new b({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.SignedData,g.asn1.ASN1Object),g.asn1.cms.CertificateSet=function(r){g.asn1.cms.CertificateSet.superclass.constructor.call(this);var u=Error,l=g.asn1,h=l.DERTaggedObject,p=l.DERSet,y=l.ASN1Object;this.params=null,this.tohex=function(){var A,_=this.params,w=[];if(_ instanceof Array)A=_;else{if(null==_.array)throw new u("cert array not specified");A=_.array}for(var M=0;M<A.length;M++){var k=cn(A[M]),b=new y;b.hTLV=k,w.push(b)}var S={array:w};0==_.sortflag&&(S.sortflag=!1);var O=new p(S);return new h({tag:"a0",explicit:!1,obj:O}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.CertificateSet,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoices=function(r){g.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params;if(!u instanceof Array)throw new Error("params is not array");for(var l=[],h=0;h<u.length;h++)l.push(new g.asn1.cms.RevocationInfoChoice(u[h]));return g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:l}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.RevocationInfoChoices,g.asn1.ASN1Object),g.asn1.cms.RevocationInfoChoice=function(r){g.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params;if(null!=u.crl&&"string"==typeof u.crl){var l=u.crl;return-1!=u.crl.indexOf("-----BEGIN")&&(l=cn(u.crl)),l}if(null!=u.ocsp)return g.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new g.asn1.cms.OtherRevocationFormat(u)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.RevocationInfoChoice,g.asn1.ASN1Object),g.asn1.cms.OtherRevocationFormat=function(r){g.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var u=Error,p=g.asn1.ASN1Util.newObject,y=g.lang.String.isHex;this.params=null,this.tohex=function(){var _=this.params;if(null==_.ocsp)throw new u("property ocsp not specified");if(!y(_.ocsp)||!Ye.isASN1HEX(_.ocsp))throw new u("ocsp value not ASN.1 hex string");return p({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:_.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cms.OtherRevocationFormat,g.asn1.ASN1Object),g.asn1.cms.CMSUtil=new function(){},g.asn1.cms.CMSUtil.newSignedData=function(r){return new g.asn1.cms.SignedData(r)},g.asn1.cms.CMSUtil.verifySignedData=function(r){var S=Ye.getVbyList,O=Ye.getTLVbyList,F=Ye.getIdxbyList,H=Ye.getChildIdx,R=Ye.getTLV,U=Ye.oidname,X=g.crypto.Util.hashHex;void 0===r.cms&&(0,g.lang.String.isHex)(r.cms);var ne=r.cms,$=function(Ie,De){var Me=De.idx;De.signerid_issuer1=O(Ie,Me,[1,0],"30"),De.signerid_serial1=S(Ie,Me,[1,1],"02"),De.hashalg=U(S(Ie,Me,[2,0],"06"));var Ct=F(Ie,Me,[3],"a0");De.idxSignedAttrs=Ct,W(Ie,De,Ct);var _t=H(Ie,Me).length;if(_t<6)throw"malformed SignerInfo";De.sigalg=U(S(Ie,Me,[_t-2,0],"06")),De.sigval=S(Ie,Me,[_t-1],"04")},W=function(Ie,De,Me){var Ct=H(Ie,Me);De.signedAttrIdxList=Ct;for(var ft=0;ft<Ct.length;ft++){var kt,_t=Ct[ft],Pt=S(Ie,_t,[0],"06");"2a864886f70d010905"===Pt?(kt=Xt(S(Ie,_t,[1,0])),De.saSigningTime=kt):"2a864886f70d010904"===Pt&&(kt=S(Ie,_t,[1,0],"04"),De.saMessageDigest=kt)}},we=function(Ie,De,Me,Ct){Me.verifyDetail={};var ft=Me.verifyDetail,_t=De.parse.econtent,Pt=Me.hashalg,kt=Me.saMessageDigest;ft.validMessageDigest=!1,X(_t,Pt)===kt&&(ft.validMessageDigest=!0),function(Ie,De,Me,Ct){var _t,ft=De.parse.certsIdx;if(void 0===De.certs){_t=[],De.certkeys=[];for(var Pt=H(Ie,ft),kt=0;kt<Pt.length;kt++){var vn=R(Ie,Pt[kt]),Qt=new xt;Qt.readCertHex(vn),_t[kt]=Qt,De.certkeys[kt]=Qt.getPublicKey()}De.certs=_t}else _t=De.certs;for(De.cccc=_t.length,De.cccci=Pt.length,kt=0;kt<_t.length;kt++){var dn=Qt.getIssuerHex(),_n=Qt.getSerialNumberHex();Me.signerid_issuer1===dn&&Me.signerid_serial1===_n&&(Me.certkey_idx=kt)}}(Ie,De,Me),ft.validSignatureValue=!1;var vn=Me.sigalg,Qt="31"+R(Ie,Me.idxSignedAttrs).substr(2);Me.signedattrshex=Qt;var dn=De.certs[Me.certkey_idx].getPublicKey(),_n=new g.crypto.Signature({alg:vn});_n.init(dn),_n.updateHex(Qt);var An=_n.verify(Me.sigval);ft.validSignatureValue_isValid=An,!0===An&&(ft.validSignatureValue=!0),Me.isValid=!1,ft.validMessageDigest&&ft.validSignatureValue&&(Me.isValid=!0)},ge={isValid:!1,parse:{}};return function(Ie,De){if("2a864886f70d010702"!==S(Ie,0,[0],"06"))return De;De.cmsType="signedData",De.econtent=S(Ie,0,[1,0,2,1,0]),function(Ie,De){for(var Me,Ct=3;Ct<6;Ct++)if(void 0!==(Me=F(Ie,0,[1,0,Ct]))){var ft=Ie.substr(Me,2);"a0"===ft&&(De.certsIdx=Me),"a1"===ft&&(De.revinfosIdx=Me),"31"===ft&&(De.signerinfosIdx=Me)}}(Ie,De),De.signerInfos=[],function(Ie,De){var Me=De.signerinfosIdx;if(void 0!==Me){var Ct=H(Ie,Me);De.signerInfoIdxList=Ct;for(var ft=0;ft<Ct.length;ft++){var Pt={idx:Ct[ft]};$(Ie,Pt),De.signerInfos.push(Pt)}}}(Ie,De)}(ne,ge.parse),function(Ie,De){for(var Me=De.parse.signerInfos,Ct=Me.length,ft=!0,_t=0;_t<Ct;_t++){var Pt=Me[_t];we(Ie,De,Pt),Pt.isValid||(ft=!1)}De.isValid=ft}(ne,ge),ge},g.asn1.cms.CMSParser=function(){var r=Error,u=xt,l=new u,h=Ye,p=h.getV,y=h.getTLV,w=h.getTLVbyList,A=h.getTLVbyListEx,M=h.getVbyList,B=h.getVbyListEx,k=h.getChildIdx;this.getCMSSignedData=function(b){var S=w(b,0,[1,0]);return this.getSignedData(S)},this.getSignedData=function(b){var S=k(b,0),O={},F=p(b,S[0]),H=parseInt(F,16);O.version=H;var R=y(b,S[1]);O.hashalgs=this.getHashAlgArray(R);var U=y(b,S[2]);O.econtent=this.getEContent(U);var X=A(b,0,["[0]"]);null!=X&&(O.certs=this.getCertificateSet(X)),A(b,0,["[1]"]);var ee=A(b,0,[3]);return O.sinfos=this.getSignerInfos(ee),O},this.getHashAlgArray=function(b){for(var S=k(b,0),O=new u,F=[],H=0;H<S.length;H++){var R=y(b,S[H]),U=O.getAlgorithmIdentifierName(R);F.push(U)}return F},this.getEContent=function(b){var S={},O=M(b,0,[0]),F=M(b,0,[1,0]);return S.type=g.asn1.x509.OID.oid2name(Ye.hextooidstr(O)),S.content={hex:F},S},this.getSignerInfos=function(b){for(var S=[],O=k(b,0),F=0;F<O.length;F++){var H=y(b,O[F]),R=this.getSignerInfo(H);S.push(R)}return S},this.getSignerInfo=function(b){var S={},O=k(b,0),F=h.getInt(b,O[0],-1);-1!=F&&(S.version=F);var H=y(b,O[1]),R=this.getIssuerAndSerialNumber(H);S.id=R;var U=y(b,O[2]),X=l.getAlgorithmIdentifierName(U);S.hashalg=X;var ne=A(b,0,["[0]"]);if(null!=ne){var ee=this.getAttributeList(ne);S.sattrs=ee}var Se=A(b,0,[3]),$=l.getAlgorithmIdentifierName(Se);S.sigalg=$;var W=B(b,0,[4]);S.sighex=W;var Z=A(b,0,["[1]"]);if(null!=Z){var se=this.getAttributeList(Z);S.uattrs=se}return S},this.getSignerIdentifier=function(b){if("30"==b.substr(0,2))return this.getIssuerAndSerialNumber(b);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(b){var S={type:"isssn"},O=k(b,0),F=y(b,O[0]);S.issuer=l.getX500Name(F);var H=p(b,O[1]);return S.serial={hex:H},S},this.getAttributeList=function(b){for(var S=[],O=k(b,0),F=0;F<O.length;F++){var H=y(b,O[F]),R=this.getAttribute(H);S.push(R)}return{array:S}},this.getAttribute=function(b){var S={},O=k(b,0),F=h.getOID(b,O[0]),H=g.asn1.x509.OID.oid2name(F);S.attr=H;var R=y(b,O[1]),U=k(R,0);if(1==U.length)S.valhex=y(R,U[0]);else{for(var X=[],ne=0;ne<U.length;ne++)X.push(y(R,U[ne]));S.valhex=X}return"contentType"==H?this.setContentType(S):"messageDigest"==H?this.setMessageDigest(S):"signingTime"==H?this.setSigningTime(S):"signingCertificate"==H?this.setSigningCertificate(S):"signingCertificateV2"==H?this.setSigningCertificateV2(S):"signaturePolicyIdentifier"==H&&this.setSignaturePolicyIdentifier(S),S},this.setContentType=function(b){var S=h.getOIDName(b.valhex,0,null);null!=S&&(b.type=S,delete b.valhex)},this.setSigningTime=function(b){var O=Xt(p(b.valhex,0));b.str=O,delete b.valhex},this.setMessageDigest=function(b){var S=p(b.valhex,0);b.hex=S,delete b.valhex},this.setSigningCertificate=function(b){var S=k(b.valhex,0);if(S.length>0){for(var O=y(b.valhex,S[0]),F=k(O,0),H=[],R=0;R<F.length;R++){var U=y(O,F[R]),X=this.getESSCertID(U);H.push(X)}b.array=H}if(S.length>1){var ne=y(b.valhex,S[1]);b.polhex=ne}delete b.valhex},this.setSignaturePolicyIdentifier=function(b){var S=k(b.valhex,0);if(S.length>0){var O=h.getOID(b.valhex,S[0]);b.oid=O}if(S.length>1){var F=new u,H=k(b.valhex,S[1]),R=y(b.valhex,H[0]),U=F.getAlgorithmIdentifierName(R);b.alg=U;var X=p(b.valhex,H[1]);b.hash=X}delete b.valhex},this.setSigningCertificateV2=function(b){var S=k(b.valhex,0);if(S.length>0){for(var O=y(b.valhex,S[0]),F=k(O,0),H=[],R=0;R<F.length;R++){var U=y(O,F[R]),X=this.getESSCertIDv2(U);H.push(X)}b.array=H}if(S.length>1){var ne=y(b.valhex,S[1]);b.polhex=ne}delete b.valhex},this.getESSCertID=function(b){var S={},O=k(b,0);if(O.length>0){var F=p(b,O[0]);S.hash=F}if(O.length>1){var H=y(b,O[1]),R=this.getIssuerSerial(H);null!=R.serial&&(S.serial=R.serial),null!=R.issuer&&(S.issuer=R.issuer)}return S},this.getESSCertIDv2=function(b){var S={},O=k(b,0);if(O.length<1||3<O.length)throw new r("wrong number of elements");var F=0;if("30"==b.substr(O[0],2)){var H=y(b,O[0]);S.alg=l.getAlgorithmIdentifierName(H),F++}else S.alg="sha256";var R=p(b,O[F]);if(S.hash=R,O.length>F+1){var U=y(b,O[F+1]),X=this.getIssuerSerial(U);S.issuer=X.issuer,S.serial=X.serial}return S},this.getIssuerSerial=function(b){var S={},O=k(b,0),F=y(b,O[0]),H=l.getGeneralNames(F);S.issuer=H[0].dn;var U=p(b,O[1]);return S.serial={hex:U},S},this.getCertificateSet=function(b){for(var S=k(b,0),O=[],F=0;F<S.length;F++){var H=y(b,S[F]);if("30"==H.substr(0,2)){var R=Hn(H,"CERTIFICATE");O.push(R)}}return{array:O,sortflag:!1}}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.tsp>"u"||!g.asn1.tsp)&&(g.asn1.tsp={}),g.asn1.tsp.TimeStampToken=function(r){var h=g.asn1.tsp;h.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var p=new h.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=p.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.TimeStampToken,g.asn1.cms.SignedData),g.asn1.tsp.TSTInfo=function(r){Error;var h=g.asn1,p=h.DERSequence,y=h.DERInteger,_=h.DERBoolean,w=h.DERGeneralizedTime,A=h.DERObjectIdentifier,M=h.DERTaggedObject,B=h.tsp,k=B.MessageImprint,b=B.Accuracy,O=h.x509.GeneralName;if(B.TSTInfo.superclass.constructor.call(this),this.dVersion=new y({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var F=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(F.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(F.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(F.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");F.push(this.dGenTime),null!=this.dAccuracy&&F.push(this.dAccuracy),null!=this.dOrdering&&F.push(this.dOrdering),null!=this.dNonce&&F.push(this.dNonce),null!=this.dTsa&&F.push(this.dTsa);var H=new p({array:F});return this.hTLV=H.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r){if("string"==typeof r.policy){if(!r.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new A({oid:r.policy})}void 0!==r.messageImprint&&(this.dMessageImprint=new k(r.messageImprint)),void 0!==r.serial&&(this.dSerial=new y(r.serial)),void 0!==r.genTime&&(this.dGenTime=new w(r.genTime)),void 0!==r.accuracy&&(this.dAccuracy=new b(r.accuracy)),void 0!==r.ordering&&1==r.ordering&&(this.dOrdering=new _),void 0!==r.nonce&&(this.dNonce=new y(r.nonce)),void 0!==r.tsa&&(this.dTsa=new M({tag:"a0",explicit:!0,obj:new O({dn:r.tsa})}))}},He(g.asn1.tsp.TSTInfo,g.asn1.ASN1Object),g.asn1.tsp.Accuracy=function(r){var l=g.asn1,h=l.ASN1Util.newObject;l.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,y=[];return null!=p.seconds&&"number"==typeof p.seconds&&y.push({int:p.seconds}),null!=p.millis&&"number"==typeof p.millis&&y.push({tag:{tagi:"80",obj:{int:p.millis}}}),null!=p.micros&&"number"==typeof p.micros&&y.push({tag:{tagi:"81",obj:{int:p.micros}}}),h({seq:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.Accuracy,g.asn1.ASN1Object),g.asn1.tsp.MessageImprint=function(r){var l=g.asn1,h=l.DERSequence,p=l.DEROctetString,_=l.x509.AlgorithmIdentifier;l.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params,A=new _({name:w.alg}),M=new p({hex:w.hash});return new h({array:[A,M]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.tsp.MessageImprint,g.asn1.ASN1Object),g.asn1.tsp.TimeStampReq=function(r){var l=g.asn1,h=l.DERSequence,p=l.DERInteger,y=l.DERBoolean,w=l.DERObjectIdentifier,A=l.tsp,M=A.MessageImprint;A.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var B=this.params,k=[];return k.push(new p({int:1})),k.push(B.messageImprint instanceof g.asn1.ASN1Object?B.messageImprint:new M(B.messageImprint)),null!=B.policy&&k.push(new w(B.policy)),null!=B.nonce&&k.push(new p(B.nonce)),1==B.certreq&&k.push(new y),new h({array:k}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.TimeStampReq,g.asn1.ASN1Object),g.asn1.tsp.TimeStampResp=function(r){var l=g.asn1,h=l.DERSequence,y=l.tsp,_=y.PKIStatusInfo;y.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params,A=[];if(null!=w.econtent||null!=w.tst)if(A.push(new _(null!=w.statusinfo?w.statusinfo:"granted")),null!=w.econtent)A.push(new y.TimeStampToken(w).getContentInfo());else{if(!(w.tst instanceof l.ASN1Object))throw new Error("improper member tst value");A.push(w.tst)}else{if(null==w.statusinfo)throw new Error("parameter for token nor statusinfo not specified");A.push(new _(w.statusinfo))}return new h({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.TimeStampResp,g.asn1.ASN1Object),g.asn1.tsp.PKIStatusInfo=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.tsp,_=y.PKIStatus,w=y.PKIFreeText,A=y.PKIFailureInfo;y.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var M=this.params,B=[];if("string"==typeof M)B.push(new _(M));else{if(null==M.status)throw new u("property 'status' unspecified");B.push(new _(M.status)),null!=M.statusstr&&B.push(new w(M.statusstr)),null!=M.failinfo&&B.push(new A(M.failinfo))}return new p({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.PKIStatusInfo,g.asn1.ASN1Object),g.asn1.tsp.PKIStatus=function(r){var u=Error,h=g.asn1,p=h.DERInteger;h.tsp.PKIStatus.superclass.constructor.call(this);var _={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var M,w=this.params;if("string"==typeof w)try{M=_[w]}catch{throw new u("undefined name: "+w)}else{if("number"!=typeof w)throw new u("unsupported params");M=w}return new p({int:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.PKIStatus,g.asn1.ASN1Object),g.asn1.tsp.PKIFreeText=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.DERUTF8String;h.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var w=this.params;if(!w instanceof Array)throw new u("wrong params: not array");for(var A=[],M=0;M<w.length;M++)A.push(new y({str:w[M]}));return new p({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.PKIFreeText,g.asn1.ASN1Object),g.asn1.tsp.PKIFailureInfo=function(r){var u=Error,h=g.asn1,p=h.DERBitString,w={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};h.tsp.PKIFailureInfo.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var A=this.params,M=0;if("number"==typeof A&&0<=A&&A<=25){for(var B=(M|=1<<A).toString(2),k="",b=B.length-1;b>=0;b--)k+=B[b];return k}if("string"==typeof A&&null!=w[A])return Ns([A],w);if("object"==typeof A&&null!=A.length)return Ns(A,w);throw new u("wrong params")},this.tohex=function(){var M=this.getBinValue();return new p({bin:M}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.tsp.PKIFailureInfo,g.asn1.ASN1Object),g.asn1.tsp.AbstractTSAAdapter=function(r){this.getTSTHex=function(u,l){throw"not implemented yet"}},g.asn1.tsp.SimpleTSAAdapter=function(r){var h=g.asn1.tsp,p=g.crypto.Util.hashHex;h.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(y,_){var w=p(y,_);this.params.econtent.content.messageImprint={alg:_,hash:w},this.params.econtent.content.serial={int:this.serial++};var A=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:A},new h.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==r&&(this.params=r)},He(g.asn1.tsp.SimpleTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.FixedTSAAdapter=function(r){var h=g.asn1.tsp,p=g.crypto.Util.hashHex;h.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(y,_){var w=p(y,_);return this.params.econtent.content.messageImprint={alg:_,hash:w},new h.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==r&&(this.params=r)},He(g.asn1.tsp.FixedTSAAdapter,g.asn1.tsp.AbstractTSAAdapter),g.asn1.tsp.TSPUtil=new function(){},g.asn1.tsp.TSPUtil.newTimeStampToken=function(r){return new g.asn1.tsp.TimeStampToken(r)},g.asn1.tsp.TSPUtil.parseTimeStampReq=function(r){return(new g.asn1.tsp.TSPParser).getTimeStampReq(r)},g.asn1.tsp.TSPUtil.parseMessageImprint=function(r){return(new g.asn1.tsp.TSPParser).getMessageImprint(r)},g.asn1.tsp.TSPParser=function(){Error;var l=new xt,h=Ye,p=h.getV,y=h.getTLV,_=h.getIdxbyList,A=h.getChildIdx,M=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],B={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(k){var b=A(k,0);if(1==b.length)return this.getPKIStatusInfo(y(k,b[0]));if(b.length>1){var S=this.getPKIStatusInfo(y(k,b[0])),O=y(k,b[1]),F=this.getToken(O);return F.statusinfo=S,F}},this.getToken=function(k){var S=(new g.asn1.cms.CMSParser).getCMSSignedData(k);return this.setTSTInfo(S),S},this.setTSTInfo=function(k){var b=k.econtent;if("tstinfo"==b.type){var O=this.getTSTInfo(b.content.hex);b.content=O}},this.getTSTInfo=function(k){var b={},S=A(k,0),O=p(k,S[1]);b.policy=Hr(O);var F=y(k,S[2]);b.messageImprint=this.getMessageImprint(F);var H=p(k,S[3]);b.serial={hex:H};var R=p(k,S[4]);b.genTime={str:Xt(R)};var U=0;if(S.length>5&&"30"==k.substr(S[5],2)){var X=y(k,S[5]);b.accuracy=this.getAccuracy(X),U++}if(S.length>5+U&&"01"==k.substr(S[5+U],2)&&("ff"==p(k,S[5+U])&&(b.ordering=!0),U++),S.length>5+U&&"02"==k.substr(S[5+U],2)){var ee=p(k,S[5+U]);b.nonce={hex:ee},U++}if(S.length>5+U&&"a0"==k.substr(S[5+U],2)){var Se=y(k,S[5+U]);Se="30"+Se.substr(2),pGeneralNames=l.getGeneralNames(Se);var $=pGeneralNames[0].dn;b.tsa=$,U++}if(S.length>5+U&&"a1"==k.substr(S[5+U],2)){var W=y(k,S[5+U]);W="30"+W.substr(2);var Z=l.getExtParamArray(W);b.ext=Z,U++}return b},this.getAccuracy=function(k){for(var b={},S=A(k,0),O=0;O<S.length;O++){var F=k.substr(S[O],2),H=p(k,S[O]),R=parseInt(H,16);"02"==F?b.seconds=R:"80"==F?b.millis=R:"81"==F&&(b.micros=R)}return b},this.getMessageImprint=function(k){if("30"!=k.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var b={},O=(A(k,0),_(k,0,[0,0])),F=p(k,O),H=h.hextooidstr(F),R=g.asn1.x509.OID.oid2name(H);if(""==R)throw new Error("hashAlg name undefined: "+H);var U=R,X=_(k,0,[1]);return b.alg=U,b.hash=p(k,X),b},this.getPKIStatusInfo=function(k){var b={},S=A(k,0),O=0;try{var F=p(k,S[0]),H=parseInt(F,16);b.status=M[H]}catch{}if(S.length>1&&"30"==k.substr(S[1],2)){var R=y(k,S[1]);b.statusstr=this.getPKIFreeText(R),O++}if(S.length>O&&"03"==k.substr(S[1+O],2)){var U=y(k,S[1+O]);b.failinfo=this.getPKIFailureInfo(U)}return b},this.getPKIFreeText=function(k){for(var b=[],S=A(k,0),O=0;O<S.length;O++)b.push(h.getString(k,S[O]));return b},this.getPKIFailureInfo=function(k){var b=h.getInt(k,0);return null!=B[b]?B[b]:b},this.getTimeStampReq=function(k){var b={certreq:!1},S=A(k,0);if(S.length<2)throw new Error("TimeStampReq must have at least 2 items");var O=y(k,S[1]);b.messageImprint=g.asn1.tsp.TSPUtil.parseMessageImprint(O);for(var F=2;F<S.length;F++){var H=S[F],R=k.substr(H,2);if("06"==R){var U=p(k,H);b.policy=h.hextooidstr(U)}"02"==R&&(b.nonce=p(k,H)),"01"==R&&(b.certreq=!0)}return b}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.cades>"u"||!g.asn1.cades)&&(g.asn1.cades={}),g.asn1.cades.SignaturePolicyIdentifier=function(r){var h=g.asn1.cades,p=h.SignaturePolicyId;h.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new p(this.params)]},this.setByParam=function(y){this.params=y},null!=r&&this.setByParam(r)},He(g.asn1.cades.SignaturePolicyIdentifier,g.asn1.cms.Attribute),g.asn1.cades.SignaturePolicyId=function(r){var l=g.asn1,h=l.DERSequence,p=l.DERObjectIdentifier,w=l.cades,M=w.OtherHashAlgAndValue;w.SignaturePolicyId.superclass.constructor.call(this),this.params=null,this.tohex=function(){var B=this.params,k=[];return k.push(new p(B.oid)),k.push(new M(B)),new h({array:k}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(B){this.params=B},null!=r&&this.setByParam(r)},He(g.asn1.cades.SignaturePolicyId,g.asn1.ASN1Object),g.asn1.cades.OtherHashAlgAndValue=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.DEROctetString,w=h.x509.AlgorithmIdentifier;h.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var B=this.params;if(null==B.alg)throw new u("property 'alg' not specified");if(null==B.hash&&null==B.cert)throw new u("property 'hash' nor 'cert' not specified");var k=null;if(null!=B.hash)k=B.hash;else if(null!=B.cert){if("string"!=typeof B.cert)throw new u("cert not string");var b=B.cert;-1!=B.cert.indexOf("-----BEGIN")&&(b=cn(B.cert)),k=g.crypto.Util.hashHex(b,B.alg)}var S=[];return S.push(new w({name:B.alg})),S.push(new y({hex:k})),new p({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cades.OtherHashAlgAndValue,g.asn1.ASN1Object),g.asn1.cades.OtherHashValue=function(r){g.asn1.cades.OtherHashValue.superclass.constructor.call(this);var u=Error,y=g.asn1.DEROctetString;this.params=null,this.tohex=function(){var w=this.params;if(null==w.hash&&null==w.cert)throw new u("hash or cert not specified");var A=null;if(null!=w.hash)A=w.hash;else if(null!=w.cert){if("string"!=typeof w.cert)throw new u("cert not string");var M=w.cert;-1!=w.cert.indexOf("-----BEGIN")&&(M=cn(w.cert)),A=g.crypto.Util.hashHex(M,"sha1")}return new y({hex:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cades.OtherHashValue,g.asn1.ASN1Object),g.asn1.cades.SignatureTimeStamp=function(r){var u=Error,h=g.lang.String.isHex,p=g.asn1,y=p.ASN1Object;p.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var A=this.params;if(null!=A.tst){if(h(A.tst))return(M=new y).hTLV=A.tst,[M];if(A.tst instanceof y)return[A.tst];throw new u("params.tst has wrong value")}if(null!=A.res){var M,B=A.res;if(B instanceof y&&(B=B.tohex()),"string"!=typeof B||!h(B))throw new u("params.res has wrong value");return Ye.getTLVbyList(B,0,[1]),(M=new y).hTLV=A.tst,[M]}},null!=r&&this.setByParam(r)},He(g.asn1.cades.SignatureTimeStamp,g.asn1.cms.Attribute),g.asn1.cades.CompleteCertificateRefs=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.cades,_=y.OtherCertID,w=g.lang.String.isHex;y.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var A=this.params,M=[],B=0;B<A.array.length;B++){var k=A.array[B];if("string"==typeof k)if(-1!=k.indexOf("-----BEGIN"))k={cert:k};else{if(!w(k))throw new u("unsupported value: "+k);k={hash:k}}null!=A.alg&&null==k.alg&&(k.alg=A.alg),null!=A.hasis&&null==k.hasis&&(k.hasis=A.hasis);var b=new _(k);M.push(b)}return[new p({array:M})]},null!=r&&this.setByParam(r)},He(g.asn1.cades.CompleteCertificateRefs,g.asn1.cms.Attribute),g.asn1.cades.OtherCertID=function(r){var l=g.asn1,h=l.DERSequence,y=l.cms.IssuerSerial,_=l.cades,w=_.OtherHashValue,A=_.OtherHashAlgAndValue;_.OtherCertID.superclass.constructor.call(this),this.params=r,this.tohex=function(){var M=this.params;"string"==typeof M&&(-1!=M.indexOf("-----BEGIN")?M={cert:M}:_isHex(M)&&(M={hash:M}));var k,B=[];if(k=null!=M.alg?new A(M):new w(M),B.push(k),null!=M.cert&&1==M.hasis||null!=M.issuer&&null!=M.serial){var b=new y(M);B.push(b)}return new h({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cades.OtherCertID,g.asn1.ASN1Object),g.asn1.cades.OtherHash=function(r){Error;var y=g.asn1.cades,_=y.OtherHashAlgAndValue,w=y.OtherHashValue,M=g.lang.String.isHex;y.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var B=this.params;return"string"==typeof B&&(-1!=B.indexOf("-----BEGIN")?B={cert:B}:M(B)&&(B={hash:B})),(null!=B.alg?new _(B):new w(B)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.cades.OtherHash,g.asn1.ASN1Object),g.asn1.cades.CAdESUtil=new function(){},g.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(r){return(new g.asn1.cms.CMSParser).getCMSSignedData(r)},g.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(r,u,l){var y=Ye.getTLV,_=Ye.getV,A=g.asn1,M=A.ASN1Object,B=A.cms,k=B.AttributeList,b=B.SignerInfo,S={},O=(0,Ye.getChildIdx)(r,u);if(6!=O.length)throw"not supported items for SignerInfo (!=6)";var F=O.shift();S.version=y(r,F);var H=O.shift();S.si=y(r,H);var R=O.shift();S.digalg=y(r,R);var U=O.shift();S.sattrs=y(r,U);var X=O.shift();S.sigalg=y(r,X);var ne=O.shift();S.sig=y(r,ne),S.sigval=_(r,ne);var ee=null;return S.obj=new b,(ee=new M).hTLV=S.version,S.obj.dCMSVersion=ee,(ee=new M).hTLV=S.si,S.obj.dSignerIdentifier=ee,(ee=new M).hTLV=S.digalg,S.obj.dDigestAlgorithm=ee,(ee=new M).hTLV=S.sattrs,S.obj.dSignedAttrs=ee,(ee=new M).hTLV=S.sigalg,S.obj.dSigAlg=ee,(ee=new M).hTLV=S.sig,S.obj.dSig=ee,S.obj.dUnsignedAttrs=new k,S},(typeof g.asn1.csr>"u"||!g.asn1.csr)&&(g.asn1.csr={}),g.asn1.csr.CertificationRequest=function(r){var l=g.asn1,h=l.DERBitString,p=l.DERSequence,y=l.csr,w=y.CertificationRequestInfo;y.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(A){this.params=A},this.sign=function(){var A=new w(this.params).tohex(),M=new g.crypto.Signature({alg:this.params.sigalg});M.init(this.params.sbjprvkey),M.updateHex(A);var B=M.sign();this.params.sighex=B},this.getPEM=function(){return Hn(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var A=this.params,M=new g.asn1.csr.CertificationRequestInfo(this.params),B=new g.asn1.x509.AlgorithmIdentifier({name:A.sigalg});if(null==A.sighex&&null!=A.sbjprvkey&&this.sign(),null==A.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var k=new h({hex:"00"+A.sighex});return new p({array:[M,B,k]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.csr.CertificationRequest,g.asn1.ASN1Object),g.asn1.csr.CertificationRequestInfo=function(r){var l=g.asn1,p=l.DERSequence,y=l.DERInteger,_=l.DERUTF8String,w=l.DERTaggedObject,A=l.ASN1Util.newObject,B=l.x509,k=B.X500Name,b=B.Extensions,S=B.SubjectPublicKeyInfo;l.csr.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(H){null!=H&&(this.params=H)},this.tohex=function(){var H=this.params,R=[];if(R.push(new y({int:0})),R.push(new k(H.subject)),R.push(new S($t.getKey(H.sbjpubkey))),null!=H.attrs){var U=function F(H){for(var R=Error,U=g.asn1.x509.Extensions,X=[],ne=0;ne<H.length;ne++){var ee=H[ne],Se=ee.attr;if("extensionRequest"==Se){var $=new U(ee.ext);X.push({seq:[{oid:"1.2.840.113549.1.9.14"},{set:[$]}]})}else if("unstructuredName"==Se)X.push({seq:[{oid:"1.2.840.113549.1.9.2"},{set:ee.names}]});else{if("challengePassword"!=Se)throw new R("unknown CSR attribute");X.push({seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:ee.password}]}]})}}return{set:X}}(H.attrs),X=A({tag:{tage:"a0",obj:U}});R.push(X)}else if(null!=H.extreq){var ne=new b(H.extreq);X=A({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[ne]}]}}}),R.push(X)}else R.push(new w({tag:"a0",explicit:!1,obj:new _({str:""})}));return new p({array:R}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=r&&this.setByParam(r)},He(g.asn1.csr.CertificationRequestInfo,g.asn1.ASN1Object),g.asn1.csr.AttributeList=function(r){},He(g.asn1.csr.AttributeList,g.asn1.ASN1Object),g.asn1.csr.CSRUtil=new function(){},g.asn1.csr.CSRUtil.newCSRPEM=function(r){return new g.asn1.csr.CertificationRequest(r).getPEM()},g.asn1.csr.CSRUtil.getParam=function(r,u){var h=Ye.getV,p=Ye.getIdxbyList,y=Ye.getTLVbyList,_=Ye.getTLVbyListEx,w=Ye.getVbyListEx,M={};if(-1==r.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var B=cn(r,"CERTIFICATE REQUEST");u&&(M.tbs=y(B,0,[0]));try{var k=_(B,0,[0,1]);if("3000"==k)M.subject={};else{var F=new xt;M.subject=F.getX500Name(k)}}catch{}var b=_(B,0,[0,2]),S=$t.getKey(b,null,"pkcs8pub");M.sbjpubkey=$t.getPEM(S,"PKCS8PUB");var U,X,O=(X=p(U=B,0,[0,3,0,0],"06"),"2a864886f70d01090e"!=h(U,X)?null:y(U,0,[0,3,0,1,0],"30"));F=new xt,null!=O&&(M.extreq=F.getExtParamArray(O));try{var H=_(B,0,[1],"30");F=new xt,M.sigalg=F.getAlgorithmIdentifierName(H)}catch{}try{var R=w(B,0,[2]);M.sighex=R}catch{}return M},g.asn1.csr.CSRUtil.verifySignature=function(r){try{var u=null;if("string"==typeof r&&-1!=r.indexOf("-----BEGIN CERTIFICATE REQUEST")?u=g.asn1.csr.CSRUtil.getParam(r,!0):"object"==typeof r&&null!=r.sbjpubkey&&null!=r.sigalg&&null!=r.sighex&&null!=r.tbs&&(u=r),null==u)return!1;var l=new g.crypto.Signature({alg:u.sigalg});return l.init(u.sbjpubkey),l.updateHex(u.tbs),l.verify(u.sighex)}catch(h){return alert(h),!1}},(typeof g>"u"||!g)&&(g={}),(typeof g.asn1>"u"||!g.asn1)&&(g.asn1={}),(typeof g.asn1.ocsp>"u"||!g.asn1.ocsp)&&(g.asn1.ocsp={}),g.asn1.ocsp.DEFAULT_HASH="sha1",g.asn1.ocsp.OCSPResponse=function(r){g.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var l=g.asn1.ASN1Util.newObject,h=g.asn1.ocsp.ResponseBytes,p=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var y=this.params.resstatus;return"number"==typeof y?y:"string"!=typeof y?-1:p.indexOf(y)},this.setByParam=function(y){this.params=y},this.tohex=function(){var y=this.params,_=this._getStatusCode();if(-1==_)throw new Error("responseStatus not supported: "+y.resstatus);if(0!=_)return l({seq:[{enum:{int:_}}]}).tohex();var w=new h(y);return l({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:w}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.OCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseBytes=function(r){g.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var u=g.asn1,l=u.DERSequence,h=u.DERObjectIdentifier,p=u.DEROctetString,y=u.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(_){this.params=_},this.tohex=function(){var _=this.params;if("ocspBasic"!=_.restype)throw new Error("not supported responseType: "+_.restype);var w=new y(_),A=[];return A.push(new h({name:"ocspBasic"})),A.push(new p({hex:w.tohex()})),new l({array:A}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.ResponseBytes,g.asn1.ASN1Object),g.asn1.ocsp.BasicOCSPResponse=function(r){g.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var u=Error,l=g.asn1,h=l.ASN1Object,p=l.DERSequence,_=l.DERTaggedObject,w=l.DERBitString,M=l.x509.AlgorithmIdentifier,B=l.ocsp;_SingleResponseList=B.SingleResponseList,_ResponseData=B.ResponseData,this.params=null,this.setByParam=function(b){this.params=b},this.sign=function(){var b=this.params,S=b.tbsresp.tohex(),O=new g.crypto.Signature({alg:b.sigalg});O.init(b.reskey),O.updateHex(S),b.sighex=O.sign()},this.tohex=function(){var b=this.params;null==b.tbsresp&&(b.tbsresp=new _ResponseData(b)),null==b.sighex&&null!=b.reskey&&this.sign();var S=[];if(S.push(b.tbsresp),S.push(new M({name:b.sigalg})),S.push(new w({hex:"00"+b.sighex})),null!=b.certs&&null!=b.certs.length){for(var O=[],F=0;F<b.certs.length;F++){var H=b.certs[F],R=null;if(Ye.isASN1HEX(H))R=H;else{if(!H.match(/-----BEGIN/))throw new u("certs["+F+"] not hex or PEM");R=cn(H)}O.push(new h({tlv:R}))}var U=new p({array:O});S.push(new _({tag:"a0",explicit:!0,obj:U}))}return new p({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.BasicOCSPResponse,g.asn1.ASN1Object),g.asn1.ocsp.ResponseData=function(r){g.asn1.ocsp.ResponseData.superclass.constructor.call(this);var u=Error,l=g.asn1,h=l.DERSequence,p=l.DERGeneralizedTime,y=l.DERTaggedObject,_=l.x509.Extensions,w=l.ocsp,A=w.ResponderID;_SingleResponseList=w.SingleResponseList,this.params=null,this.tohex=function(){var M=this.params;null!=M.respid&&new u("respid not specified"),null!=M.prodat&&new u("prodat not specified"),null!=M.array&&new u("array not specified");var B=[];if(B.push(new A(M.respid)),B.push(new p(M.prodat)),B.push(new _SingleResponseList(M.array)),null!=M.ext){var k=new _(M.ext);B.push(new y({tag:"a1",explicit:!0,obj:k}))}return new h({array:B}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(M){this.params=M},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.ResponseData,g.asn1.ASN1Object),g.asn1.ocsp.ResponderID=function(r){g.asn1.ocsp.ResponderID.superclass.constructor.call(this);var l=g.asn1,h=l.ASN1Util.newObject,p=l.x509.X500Name,y=g.lang.String.isHex,_=Error;this.params=null,this.tohex=function(){var w=this.params;if(null!=w.key){var A=null;if("string"==typeof w.key)y(w.key)&&(A=w.key),w.key.match(/-----BEGIN CERTIFICATE/)&&null!=(B=new xt(w.key).getExtSubjectKeyIdentifier())&&(A=B.kid.hex);else if(w.key instanceof xt){var B;null!=(B=w.key.getExtSubjectKeyIdentifier())&&(A=B.kid.hex)}if(null==A)throw new _("wrong key member value");return h({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:A}}}}).tohex()}if(null!=w.name){var b=null;if("string"==typeof w.name&&w.name.match(/-----BEGIN CERTIFICATE/)?b=new xt(w.name).getSubject():w.name instanceof xt?b=w.name.getSubject():"object"==typeof w.name&&(null!=w.name.array||null!=w.name.str)&&(b=w.name),null==b)throw new _("wrong name member value");return h({tag:{tag:"a1",explicit:!0,obj:new p(b)}}).tohex()}throw new _("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(w){this.params=w},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.ResponderID,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponseList=function(r){g.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var u=g.asn1,l=u.DERSequence,h=u.ocsp.SingleResponse;this.params=null,this.tohex=function(){var p=this.params;if("object"!=typeof p||null==p.length)throw new Error("params not specified properly");for(var y=[],_=0;_<p.length;_++)y.push(new h(p[_]));return new l({array:y}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.SingleResponseList,g.asn1.ASN1Object),g.asn1.ocsp.SingleResponse=function(r){var u=Error,h=g.asn1,p=h.DERSequence,y=h.DERGeneralizedTime,_=h.DERTaggedObject,w=h.ocsp,A=w.CertID,M=w.CertStatus,k=h.x509.Extensions;w.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var b=this.params,S=[];if(null==b.certid)throw new u("certid unspecified");if(null==b.status)throw new u("status unspecified");if(null==b.thisupdate)throw new u("thisupdate unspecified");if(S.push(new A(b.certid)),S.push(new M(b.status)),S.push(new y(b.thisupdate)),null!=b.nextupdate){var O=new y(b.nextupdate);S.push(new _({tag:"a0",explicit:!0,obj:O}))}if(null!=b.ext){var F=new k(b.ext);S.push(new _({tag:"a1",explicit:!0,obj:F}))}return new p({array:S}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(b){this.params=b},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.SingleResponse,g.asn1.ASN1Object),g.asn1.ocsp.CertID=function(r){var l=g.asn1,h=l.DEROctetString,p=l.DERInteger,y=l.DERSequence,w=l.x509.AlgorithmIdentifier,k=g.crypto.Util.hashHex,b=xt,O=Ye.getVbyList;l.ocsp.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(F,H,R,U){null==U&&(U=this.DEFAULT_HASH),this.params={alg:U,issname:F,isskey:H,sbjsn:R}},this.setByCert=function(F,H,R){null==R&&(R=this.DEFAULT_HASH),this.params={alg:R,issuerCert:F,subjectCert:H}},this.getParamByCerts=function(F,H,R){null==R&&(R=this.DEFAULT_HASH);var U=new b(F),X=new b(H),ne=k(U.getSubjectHex(),R),ee=U.getPublicKeyHex();return{alg:R,issname:ne,isskey:k(O(ee,0,[1],"03",!0),R),sbjsn:X.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var H,R,U,X,F=this.params;if(X=F.alg??this.DEFAULT_HASH,null!=F.issuerCert&&null!=F.subjectCert){var ne=this.getParamByCerts(F.issuerCert,F.subjectCert,X);H=ne.issname,R=ne.isskey,U=ne.sbjsn}else{if(null==F.issname||null==F.isskey||null==F.sbjsn)throw new Error("required param members not defined");H=F.issname,R=F.isskey,U=F.sbjsn}var ee=new w({name:X}),Se=new h({hex:H}),$=new h({hex:R}),W=new p({hex:U}),Z=new y({array:[ee,Se,$,W]});return this.hTLV=Z.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.CertID,g.asn1.ASN1Object),g.asn1.ocsp.CertStatus=function(r){g.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params;if("good"==u.status)return"8000";if("unknown"==u.status)return"8200";if("revoked"==u.status){var l=[{gentime:{str:u.time}}];return null!=u.reason&&l.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:u.reason}}}}),g.asn1.ASN1Util.newObject({tag:{tag:"a1",explicit:!1,obj:{seq:l}}}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(u){this.params=u},void 0!==r&&this.setByParam(r)},He(g.asn1.ocsp.CertStatus,g.asn1.ASN1Object),g.asn1.ocsp.Request=function(r){var l=g.asn1,h=l.DERSequence,p=l.ocsp;if(p.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var _=[];if(null===this.dReqCert)throw"reqCert not set";_.push(this.dReqCert);var w=new h({array:_});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof r<"u"){var y=new p.CertID(r);this.dReqCert=y}},He(g.asn1.ocsp.Request,g.asn1.ASN1Object),g.asn1.ocsp.TBSRequest=function(r){var l=g.asn1,h=l.DERSequence,p=l.ocsp;p.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(y){for(var _=[],w=0;w<y.length;w++){var A=new p.Request(y[0]);_.push(A)}this.dRequestList=_},this.tohex=function(){var y=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var _=new h({array:this.dRequestList});if(y.push(_),null!==this.dRequestExt)throw"requestExtensions not supported";var w=new h({array:y});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&void 0!==r.reqList&&this.setRequestListByParam(r.reqList)},He(g.asn1.ocsp.TBSRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPRequest=function(r){var l=g.asn1,h=l.DERSequence,p=l.ocsp;if(p.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var _=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(_.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var w=new h({array:_});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==r&&void 0!==r.reqList){var y=new p.TBSRequest(r);this.dTbsRequest=y}},He(g.asn1.ocsp.OCSPRequest,g.asn1.ASN1Object),g.asn1.ocsp.OCSPUtil={},g.asn1.ocsp.OCSPUtil.getRequestHex=function(r,u,l){var y=g.asn1.ocsp;return void 0===l&&(l=y.DEFAULT_HASH),new y.OCSPRequest({reqList:[{alg:l,issuerCert:r,subjectCert:u}]}).tohex()},g.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(r){var l=Ye.getVbyList,h=Ye.getVbyListEx,p=Ye.getIdxbyList,_=Ye.getV,w={};try{var A=h(r,0,[0],"0a");w.responseStatus=parseInt(A,16)}catch{}if(0!==w.responseStatus)return w;try{var M=p(r,0,[1,0,1,0,0,2,0,1]);"80"===r.substr(M,2)?w.certStatus="good":"a1"===r.substr(M,2)?(w.certStatus="revoked",w.revocationTime=Xt(l(r,M,[0]))):"82"===r.substr(M,2)&&(w.certStatus="unknown")}catch{}try{var B=p(r,0,[1,0,1,0,0,2,0,2]);w.thisUpdate=Xt(_(r,B))}catch{}try{var k=p(r,0,[1,0,1,0,0,2,0,3]);"a0"===r.substr(k,2)&&(w.nextUpdate=Xt(l(r,k,[0])))}catch{}return w},g.asn1.ocsp.OCSPParser=function(){var r=Error,u=xt,l=new u,p=Ye.getV,y=Ye.getTLV,_=Ye.getIdxbyList,w=Ye.getVbyList,A=Ye.getTLVbyList,M=Ye.getVbyListEx,B=Ye.getTLVbyListEx,k=Ye.getChildIdx;this.getOCSPRequest=function(b){var S=k(b,0);if(1!=S.length&&2!=S.length)throw new r("wrong number elements: "+S.length);return this.getTBSRequest(y(b,S[0]))},this.getTBSRequest=function(b){var S={},O=B(b,0,[0],"30");S.array=this.getRequestList(O);var F=B(b,0,["[2]",0],"30");return null!=F&&(S.ext=l.getExtParamArray(F)),S},this.getRequestList=function(b){for(var S=[],O=k(b,0),F=0;F<O.length;F++)b=y(b,O[F]),S.push(this.getRequest(b));return S},this.getRequest=function(b){var S=k(b,0);if(1!=S.length&&2!=S.length)throw new r("wrong number elements: "+S.length);var O=this.getCertID(y(b,S[0]));if(2==S.length){var F=_(b,0,[1,0]);O.ext=l.getExtParamArray(y(b,F))}return O},this.getCertID=function(b){var S=k(b,0);if(4!=S.length)throw new r("wrong number elements: "+S.length);var O=new u,F={};return F.alg=O.getAlgorithmIdentifierName(y(b,S[0])),F.issname=p(b,S[1]),F.isskey=p(b,S[2]),F.sbjsn=p(b,S[3]),F},this.getOCSPResponse=function(b){var O,S=k(b,0),F=p(b,S[0]),H=parseInt(F);if(1==S.length)return{resstatus:H};var R=A(b,0,[1,0]);return(O=this.getResponseBytes(R)).resstatus=H,O},this.getResponseBytes=function(b){var O,S=k(b,0),F=A(b,0,[1,0]);O=this.getBasicOCSPResponse(F);var H=p(b,S[0]);return O.restype=g.asn1.x509.OID.oid2name(Hr(H)),O},this.getBasicOCSPResponse=function(b){var O,S=k(b,0);O=this.getResponseData(y(b,S[0]));var F=new xt;O.alg=F.getAlgorithmIdentifierName(y(b,S[1]));var H=p(b,S[2]);O.sighex=H.substr(2);var R=M(b,0,["[0]"]);if(null!=R){for(var U=k(R,0),X=[],ne=0;ne<U.length;ne++){var ee=y(R,U[ne]);X.push(ee)}O.certs=X}return O},this.getResponseData=function(b){var S=k(b,0),O=S.length,F={},H=0;"a0"==b.substr(S[0],2)&&H++,F.respid=this.getResponderID(y(b,S[H++]));var R=p(b,S[H++]);if(F.prodat=Xt(R),F.array=this.getSingleResponseList(y(b,S[H++])),"a1"==b.substr(S[O-1],2)){var U=A(b,S[O-1],[0]),X=new xt;F.ext=X.getExtParamArray(U)}return F},this.getResponderID=function(b){var S={};if("a2"==b.substr(0,2)){var O=w(b,0,[0]);S.key=O}if("a1"==b.substr(0,2)){var F=A(b,0,[0]),H=new xt;S.name=H.getX500Name(F)}return S},this.getSingleResponseList=function(b){for(var S=k(b,0),O=[],F=0;F<S.length;F++){var H=this.getSingleResponse(y(b,S[F]));O.push(H)}return O},this.getSingleResponse=function(b){var S=k(b,0),O={},F=this.getCertID(y(b,S[0]));O.certid=F;var H=this.getCertStatus(y(b,S[1]));if(O.status=H,"18"==b.substr(S[2],2)){var R=p(b,S[2]);O.thisupdate=Xt(R)}for(var U=3;U<S.length;U++){if("a0"==b.substr(S[U],2)){var X=w(b,S[U],[0],"18");O.nextupdate=Xt(X)}if("a1"==b.substr(S[U],2)){var ne=new xt,ee=A(b,0,[U,0]);O.ext=ne.getExtParamArray(ee)}}return O},this.getCertStatus=function(b){var S={};if("8000"==b)return{status:"good"};if("8200"==b)return{status:"unknown"};if("a1"==b.substr(0,2)){S.status="revoked";var F=Xt(w(b,0,[0]));S.time=F}return S}},(typeof g>"u"||!g)&&(g={}),(typeof g.lang>"u"||!g.lang)&&(g.lang={}),g.lang.String=function(){},"function"==typeof Buffer?(nr=function(r){return Jr(Buffer.from(r,"utf8").toString("base64"))},or=function(r){return Buffer.from(fn(r),"base64").toString("utf8")}):(nr=function(r){return mn(V(vt(r)))},or=function(r){return decodeURIComponent(P(Jt(r)))}),g.lang.String.isInteger=function(r){return!!r.match(/^[0-9]+$/)||!!r.match(/^-[0-9]+$/)},g.lang.String.isHex=function(r){return on(r)},g.lang.String.isBase64=function(r){return!(!(r=r.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||r.length%4!=0)},g.lang.String.isBase64URL=function(r){return!r.match(/[+/=]/)&&(r=fn(r),g.lang.String.isBase64(r))},g.lang.String.isIntegerArray=function(r){return!!(r=r.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},g.lang.String.isPrintable=function(r){return null!==r.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},g.lang.String.isIA5=function(r){return null!==r.match(/^[\x20-\x21\x23-\x7f]*$/)},g.lang.String.isMail=function(r){return null!==r.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var ci=function(r,u,l){return null==l&&(l="0"),r.length>=u?r:new Array(u-r.length+1).join(l)+r};function Ns(r,u){for(var l=0,h=0;h<r.length;h++)l|=1<<u[r[h]];var p=l.toString(2),y="";for(h=p.length-1;h>=0;h--)y+=p[h];return y}function He(r,u){var l=function(){};l.prototype=u.prototype,r.prototype=new l,r.prototype.constructor=r,r.superclass=u.prototype,u.prototype.constructor==Object.prototype.constructor&&(u.prototype.constructor=u)}(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:j.algo.MD5,sha1:j.algo.SHA1,sha224:j.algo.SHA224,sha256:j.algo.SHA256,sha384:j.algo.SHA384,sha512:j.algo.SHA512,ripemd160:j.algo.RIPEMD160},this.getDigestInfoHex=function(r,u){if(typeof this.DIGESTINFOHEAD[u]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+u;return this.DIGESTINFOHEAD[u]+r},this.getPaddedDigestInfoHex=function(r,u,l){var h=this.getDigestInfoHex(r,u),p=l/4;if(h.length+22>p)throw"key is too short for SigAlg: keylen="+l+","+u;for(var y="0001",_="00"+h,w="",A=p-y.length-_.length,M=0;M<A;M+=2)w+="ff";return y+w+_},this.hashString=function(r,u){return new g.crypto.MessageDigest({alg:u}).digestString(r)},this.hashHex=function(r,u){return new g.crypto.MessageDigest({alg:u}).digestHex(r)},this.sha1=function(r){return this.hashString(r,"sha1")},this.sha256=function(r){return this.hashString(r,"sha256")},this.sha256Hex=function(r){return this.hashHex(r,"sha256")},this.sha512=function(r){return this.hashString(r,"sha512")},this.sha512Hex=function(r){return this.hashHex(r,"sha512")},this.isKey=function(r){return r instanceof mt||r instanceof g.crypto.DSA||r instanceof g.crypto.ECDSA}},g.crypto.Util.md5=function(r){return new g.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(r)},g.crypto.Util.ripemd160=function(r){return new g.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(r)},g.crypto.Util.SECURERANDOMGEN=new Ci,g.crypto.Util.getRandomHexOfNbytes=function(r){var u=new Array(r);return g.crypto.Util.SECURERANDOMGEN.nextBytes(u),bi(u)},g.crypto.Util.getRandomBigIntegerOfNbytes=function(r){return new G(g.crypto.Util.getRandomHexOfNbytes(r),16)},g.crypto.Util.getRandomHexOfNbits=function(r){var u=r%8,h=new Array((r-u)/8+1);return g.crypto.Util.SECURERANDOMGEN.nextBytes(h),h[0]=(255<<u&255^255)&h[0],bi(h)},g.crypto.Util.getRandomBigIntegerOfNbits=function(r){return new G(g.crypto.Util.getRandomHexOfNbits(r),16)},g.crypto.Util.getRandomBigIntegerZeroToMax=function(r){for(var u=r.bitLength();;){var l=g.crypto.Util.getRandomBigIntegerOfNbits(u);if(-1!=r.compareTo(l))return l}},g.crypto.Util.getRandomBigIntegerMinToMax=function(r,u){var l=r.compareTo(u);if(1==l)throw"biMin is greater than biMax";if(0==l)return r;var h=u.subtract(r);return g.crypto.Util.getRandomBigIntegerZeroToMax(h).add(r)},g.crypto.MessageDigest=function(r){this.setAlgAndProvider=function(p,y){if(null!==(p=g.crypto.MessageDigest.getCanonicalAlgName(p))&&void 0===y&&(y=g.crypto.Util.DEFAULTPROVIDER[p]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(p)&&"cryptojs"==y){try{this.md=g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[p].create()}catch(_){throw"setAlgAndProvider hash alg set fail alg="+p+"/"+_}this.updateString=function(_){this.md.update(_)},this.updateHex=function(_){var w=j.enc.Hex.parse(_);this.md.update(w)},this.digest=function(){return this.md.finalize().toString(j.enc.Hex)},this.digestString=function(_){return this.updateString(_),this.digest()},this.digestHex=function(_){return this.updateHex(_),this.digest()}}if(-1!=":sha256:".indexOf(p)&&"sjcl"==y){try{this.md=new sjcl.hash.sha256}catch(_){throw"setAlgAndProvider hash alg set fail alg="+p+"/"+_}this.updateString=function(_){this.md.update(_)},this.updateHex=function(_){var w=sjcl.codec.hex.toBits(_);this.md.update(w)},this.digest=function(){var _=this.md.finalize();return sjcl.codec.hex.fromBits(_)},this.digestString=function(_){return this.updateString(_),this.digest()},this.digestHex=function(_){return this.updateHex(_),this.digest()}}},this.updateString=function(p){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(p){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(p){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(p){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==r&&void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},g.crypto.MessageDigest.getCanonicalAlgName=function(r){return"string"==typeof r&&(r=(r=r.toLowerCase()).replace(/-/,"")),r},g.crypto.MessageDigest.getHashLength=function(r){var u=g.crypto.MessageDigest,l=u.getCanonicalAlgName(r);if(void 0===u.HASHLENGTH[l])throw"not supported algorithm: "+r;return u.HASHLENGTH[l]},g.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},g.crypto.Mac=function(r){this.setAlgAndProvider=function(_,w){if(null==(_=_.toLowerCase())&&(_="hmacsha1"),"hmac"!=(_=_.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+_;void 0===w&&(w=g.crypto.Util.DEFAULTPROVIDER[_]),this.algProv=_+"/"+w;var A=_.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(A)&&"cryptojs"==w){try{this.mac=j.algo.HMAC.create(g.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[A],this.pass)}catch(B){throw"setAlgAndProvider hash alg set fail hashAlg="+A+"/"+B}this.updateString=function(B){this.mac.update(B)},this.updateHex=function(B){var k=j.enc.Hex.parse(B);this.mac.update(k)},this.doFinal=function(){return this.mac.finalize().toString(j.enc.Hex)},this.doFinalString=function(B){return this.updateString(B),this.doFinal()},this.doFinalHex=function(B){return this.updateHex(B),this.doFinal()}}},this.updateString=function(_){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(_){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(_){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(_){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(_){if("string"==typeof _){var w=_;return(_.length%2==1||!_.match(/^[0-9A-Fa-f]+$/))&&(w=Mn(_)),void(this.pass=j.enc.Hex.parse(w))}if("object"!=typeof _)throw"KJUR.crypto.Mac unsupported password type: "+_;if(w=null,void 0!==_.hex){if(_.hex.length%2!=0||!_.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+_.hex;w=_.hex}if(void 0!==_.utf8&&(w=Wi(_.utf8)),void 0!==_.rstr&&(w=Mn(_.rstr)),void 0!==_.b64&&(w=Ee(_.b64)),void 0!==_.b64u&&(w=Jt(_.b64u)),null==w)throw"KJUR.crypto.Mac unsupported password type: "+_;this.pass=j.enc.Hex.parse(w)},void 0!==r&&(void 0!==r.pass&&this.setPassword(r.pass),void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=g.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},g.crypto.Signature=function(r){var u=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,U){for(var X="",ne=U/4-R.length,ee=0;ee<ne;ee++)X+="0";return X+R},this.setAlgAndProvider=function(R,U){if(this._setAlgNames(),"cryptojs/jsrsa"!=U)throw new Error("provider not supported: "+U);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new g.crypto.MessageDigest({alg:this.mdAlgName})}catch(X){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+X)}this.init=function(X,ne){var ee=null;try{ee=void 0===ne?$t.getKey(X):$t.getKey(X,ne)}catch(Se){throw"init failed:"+Se}if(!0===ee.isPrivate)this.prvKey=ee,this.state="SIGN";else{if(!0!==ee.isPublic)throw"init failed.:"+ee;this.pubKey=ee,this.state="VERIFY"}},this.updateString=function(X){this.md.updateString(X)},this.updateHex=function(X){this.md.updateHex(X)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==g.crypto.ECDSA&&(this.prvKey=new g.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof mt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof mt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof g.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof g.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(X){return this.updateString(X),this.sign()},this.signHex=function(X){return this.updateHex(X),this.sign()},this.verify=function(X){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==g.crypto.ECDSA&&(this.pubKey=new g.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof mt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,X,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof mt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,X);if(void 0!==g.crypto.ECDSA&&this.pubKey instanceof g.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,X);if(void 0!==g.crypto.DSA&&this.pubKey instanceof g.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,X);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,U){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=r,void 0!==r&&(void 0!==r.alg&&(this.algName=r.alg,this.provName=void 0===r.prov?g.crypto.Util.DEFAULTPROVIDER[this.algName]:r.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==r.psssaltlen&&(this.pssSaltLen=r.psssaltlen),void 0!==r.prvkeypem)){if(void 0!==r.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{u=$t.getKey(r.prvkeypem),this.init(u)}catch(R){throw"fatal error to load pem private key: "+R}}},g.crypto.Cipher=function(r){},g.crypto.Cipher.encrypt=function(r,u,l){if(u instanceof mt&&u.isPublic){var h=g.crypto.Cipher.getAlgByKeyAndName(u,l);if("RSA"===h)return u.encrypt(r);if("RSAOAEP"===h)return u.encryptOAEP(r,"sha1");var p=h.match(/^RSAOAEP(\d+)$/);if(null!==p)return u.encryptOAEP(r,"sha"+p[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+l}throw"Cipher.encrypt: unsupported key or algorithm"},g.crypto.Cipher.decrypt=function(r,u,l){if(u instanceof mt&&u.isPrivate){var h=g.crypto.Cipher.getAlgByKeyAndName(u,l);if("RSA"===h)return u.decrypt(r);if("RSAOAEP"===h)return u.decryptOAEP(r,"sha1");var p=h.match(/^RSAOAEP(\d+)$/);if(null!==p)return u.decryptOAEP(r,"sha"+p[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+l}throw"Cipher.decrypt: unsupported key or algorithm"},g.crypto.Cipher.getAlgByKeyAndName=function(r,u){if(r instanceof mt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(u))return u;if(null==u)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+u}throw"getAlgByKeyAndName: not supported algorithm name: "+u},g.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECDSA=function(r){var y=Error,_=G,w=zt,A=g.crypto.ECDSA,M=g.crypto.ECParameterDB,B=A.getName,b=Ye.getVbyListEx,S=Ye.isASN1HEX,O=new Ci;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(R){return new _(R.bitLength(),O).mod(R.subtract(_.ONE)).add(_.ONE)},this.setNamedCurve=function(R){this.ecparams=M.getByName(R),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=R},this.setPrivateKeyHex=function(R){this.isPrivate=!0,this.prvKeyHex=R},this.setPublicKeyHex=function(R){this.isPublic=!0,this.pubKeyHex=R},this.getPublicKeyXYHex=function(){var R=this.pubKeyHex;if("04"!==R.substr(0,2))throw"this method supports uncompressed format(04) only";var U=this.ecparams.keycharlen;if(R.length!==2+2*U)throw"malformed public key hex length";var X={};return X.x=R.substr(2,U),X.y=R.substr(2+U),X},this.getShortNISTPCurveName=function(){var R=this.curveName;return"secp256r1"===R||"NIST P-256"===R||"P-256"===R||"prime256v1"===R?"P-256":"secp384r1"===R||"NIST P-384"===R||"P-384"===R?"P-384":"secp521r1"===R||"NIST P-521"===R||"P-521"===R?"P-521":null},this.generateKeyPairHex=function(){var U=this.getBigRandom(this.ecparams.n),X=this.ecparams.keycharlen,ne=("0000000000"+U.toString(16)).slice(-X);return this.setPrivateKeyHex(ne),{ecprvhex:ne,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var R=new _(this.prvKeyHex,16),U=this.ecparams.G.multiply(R),X=U.getX().toBigInteger(),ne=U.getY().toBigInteger(),ee=this.ecparams.keycharlen,W="04"+("0000000000"+X.toString(16)).slice(-ee)+("0000000000"+ne.toString(16)).slice(-ee);return this.setPublicKeyHex(W),W},this.signWithMessageHash=function(R){return this.signHex(R,this.prvKeyHex)},this.signHex=function(R,U){var X=new _(U,16),ne=this.ecparams.n,ee=new _(R.substring(0,this.ecparams.keycharlen),16);do{var Se=this.getBigRandom(ne),Z=this.ecparams.G.multiply(Se).getX().toBigInteger().mod(ne)}while(Z.compareTo(_.ZERO)<=0);var se=Se.modInverse(ne).multiply(ee.add(X.multiply(Z))).mod(ne);return A.biRSSigToASN1Sig(Z,se)},this.sign=function(R,U){var X=U,ne=this.ecparams.n,ee=_.fromByteArrayUnsigned(R);do{var Se=this.getBigRandom(ne),Z=this.ecparams.G.multiply(Se).getX().toBigInteger().mod(ne)}while(Z.compareTo(G.ZERO)<=0);var se=Se.modInverse(ne).multiply(ee.add(X.multiply(Z))).mod(ne);return this.serializeSig(Z,se)},this.verifyWithMessageHash=function(R,U){return this.verifyHex(R,U,this.pubKeyHex)},this.verifyHex=function(R,U,X){try{var ne,ee,Se=A.parseSigHex(U);ne=Se.r,ee=Se.s;var $=w.decodeFromHex(this.ecparams.curve,X),W=new _(R.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(W,ne,ee,$)}catch{return!1}},this.verify=function(R,U,X){var ne,ee,$;if(Bitcoin.Util.isArray(U)){var Se=this.parseSig(U);ne=Se.r,ee=Se.s}else{if("object"!=typeof U||!U.r||!U.s)throw"Invalid value for signature";ne=U.r,ee=U.s}if(X instanceof zt)$=X;else{if(!Bitcoin.Util.isArray(X))throw"Invalid format for pubkey value, must be byte array or ECPointFp";$=w.decodeFrom(this.ecparams.curve,X)}var W=_.fromByteArrayUnsigned(R);return this.verifyRaw(W,ne,ee,$)},this.verifyRaw=function(R,U,X,ne){var ee=this.ecparams.n,Se=this.ecparams.G;if(U.compareTo(_.ONE)<0||U.compareTo(ee)>=0||X.compareTo(_.ONE)<0||X.compareTo(ee)>=0)return!1;var $=X.modInverse(ee),W=R.multiply($).mod(ee),Z=U.multiply($).mod(ee);return Se.multiply(W).add(ne.multiply(Z)).getX().toBigInteger().mod(ee).equals(U)},this.serializeSig=function(R,U){var X=R.toByteArraySigned(),ne=U.toByteArraySigned(),ee=[];return ee.push(2),ee.push(X.length),(ee=ee.concat(X)).push(2),ee.push(ne.length),(ee=ee.concat(ne)).unshift(ee.length),ee.unshift(48),ee},this.parseSig=function(R){var U;if(48!=R[0])throw new Error("Signature not a valid DERSequence");if(2!=R[U=2])throw new Error("First element in signature must be a DERInteger");var X=R.slice(U+2,U+2+R[U+1]);if(2!=R[U+=2+R[U+1]])throw new Error("Second element in signature must be a DERInteger");var ne=R.slice(U+2,U+2+R[U+1]);return U+=2+R[U+1],{r:_.fromByteArrayUnsigned(X),s:_.fromByteArrayUnsigned(ne)}},this.parseSigCompact=function(R){if(65!==R.length)throw"Signature has the wrong length";var U=R[0]-27;if(U<0||U>7)throw"Invalid signature type";var X=this.ecparams.n;return{r:_.fromByteArrayUnsigned(R.slice(1,33)).mod(X),s:_.fromByteArrayUnsigned(R.slice(33,65)).mod(X),i:U}},this.readPKCS5PrvKeyHex=function(R){if(!1===S(R))throw new Error("not ASN.1 hex string");var U,X,ne;try{U=b(R,0,["[0]",0],"06"),X=b(R,0,[1],"04");try{ne=b(R,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=B(U),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ne),this.setPrivateKeyHex(X),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(R){if(!1===S(R))throw new y("not ASN.1 hex string");var X,ne,ee;try{b(R,0,[1,0],"06"),X=b(R,0,[1,1],"06"),ne=b(R,0,[2,0,1],"04");try{ee=b(R,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new y("malformed PKCS#8 plain ECC private key")}if(this.curveName=B(X),void 0===this.curveName)throw new y("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ee),this.setPrivateKeyHex(ne),this.isPublic=!1},this.readPKCS8PubKeyHex=function(R){if(!1===S(R))throw new y("not ASN.1 hex string");var X,ne;try{b(R,0,[0,0],"06"),X=b(R,0,[0,1],"06"),ne=b(R,0,[1],"03")}catch{throw new y("malformed PKCS#8 ECC public key")}if(this.curveName=B(X),null===this.curveName)throw new y("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ne)},this.readCertPubKeyHex=function(R,U){if(!1===S(R))throw new y("not ASN.1 hex string");var X,ne;try{X=b(R,0,[0,5,0,1],"06"),ne=b(R,0,[0,5,1],"03")}catch{throw new y("malformed X.509 certificate ECC public key")}if(this.curveName=B(X),null===this.curveName)throw new y("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ne)},void 0!==r&&void 0!==r.curve&&(this.curveName=r.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==r&&(void 0!==r.prv&&this.setPrivateKeyHex(r.prv),void 0!==r.pub&&this.setPublicKeyHex(r.pub))},g.crypto.ECDSA.parseSigHex=function(r){var u=g.crypto.ECDSA.parseSigHexInHexRS(r);return{r:new G(u.r,16),s:new G(u.s,16)}},g.crypto.ECDSA.parseSigHexInHexRS=function(r){var l=Ye.getChildIdx,h=Ye.getV;if(Ye.checkStrictDER(r,0),"30"!=r.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var p=l(r,0);if(2!=p.length)throw new Error("signature shall have two elements");var y=p[0],_=p[1];if("02"!=r.substr(y,2))throw new Error("1st item not ASN.1 integer");if("02"!=r.substr(_,2))throw new Error("2nd item not ASN.1 integer");return{r:h(r,y),s:h(r,_)}},g.crypto.ECDSA.asn1SigToConcatSig=function(r){var u=g.crypto.ECDSA.parseSigHexInHexRS(r),l=u.r,h=u.s;if(l.length>=130&&l.length<=134){if(l.length%2!=0)throw Error("unknown ECDSA sig r length error");if(h.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==l.substr(0,2)&&(l=l.substr(2)),"00"==h.substr(0,2)&&(h=h.substr(2));var p=Math.max(l.length,h.length);return(l=("000000"+l).slice(-p))+("000000"+h).slice(-p)}if("00"==l.substr(0,2)&&l.length%32==2&&(l=l.substr(2)),"00"==h.substr(0,2)&&h.length%32==2&&(h=h.substr(2)),l.length%32==30&&(l="00"+l),h.length%32==30&&(h="00"+h),l.length%32!=0)throw Error("unknown ECDSA sig r length error");if(h.length%32!=0)throw Error("unknown ECDSA sig s length error");return l+h},g.crypto.ECDSA.concatSigToASN1Sig=function(r){if(r.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var u=r.substr(0,r.length/2),l=r.substr(r.length/2);return g.crypto.ECDSA.hexRSSigToASN1Sig(u,l)},g.crypto.ECDSA.hexRSSigToASN1Sig=function(r,u){var l=new G(r,16),h=new G(u,16);return g.crypto.ECDSA.biRSSigToASN1Sig(l,h)},g.crypto.ECDSA.biRSSigToASN1Sig=function(r,u){var l=g.asn1,h=new l.DERInteger({bigint:r}),p=new l.DERInteger({bigint:u});return new l.DERSequence({array:[h,p]}).tohex()},g.crypto.ECDSA.getName=function(r){return"2b8104001f"===r?"secp192k1":"2a8648ce3d030107"===r?"secp256r1":"2b8104000a"===r?"secp256k1":"2b81040021"===r?"secp224r1":"2b81040022"===r?"secp384r1":"2b81040023"===r?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(r)?"secp256r1":-1!=="|secp256k1|".indexOf(r)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(r)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(r)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(r)?"secp521r1":null},(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.ECParameterDB=new function(){var r={},u={};function l(h){return new G(h,16)}this.getByName=function(h){var p=h;if(typeof u[p]<"u"&&(p=u[h]),typeof r[p]<"u")return r[p];throw"unregistered EC curve name: "+p},this.regist=function(h,p,y,_,w,A,M,B,k,b,S,O){r[h]={};var F=l(y),H=l(_),R=l(w),U=l(A),X=l(M),ne=new bn(F,H,R),ee=ne.decodePointHex("04"+B+k);r[h].name=h,r[h].keylen=p,r[h].keycharlen=2*Math.ceil(p/8),r[h].curve=ne,r[h].G=ee,r[h].n=U,r[h].h=X,r[h].oid=S,r[h].info=O;for(var Se=0;Se<b.length;Se++)u[b[Se]]=h}},g.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),g.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),g.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),g.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),g.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),g.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),g.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),g.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),g.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof g>"u"||!g)&&(g={}),(typeof g.crypto>"u"||!g.crypto)&&(g.crypto={}),g.crypto.DSA=function(){var l=Ye.getVbyListEx,h=Ye.isASN1HEX,p=G;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(y,_,w,A,M){this.isPrivate=!0,this.p=y,this.q=_,this.g=w,this.y=A,this.x=M},this.setPrivateHex=function(y,_,w,A,M){var B,k,b,S,O;B=new G(y,16),k=new G(_,16),b=new G(w,16),S="string"==typeof A&&A.length>1?new G(A,16):null,O=new G(M,16),this.setPrivate(B,k,b,S,O)},this.setPublic=function(y,_,w,A){this.isPublic=!0,this.p=y,this.q=_,this.g=w,this.y=A,this.x=null},this.setPublicHex=function(y,_,w,A){var M,B,k,b;M=new G(y,16),B=new G(_,16),k=new G(w,16),b=new G(A,16),this.setPublic(M,B,k,b)},this.signWithMessageHash=function(y){var _=this.p,w=this.q,A=this.g,B=this.x,k=g.crypto.Util.getRandomBigIntegerMinToMax(G.ONE.add(G.ONE),w.subtract(G.ONE)),S=new G(y.substr(0,w.bitLength()/4),16),O=A.modPow(k,_).mod(w),F=k.modInverse(w).multiply(S.add(B.multiply(O))).mod(w);return g.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:O}},{int:{bigint:F}}]})},this.verifyWithMessageHash=function(y,_){var w=this.p,A=this.q,M=this.g,B=this.y,k=this.parseASN1Signature(_),b=k[0],S=k[1],F=new G(y.substr(0,A.bitLength()/4),16);if(G.ZERO.compareTo(b)>0||b.compareTo(A)>0||G.ZERO.compareTo(S)>=0||S.compareTo(A)>0)throw"invalid DSA signature";var H=S.modInverse(A),R=F.multiply(H).mod(A),U=b.multiply(H).mod(A);return 0==M.modPow(R,w).multiply(B.modPow(U,w)).mod(w).mod(A).compareTo(b)},this.parseASN1Signature=function(y){try{return[new p(l(y,0,[0],"02"),16),new p(l(y,0,[1],"02"),16)]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(y){var _,w,A,M,B;if(!1===h(y))throw new Error("not ASN.1 hex string");try{_=l(y,0,[1],"02"),w=l(y,0,[2],"02"),A=l(y,0,[3],"02"),M=l(y,0,[4],"02"),B=l(y,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(_,w,A,M,B)},this.readPKCS8PrvKeyHex=function(y){var _,w,A,M;if(!1===h(y))throw new Error("not ASN.1 hex string");try{_=l(y,0,[1,1,0],"02"),w=l(y,0,[1,1,1],"02"),A=l(y,0,[1,1,2],"02"),M=l(y,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(_,w,A,null,M)},this.readPKCS8PubKeyHex=function(y){var _,w,A,M;if(!1===h(y))throw new Error("not ASN.1 hex string");try{_=l(y,0,[0,1,0],"02"),w=l(y,0,[0,1,1],"02"),A=l(y,0,[0,1,2],"02"),M=l(y,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(_,w,A,M)},this.readCertPubKeyHex=function(y,_){var w,A,M,B;if(!1===h(y))throw new Error("not ASN.1 hex string");try{w=l(y,0,[0,5,0,1,0],"02"),A=l(y,0,[0,5,0,1,1],"02"),M=l(y,0,[0,5,0,1,2],"02"),B=l(y,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(w,A,M,B)}};var $t=function(){var r=function(F,H,R){return h(j.AES,F,H,R)},h=function(F,H,R,U){var X=j.enc.Hex.parse(H),ne=j.enc.Hex.parse(R),ee=j.enc.Hex.parse(U),Se={};Se.key=ne,Se.iv=ee,Se.ciphertext=X;var $=F.decrypt(Se,ne,{iv:ee});return j.enc.Hex.stringify($)},p=function(F,H,R){return w(j.AES,F,H,R)},w=function(F,H,R,U){var X=j.enc.Hex.parse(H),ne=j.enc.Hex.parse(R),ee=j.enc.Hex.parse(U),Se=F.encrypt(X,ne,{iv:ee}),$=j.enc.Hex.parse(Se.toString());return j.enc.Base64.stringify($)},A={"AES-256-CBC":{proc:r,eproc:p,keylen:32,ivlen:16},"AES-192-CBC":{proc:r,eproc:p,keylen:24,ivlen:16},"AES-128-CBC":{proc:r,eproc:p,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(F,H,R){return h(j.TripleDES,F,H,R)},eproc:function(F,H,R){return w(j.TripleDES,F,H,R)},keylen:24,ivlen:8},"DES-CBC":{proc:function(F,H,R){return h(j.DES,F,H,R)},eproc:function(F,H,R){return w(j.DES,F,H,R)},keylen:8,ivlen:8}},k=function(F){var H={},R=F.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));R&&(H.cipher=R[1],H.ivsalt=R[2]);var U=F.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));U&&(H.type=U[1]);var X=-1,ne=0;-1!=F.indexOf("\r\n\r\n")&&(X=F.indexOf("\r\n\r\n"),ne=2),-1!=F.indexOf("\n\n")&&(X=F.indexOf("\n\n"),ne=1);var ee=F.indexOf("-----END");if(-1!=X&&-1!=ee){var Se=F.substring(X+2*ne,ee-ne);Se=Se.replace(/\s+/g,""),H.data=Se}return H},b=function(F,H,R){for(var U=R.substring(0,16),X=j.enc.Hex.parse(U),ne=j.enc.Utf8.parse(H),ee=A[F].keylen+A[F].ivlen,Se="",$=null;;){var W=j.algo.MD5.create();if(null!=$&&W.update($),W.update(ne),W.update(X),$=W.finalize(),(Se+=j.enc.Hex.stringify($)).length>=2*ee)break}var Z={};return Z.keyhex=Se.substr(0,2*A[F].keylen),Z.ivhex=Se.substr(2*A[F].keylen,2*A[F].ivlen),Z},S=function(F,H,R,U){var X=j.enc.Base64.parse(F),ne=j.enc.Hex.stringify(X);return(0,A[H].proc)(ne,R,U)};return{version:"1.0.0",parsePKCS5PEM:function(F){return k(F)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(F,H,R){return b(F,H,R)},decryptKeyB64:function(F,H,R,U){return S(F,H,R,U)},getDecryptedKeyHex:function(F,H){var R=k(F),X=R.cipher,ne=R.ivsalt,ee=R.data,Se=b(X,H,ne);return S(ee,X,Se.keyhex,ne)},getEncryptedPKCS5PEMFromPrvKeyHex:function(F,H,R,U,X){var se="";if((typeof U>"u"||null==U)&&(U="AES-256-CBC"),typeof A[U]>"u")throw new Error("KEYUTIL unsupported algorithm: "+U);if(typeof X>"u"||null==X){var ee=function(F){var H=j.lib.WordArray.random(F);return j.enc.Hex.stringify(H)}(A[U].ivlen);X=ee.toUpperCase()}var W=function(F,H,R,U){return(0,A[H].eproc)(F,R,U)}(H,U,b(U,R,X).keyhex,X);return se="-----BEGIN "+F+" PRIVATE KEY-----\r\n",se+="Proc-Type: 4,ENCRYPTED\r\n",se+="DEK-Info: "+U+","+X+"\r\n",se+="\r\n",(se+=W.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+F+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(F){var R=Ye.getChildIdx,U=Ye.getV,X={},ne=R(F,0);if(2!=ne.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ne.length);X.ciphertext=U(F,ne[1]);var ee=R(F,ne[0]);if(2!=ee.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+ee.length);if("2a864886f70d01050d"!=U(F,ee[0]))throw new Error("this only supports pkcs5PBES2");var Se=R(F,ee[1]);if(2!=ee.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+Se.length);var $=R(F,Se[1]);if(2!=$.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+$.length);if("2a864886f70d0307"!=U(F,$[0]))throw"this only supports TripleDES";X.encryptionSchemeAlg="TripleDES",X.encryptionSchemeIV=U(F,$[1]);var W=R(F,Se[0]);if(2!=W.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+W.length);if("2a864886f70d01050c"!=U(F,W[0]))throw new Error("this only supports pkcs5PBKDF2");var Z=R(F,W[1]);if(Z.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Z.length);X.pbkdf2Salt=U(F,Z[0]);var se=U(F,Z[1]);try{X.pbkdf2Iter=parseInt(se,16)}catch{throw new Error("malformed format pbkdf2Iter: "+se)}return X},getPBKDF2KeyHexFromParam:function(F,H){var R=j.enc.Hex.parse(F.pbkdf2Salt),X=j.PBKDF2(H,R,{keySize:6,iterations:F.pbkdf2Iter});return j.enc.Hex.stringify(X)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(F,H){var R=cn(F,"ENCRYPTED PRIVATE KEY"),U=this.parseHexOfEncryptedPKCS8(R),X=$t.getPBKDF2KeyHexFromParam(U,H),ne={};ne.ciphertext=j.enc.Hex.parse(U.ciphertext);var ee=j.enc.Hex.parse(X),Se=j.enc.Hex.parse(U.encryptionSchemeIV),$=j.TripleDES.decrypt(ne,ee,{iv:Se});return j.enc.Hex.stringify($)},getKeyFromEncryptedPKCS8PEM:function(F,H){var R=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(F,H);return this.getKeyFromPlainPrivatePKCS8Hex(R)},parsePlainPrivatePKCS8Hex:function(F){var H=Ye,R=H.getChildIdx,U=H.getV,X={algparam:null};if("30"!=F.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var ne=R(F,0);if(ne.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=F.substr(ne[1],2))throw new Error("malformed PKCS8 private key(code:003)");var ee=R(F,ne[1]);if(2!=ee.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=F.substr(ee[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(X.algoid=U(F,ee[0]),"06"==F.substr(ee[1],2)&&(X.algparam=U(F,ee[1])),"04"!=F.substr(ne[2],2))throw new Error("malformed PKCS8 private key(code:006)");return X.keyidx=H.getVidx(F,ne[2]),X},getKeyFromPlainPrivatePKCS8PEM:function(F){var H=cn(F,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(H)},getKeyFromPlainPrivatePKCS8Hex:function(F){var R,H=this.parsePlainPrivatePKCS8Hex(F);if("2a864886f70d010101"==H.algoid)R=new mt;else if("2a8648ce380401"==H.algoid)R=new g.crypto.DSA;else{if("2a8648ce3d0201"!=H.algoid)throw new Error("unsupported private key algorithm");R=new g.crypto.ECDSA}return R.readPKCS8PrvKeyHex(F),R},_getKeyFromPublicPKCS8Hex:function(F){var H,R=Ye.getVbyList(F,0,[0,0],"06");if("2a864886f70d010101"===R)H=new mt;else if("2a8648ce380401"===R)H=new g.crypto.DSA;else{if("2a8648ce3d0201"!==R)throw new Error("unsupported PKCS#8 public key hex");H=new g.crypto.ECDSA}return H.readPKCS8PubKeyHex(F),H},parsePublicRawRSAKeyHex:function(F){var R=Ye.getChildIdx,U=Ye.getV,X={};if("30"!=F.substr(0,2))throw new Error("malformed RSA key(code:001)");var ne=R(F,0);if(2!=ne.length)throw new Error("malformed RSA key(code:002)");if("02"!=F.substr(ne[0],2))throw new Error("malformed RSA key(code:003)");if(X.n=U(F,ne[0]),"02"!=F.substr(ne[1],2))throw new Error("malformed RSA key(code:004)");return X.e=U(F,ne[1]),X},parsePublicPKCS8Hex:function(F){var H=Ye,R=H.getChildIdx,U=H.getV,X={algparam:null},ne=R(F,0);if(2!=ne.length)throw new Error("outer DERSequence shall have 2 elements: "+ne.length);var ee=ne[0];if("30"!=F.substr(ee,2))throw new Error("malformed PKCS8 public key(code:001)");var Se=R(F,ee);if(2!=Se.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=F.substr(Se[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(X.algoid=U(F,Se[0]),"06"==F.substr(Se[1],2)?X.algparam=U(F,Se[1]):"30"==F.substr(Se[1],2)&&(X.algparam={},X.algparam.p=H.getVbyList(F,Se[1],[0],"02"),X.algparam.q=H.getVbyList(F,Se[1],[1],"02"),X.algparam.g=H.getVbyList(F,Se[1],[2],"02")),"03"!=F.substr(ne[1],2))throw new Error("malformed PKCS8 public key(code:004)");return X.key=U(F,ne[1]).substr(2),X}}}();function zu(r,u){for(var l="",h=u/4-r.length,p=0;p<h;p++)l+="0";return l+r}function ru(r,u,l){for(var h="",p=0;h.length<u;)h+=pn(l(Mn(r+String.fromCharCode.apply(String,[(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p])))),p+=1;return h}function ta(r){for(var u in g.crypto.Util.DIGESTINFOHEAD){var l=g.crypto.Util.DIGESTINFOHEAD[u],h=l.length;if(r.substring(0,h)==l)return[u,r.substring(h)]}return[]}function xt(r){var X,u=Ye,l=u.getChildIdx,h=u.getV,y=u.parse,_=u.getTLV,w=u.getVbyList,A=u.getVbyListEx,M=u.getTLVbyList,B=u.getTLVbyListEx,k=u.getIdxbyList,b=u.getIdxbyListEx,S=u.getVidx,O=u.getInt,F=u.oidname,H=u.hextooidstr,U=cn;try{X=g.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var $=M(this.hex,0,[0,0]);if("a0"==$.substr(0,2)){var W=M($,0,[0]),Z=O(W,0);if(Z<0||2<Z)throw new Error("malformed version field");return this.version=Z+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return A(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var $=B(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName($)},this.getAlgorithmIdentifierName=function($){for(var W in X)if($===X[W])return W;return F(A($,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return M(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return M(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var $=w(this.hex,0,[0,4+this.foffset,0]);return $=$.replace(/(..)/g,"%$1"),decodeURIComponent($)},this.getNotAfter=function(){var $=w(this.hex,0,[0,4+this.foffset,1]);return $=$.replace(/(..)/g,"%$1"),decodeURIComponent($)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return M(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var $=this.getSPKI();return null==$?null:w($,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return k(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var $=this.getPublicKeyIdx();return k(this.hex,$,[1,0],"30")},this.getPublicKey=function(){return $t.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var $=M(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName($)},this.getSignatureValueHex=function(){return w(this.hex,0,[2],"03",!0)},this.verifySignature=function($){var W=this.getSignatureAlgorithmField(),Z=this.getSignatureValueHex(),se=M(this.hex,0,[0],"30"),me=new g.crypto.Signature({alg:W});return me.init($),me.updateHex(se),me.verify(Z)},this.parseExt=function($){var W,Z,se;if(void 0===$){if(3!==this.version)return-1;W=k(se=this.hex,0,[0,7,0],"30"),Z=l(se,W)}else{se=cn($);var me=k(se,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=h(se,me))return void(this.aExtInfo=new Array);W=k(se,0,[0,3,0,1,0],"30"),Z=l(se,W),this.hex=se}this.aExtInfo=new Array;for(var we=0;we<Z.length;we++){var $e={critical:!1},Ie=0;3===l(se,Z[we]).length&&($e.critical=!0,Ie=1),$e.oid=u.hextooidstr(w(se,Z[we],[0],"06"));var De=k(se,Z[we],[1+Ie]);$e.vidx=S(se,De),this.aExtInfo.push($e)}},this.getExtInfo=function($){var W=this.aExtInfo,Z=$;if($.match(/^[0-9.]+$/)||(Z=g.asn1.x509.OID.name2oid($)),""!==Z)for(var se=0;se<W.length;se++)if(W[se].oid===Z)return W[se]},this.getExtBasicConstraints=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("basicConstraints");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"basicConstraints"};if(W&&(se.critical=!0),"3000"===$)return se;if("30030101ff"===$)return se.cA=!0,se;if("30060101ff02"===$.substr(0,12)){var me=h($,10),we=parseInt(me,16);return se.cA=!0,se.pathLen=we,se}throw new Error("hExtV parse error: "+$)},this.getExtNameConstraints=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("nameConstraints");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"nameConstraints"};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++){for(var $e=[],ge=l($,me[we]),Ie=0;Ie<ge.length;Ie++){var De=_($,ge[Ie]),Me=this.getGeneralSubtree(De);$e.push(Me)}var Ct=$.substr(me[we],2);"a0"==Ct?se.permit=$e:"a1"==Ct&&(se.exclude=$e)}return se},this.getGeneralSubtree=function($){var W=l($,0),Z=W.length;if(Z<1||2<Z)throw new Error("wrong num elements");for(var se=this.getGeneralName(_($,W[0])),me=1;me<Z;me++){var we=$.substr(W[me],2),$e=h($,W[me]),ge=parseInt($e,16);"80"==we&&(se.min=ge),"81"==we&&(se.max=ge)}return se},this.getExtKeyUsage=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("keyUsage");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"keyUsage"};return W&&(se.critical=!0),se.names=this.getExtKeyUsageString($).split(","),se},this.getExtKeyUsageBin=function($){if(void 0===$){var W=this.getExtInfo("keyUsage");if(void 0===W)return"";$=_(this.hex,W.vidx)}if(8!=$.length&&10!=$.length)throw new Error("malformed key usage value: "+$);var Z="000000000000000"+parseInt($.substr(6),16).toString(2);return 8==$.length&&(Z=Z.slice(-8)),10==$.length&&(Z=Z.slice(-16)),""==(Z=Z.replace(/0+$/,""))&&(Z="0"),Z},this.getExtKeyUsageString=function($){for(var W=this.getExtKeyUsageBin($),Z=new Array,se=0;se<W.length;se++)"1"==W.substr(se,1)&&Z.push(xt.KEYUSAGE_NAME[se]);return Z.join(",")},this.getExtSubjectKeyIdentifier=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("subjectKeyIdentifier");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"subjectKeyIdentifier"};W&&(se.critical=!0);var me=h($,0);return se.kid={hex:me},se},this.getExtAuthorityKeyIdentifier=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("authorityKeyIdentifier");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"authorityKeyIdentifier"};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++){var $e=$.substr(me[we],2);if("80"===$e&&(se.kid={hex:h($,me[we])}),"a1"===$e){var ge=_($,me[we]),Ie=this.getGeneralNames(ge);se.issuer=Ie[0].dn}"82"===$e&&(se.sn={hex:h($,me[we])})}return se},this.getExtExtKeyUsage=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("extKeyUsage");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"extKeyUsage",array:[]};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++)se.array.push(F(h($,me[we])));return se},this.getExtExtKeyUsageName=function(){var $=this.getExtInfo("extKeyUsage");if(void 0===$)return $;var W=new Array,Z=_(this.hex,$.vidx);if(""===Z)return W;for(var se=l(Z,0),me=0;me<se.length;me++)W.push(F(h(Z,se[me])));return W},this.getExtSubjectAltName=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("subjectAltName");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"subjectAltName",array:[]};return W&&(se.critical=!0),se.array=this.getGeneralNames($),se},this.getExtIssuerAltName=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("issuerAltName");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"issuerAltName",array:[]};return W&&(se.critical=!0),se.array=this.getGeneralNames($),se},this.getGeneralNames=function($){for(var W=l($,0),Z=[],se=0;se<W.length;se++){var me=this.getGeneralName(_($,W[se]));void 0!==me&&Z.push(me)}return Z},this.getGeneralName=function($){var W=$.substr(0,2),Z=h($,0),se=pn(Z);return"81"==W?{rfc822:se}:"82"==W?{dns:se}:"86"==W?{uri:se}:"87"==W?{ip:Oe(Z)}:"a4"==W?{dn:this.getX500Name(Z)}:"a0"==W?{other:this.getOtherName($)}:void 0},this.getExtSubjectAltName2=function(){var $,W,Z,se=this.getExtInfo("subjectAltName");if(void 0===se)return se;for(var me=new Array,we=_(this.hex,se.vidx),$e=l(we,0),ge=0;ge<$e.length;ge++)Z=we.substr($e[ge],2),$=h(we,$e[ge]),"81"===Z&&(W=Xt($),me.push(["MAIL",W])),"82"===Z&&(W=Xt($),me.push(["DNS",W])),"84"===Z&&(W=xt.hex2dn($,0),me.push(["DN",W])),"86"===Z&&(W=Xt($),me.push(["URI",W])),"87"===Z&&(W=Oe($),me.push(["IP",W]));return me},this.getExtCRLDistributionPoints=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("cRLDistributionPoints");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"cRLDistributionPoints",array:[]};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++){var $e=_($,me[we]);se.array.push(this.getDistributionPoint($e))}return se},this.getDistributionPoint=function($){for(var W={},Z=l($,0),se=0;se<Z.length;se++){var me=$.substr(Z[se],2),we=_($,Z[se]);"a0"==me&&(W.dpname=this.getDistributionPointName(we))}return W},this.getDistributionPointName=function($){for(var W={},Z=l($,0),se=0;se<Z.length;se++){var me=$.substr(Z[se],2),we=_($,Z[se]);"a0"==me&&(W.full=this.getGeneralNames(we))}return W},this.getExtCRLDistributionPointsURI=function(){var $=this.getExtCRLDistributionPoints();if(null==$)return $;for(var W=$.array,Z=[],se=0;se<W.length;se++)try{null!=W[se].dpname.full[0].uri&&Z.push(W[se].dpname.full[0].uri)}catch{}return Z},this.getExtAIAInfo=function(){var $=this.getExtInfo("authorityInfoAccess");if(void 0===$)return $;for(var W={ocsp:[],caissuer:[]},Z=l(this.hex,$.vidx),se=0;se<Z.length;se++){var me=w(this.hex,Z[se],[0],"06"),we=w(this.hex,Z[se],[1],"86");"2b06010505073001"===me&&W.ocsp.push(Xt(we)),"2b06010505073002"===me&&W.caissuer.push(Xt(we))}return W},this.getExtAuthorityInfoAccess=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("authorityInfoAccess");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"authorityInfoAccess",array:[]};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++){var $e=A($,me[we],[0],"06"),Ie=Xt(w($,me[we],[1],"86"));if("2b06010505073001"==$e)se.array.push({ocsp:Ie});else{if("2b06010505073002"!=$e)throw new Error("unknown method: "+$e);se.array.push({caissuer:Ie})}}return se},this.getExtCertificatePolicies=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("certificatePolicies");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"certificatePolicies",array:[]};W&&(se.critical=!0);for(var me=l($,0),we=0;we<me.length;we++){var $e=_($,me[we]),ge=this.getPolicyInformation($e);se.array.push(ge)}return se},this.getPolicyInformation=function($){var W={},Z=w($,0,[0],"06");W.policyoid=F(Z);var se=b($,0,[1],"30");if(-1!=se){W.array=[];for(var me=l($,se),we=0;we<me.length;we++){var $e=_($,me[we]),ge=this.getPolicyQualifierInfo($e);W.array.push(ge)}}return W},this.getOtherName=function($){var W={},Z=l($,0),se=w($,Z[0],[],"06"),me=w($,Z[1],[]);return W.oid=g.asn1.ASN1Util.oidHexToInt(se),W.obj=y(me),W},this.getPolicyQualifierInfo=function($){var W={},Z=w($,0,[0],"06");if("2b06010505070201"===Z){var se=A($,0,[1],"16");W.cps=pn(se)}else if("2b06010505070202"===Z){var me=M($,0,[1],"30");W.unotice=this.getUserNotice(me)}return W},this.getUserNotice=function($){for(var W={},Z=l($,0),se=0;se<Z.length;se++){var me=_($,Z[se]);"30"!=me.substr(0,2)&&(W.exptext=this.getDisplayText(me))}return W},this.getDisplayText=function($){var Z={};return Z.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[$.substr(0,2)],Z.str=pn(h($,0)),Z},this.getExtCRLNumber=function($,W){var Z={extname:"cRLNumber"};if(W&&(Z.critical=!0),"02"==$.substr(0,2))return Z.num={hex:h($,0)},Z;throw new Error("hExtV parse error: "+$)},this.getExtCRLReason=function($,W){var Z={extname:"cRLReason"};if(W&&(Z.critical=!0),"0a"==$.substr(0,2))return Z.code=parseInt(h($,0),16),Z;throw new Error("hExtV parse error: "+$)},this.getExtOcspNonce=function($,W){var Z={extname:"ocspNonce"};W&&(Z.critical=!0);var se=h($,0);return Z.hex=se,Z},this.getExtOcspNoCheck=function($,W){var Z={extname:"ocspNoCheck"};return W&&(Z.critical=!0),Z},this.getExtAdobeTimeStamp=function($,W){if(void 0===$&&void 0===W){var Z=this.getExtInfo("adobeTimeStamp");if(void 0===Z)return;$=_(this.hex,Z.vidx),W=Z.critical}var se={extname:"adobeTimeStamp"};W&&(se.critical=!0);var me=l($,0);if(me.length>1){var we=_($,me[1]),$e=this.getGeneralName(we);null!=$e.uri&&(se.uri=$e.uri)}if(me.length>2){var ge=_($,me[2]);"0101ff"==ge&&(se.reqauth=!0),"010100"==ge&&(se.reqauth=!1)}return se};var ne=function($){var W={};try{var se=g.asn1.x509.OID.name2oid($.seq[0].oid);W.type=g.asn1.x509.OID.oid2atype(se);var me=$.seq[1];if(null!=me.utf8str)W.ds="utf8",W.value=me.utf8str.str;else if(null!=me.numstr)W.ds="num",W.value=me.numstr.str;else if(null!=me.telstr)W.ds="tel",W.value=me.telstr.str;else if(null!=me.prnstr)W.ds="prn",W.value=me.prnstr.str;else if(null!=me.ia5str)W.ds="ia5",W.value=me.ia5str.str;else if(null!=me.visstr)W.ds="vis",W.value=me.visstr.str;else{if(null==me.bmpstr)throw"error";W.ds="bmp",W.value=me.bmpstr.str}return W}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},ee=function($){try{return $.set.map(function(W){return ne(W)})}catch(W){throw new Error("improper ASN.1 parsed RDN: "+W)}};this.getX500NameRule=function($){for(var $e=null,ge=[],Ie=0;Ie<$.length;Ie++)for(var De=$[Ie],Me=0;Me<De.length;Me++)ge.push(De[Me]);for(Ie=0;Ie<ge.length;Ie++){var Ct=ge[Ie],ft=Ct.ds,Pt=Ct.type;if("prn"!=ft&&"utf8"!=ft&&"ia5"!=ft)return"mixed";if("ia5"==ft){if("CN"!=Pt)return"mixed";if(g.lang.String.isMail(Ct.value))continue;return"mixed"}if("C"==Pt){if("prn"==ft)continue;return"mixed"}if(null==$e)$e=ft;else if($e!==ft)return"mixed"}return $e??"prn"},this.getAttrTypeAndValue=function($){var W=y($);return ne(W)},this.getRDN=function($){var W=y($);return ee(W)},this.getX500NameArray=function($){return function($){try{return $.seq.map(function(W){return ee(W)})}catch(W){throw new Error("improper ASN.1 parsed X500Name: "+W)}}(y($))},this.getX500Name=function($){var W=this.getX500NameArray($);return{array:W,str:this.dnarraytostr(W)}},this.readCertPEM=function($){this.readCertHex(U($))},this.readCertHex=function($){this.hex=$,this.getVersion();try{k(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function($){var W={};return W.version=this.getVersion(),W.serial={hex:this.getSerialNumberHex()},W.sigalg=this.getSignatureAlgorithmField(),W.issuer=this.getIssuer(),W.notbefore=this.getNotBefore(),W.notafter=this.getNotAfter(),W.subject=this.getSubject(),W.sbjpubkey=Hn(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(W.ext=this.getExtParamArray()),W.sighex=this.getSignatureValueHex(),"object"==typeof $&&(1==$.tbshex&&(W.tbshex=M(this.hex,0,[0])),1==$.nodnarray&&(delete W.issuer.array,delete W.subject.array)),W},this.getExtParamArray=function($){null==$&&-1!=b(this.hex,0,[0,"[3]"])&&($=B(this.hex,0,[0,"[3]",0],"30"));for(var Z=[],se=l($,0),me=0;me<se.length;me++){var we=_($,se[me]),$e=this.getExtParam(we);null!=$e&&Z.push($e)}return Z},this.getExtParam=function($){var se=l($,0).length;if(2!=se&&3!=se)throw new Error("wrong number elements in Extension: "+se+" "+$);var me=H(w($,0,[0],"06")),we=!1;3==se&&"0101ff"==M($,0,[1])&&(we=!0);var $e=M($,0,[se-1,0]),ge=void 0;if("2.5.29.14"==me?ge=this.getExtSubjectKeyIdentifier($e,we):"2.5.29.15"==me?ge=this.getExtKeyUsage($e,we):"2.5.29.17"==me?ge=this.getExtSubjectAltName($e,we):"2.5.29.18"==me?ge=this.getExtIssuerAltName($e,we):"2.5.29.19"==me?ge=this.getExtBasicConstraints($e,we):"2.5.29.30"==me?ge=this.getExtNameConstraints($e,we):"2.5.29.31"==me?ge=this.getExtCRLDistributionPoints($e,we):"2.5.29.32"==me?ge=this.getExtCertificatePolicies($e,we):"2.5.29.35"==me?ge=this.getExtAuthorityKeyIdentifier($e,we):"2.5.29.37"==me?ge=this.getExtExtKeyUsage($e,we):"1.3.6.1.5.5.7.1.1"==me?ge=this.getExtAuthorityInfoAccess($e,we):"2.5.29.20"==me?ge=this.getExtCRLNumber($e,we):"2.5.29.21"==me?ge=this.getExtCRLReason($e,we):"1.3.6.1.5.5.7.48.1.2"==me?ge=this.getExtOcspNonce($e,we):"1.3.6.1.5.5.7.48.1.5"==me?ge=this.getExtOcspNoCheck($e,we):"1.2.840.113583.1.1.9.1"==me&&(ge=this.getExtAdobeTimeStamp($e,we)),null!=ge)return ge;var Ie={extname:me,extn:$e};return we&&(Ie.critical=!0),Ie},this.findExt=function($,W){for(var Z=0;Z<$.length;Z++)if($[Z].extname==W)return $[Z];return null},this.updateExtCDPFullURI=function($,W){var Z=this.findExt($,"cRLDistributionPoints");if(null!=Z&&null!=Z.array)for(var se=Z.array,me=0;me<se.length;me++)if(null!=se[me].dpname&&null!=se[me].dpname.full)for(var we=se[me].dpname.full,$e=0;$e<we.length;$e++){var ge=we[me];null!=ge.uri&&(ge.uri=W)}},this.updateExtAIAOCSP=function($,W){var Z=this.findExt($,"authorityInfoAccess");if(null!=Z&&null!=Z.array)for(var se=Z.array,me=0;me<se.length;me++)null!=se[me].ocsp&&(se[me].ocsp=W)},this.updateExtAIACAIssuer=function($,W){var Z=this.findExt($,"authorityInfoAccess");if(null!=Z&&null!=Z.array)for(var se=Z.array,me=0;me<se.length;me++)null!=se[me].caissuer&&(se[me].caissuer=W)},this.dnarraytostr=function($){return"/"+$.map(function(se){return function W(se){return se.map(function(me){return function Z(se){return se.type+"="+se.value}(me).replace(/\+/,"\\+")}).join("+")}(se).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var we,$e,ge,dn,W=function(dn){for(var _n="",An=dn.array,St=0;St<An.length;St++){var Zn=An[St];if(_n+="    policy oid: "+Zn.policyoid+"\n",void 0!==Zn.array)for(var di=0;di<Zn.array.length;di++){var us=Zn.array[di];void 0!==us.cps&&(_n+="    cps: "+us.cps+"\n")}}return _n},Z=function(dn){for(var _n="",An=dn.array,St=0;St<An.length;St++){var Zn=An[St];try{void 0!==Zn.dpname.full[0].uri&&(_n+="    "+Zn.dpname.full[0].uri+"\n")}catch{}try{void 0!==Zn.dname.full[0].dn.hex&&(_n+="    "+xt.hex2dn(Zn.dpname.full[0].dn.hex)+"\n")}catch{}}return _n},se=function(dn){for(var _n="",An=dn.array,St=0;St<An.length;St++){var Zn=An[St];void 0!==Zn.caissuer&&(_n+="    caissuer: "+Zn.caissuer+"\n"),void 0!==Zn.ocsp&&(_n+="    ocsp: "+Zn.ocsp+"\n")}return _n};if(we="Basic Fields\n",we+="  serial number: "+this.getSerialNumberHex()+"\n",we+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",we+="  issuer: "+this.getIssuerString()+"\n",we+="  notBefore: "+this.getNotBefore()+"\n",we+="  notAfter: "+this.getNotAfter()+"\n",we+="  subject: "+this.getSubjectString()+"\n",we+="  subject public key info: \n",we+="    key algorithm: "+($e=this.getPublicKey()).type+"\n","RSA"===$e.type&&(we+="    n="+Lr($e.n.toString(16)).substr(0,16)+"...\n",we+="    e="+Lr($e.e.toString(16))+"\n"),null!=(ge=this.aExtInfo)){we+="X509v3 Extensions:\n";for(var Ie=0;Ie<ge.length;Ie++){var De=ge[Ie],Me=g.asn1.x509.OID.oid2name(De.oid);""===Me&&(Me=De.oid);var Ct="";if(!0===De.critical&&(Ct="CRITICAL"),we+="  "+Me+" "+Ct+":\n","basicConstraints"===Me){var ft=this.getExtBasicConstraints();void 0===ft.cA?we+="    {}\n":(we+="    cA=true",void 0!==ft.pathLen&&(we+=", pathLen="+ft.pathLen),we+="\n")}else if("keyUsage"===Me)we+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Me)we+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Me){var _t=this.getExtAuthorityKeyIdentifier();void 0!==_t.kid&&(we+="    kid="+_t.kid.hex+"\n")}else"extKeyUsage"===Me?we+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Me?we+="    "+(dn=this.getExtSubjectAltName(),JSON.stringify(dn.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===Me?we+=Z(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Me?we+=se(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Me&&(we+=W(this.getExtCertificatePolicies()))}}return(we+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof r&&(-1!=r.indexOf("-----BEGIN")?this.readCertPEM(r):g.lang.String.isHex(r)&&this.readCertHex(r))}$t.getKey=function(r,u,l){var W,p=(h=Ye).getChildIdx,_=h.getVbyList,w=g.crypto,A=w.ECDSA,M=w.DSA,B=mt,k=cn,b=$t;if(typeof B<"u"&&r instanceof B||typeof A<"u"&&r instanceof A||typeof M<"u"&&r instanceof M)return r;if(void 0!==r.curve&&void 0!==r.xy&&void 0===r.d)return new A({pub:r.xy,curve:r.curve});if(void 0!==r.curve&&void 0!==r.d)return new A({prv:r.d,curve:r.curve});if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(S=new B).setPublic(r.n,r.e),S;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.co&&void 0===r.qi)return(S=new B).setPrivateEx(r.n,r.e,r.d,r.p,r.q,r.dp,r.dq,r.co),S;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0===r.p)return(S=new B).setPrivate(r.n,r.e,r.d),S;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0===r.x)return(S=new M).setPublic(r.p,r.q,r.g,r.y),S;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0!==r.x)return(S=new M).setPrivate(r.p,r.q,r.g,r.y,r.x),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(S=new B).setPublic(Jt(r.n),Jt(r.e)),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.qi)return(S=new B).setPrivateEx(Jt(r.n),Jt(r.e),Jt(r.d),Jt(r.p),Jt(r.q),Jt(r.dp),Jt(r.dq),Jt(r.qi)),S;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d)return(S=new B).setPrivate(Jt(r.n),Jt(r.e),Jt(r.d)),S;if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0===r.d){var F=(O=new A({curve:r.crv})).ecparams.keycharlen,H=("0000000000"+Jt(r.x)).slice(-F),R=("0000000000"+Jt(r.y)).slice(-F);return O.setPublicKeyHex(U="04"+H+R),O}if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0!==r.d){F=(O=new A({curve:r.crv})).ecparams.keycharlen;var U="04"+(H=("0000000000"+Jt(r.x)).slice(-F))+(R=("0000000000"+Jt(r.y)).slice(-F)),X=("0000000000"+Jt(r.d)).slice(-F);return O.setPublicKeyHex(U),O.setPrivateKeyHex(X),O}if("pkcs5prv"===l){var ee,ne=r,h=Ye;if(9===(ee=p(ne,0)).length)(S=new B).readPKCS5PrvKeyHex(ne);else if(6===ee.length)(S=new M).readPKCS5PrvKeyHex(ne);else{if(!(ee.length>2&&"04"===ne.substr(ee[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(S=new A).readPKCS5PrvKeyHex(ne)}return S}if("pkcs8prv"===l)return b.getKeyFromPlainPrivatePKCS8Hex(r);if("pkcs8pub"===l)return b._getKeyFromPublicPKCS8Hex(r);if("x509pub"===l)return xt.getPublicKeyFromCertHex(r);if(-1!=r.indexOf("-END CERTIFICATE-",0)||-1!=r.indexOf("-END X509 CERTIFICATE-",0)||-1!=r.indexOf("-END TRUSTED CERTIFICATE-",0))return xt.getPublicKeyFromCertPEM(r);if(-1!=r.indexOf("-END PUBLIC KEY-")){var Se=cn(r,"PUBLIC KEY");return b._getKeyFromPublicPKCS8Hex(Se)}if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var $=k(r,"RSA PRIVATE KEY");return b.getKey($,null,"pkcs5prv")}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var Z=_(W=k(r,"DSA PRIVATE KEY"),0,[1],"02"),se=_(W,0,[2],"02"),me=_(W,0,[3],"02"),we=_(W,0,[4],"02"),$e=_(W,0,[5],"02");return(S=new M).setPrivate(new G(Z,16),new G(se,16),new G(me,16),new G(we,16),new G($e,16)),S}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED"))return $=k(r,"EC PRIVATE KEY"),b.getKey($,null,"pkcs5prv");if(-1!=r.indexOf("-END PRIVATE KEY-"))return b.getKeyFromPlainPrivatePKCS8PEM(r);if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var ge=b.getDecryptedKeyHex(r,u),Ie=new mt;return Ie.readPKCS5PrvKeyHex(ge),Ie}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var O,S=_(W=b.getDecryptedKeyHex(r,u),0,[1],"04"),De=_(W,0,[2,0],"06"),Me=_(W,0,[3,0],"03").substr(2);if(void 0===g.crypto.OID.oidhex2name[De])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+De);return(O=new A({curve:g.crypto.OID.oidhex2name[De]})).setPublicKeyHex(Me),O.setPrivateKeyHex(S),O.isPublic=!1,O}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED"))return Z=_(W=b.getDecryptedKeyHex(r,u),0,[1],"02"),se=_(W,0,[2],"02"),me=_(W,0,[3],"02"),we=_(W,0,[4],"02"),$e=_(W,0,[5],"02"),(S=new M).setPrivate(new G(Z,16),new G(se,16),new G(me,16),new G(we,16),new G($e,16)),S;if(-1!=r.indexOf("-END ENCRYPTED PRIVATE KEY-"))return b.getKeyFromEncryptedPKCS8PEM(r,u);throw new Error("not supported argument")},$t.generateKeypair=function(r,u){if("RSA"==r){var l=u;(h=new mt).generate(l,"10001"),h.isPrivate=!0,h.isPublic=!0;var p=new mt,y=h.n.toString(16),_=h.e.toString(16);return p.setPublic(y,_),p.isPrivate=!1,p.isPublic=!0,(w={}).prvKeyObj=h,w.pubKeyObj=p,w}if("EC"==r){var h,w,A=u,B=new g.crypto.ECDSA({curve:A}).generateKeyPairHex();return(h=new g.crypto.ECDSA({curve:A})).setPublicKeyHex(B.ecpubhex),h.setPrivateKeyHex(B.ecprvhex),h.isPrivate=!0,h.isPublic=!1,(p=new g.crypto.ECDSA({curve:A})).setPublicKeyHex(B.ecpubhex),p.isPrivate=!1,p.isPublic=!0,(w={}).prvKeyObj=h,w.pubKeyObj=p,w}throw new Error("unknown algorithm: "+r)},$t.getPEM=function(r,u,l,h,p,y){var w=g.asn1,A=w.DERObjectIdentifier,M=w.DERInteger,B=w.ASN1Util.newObject,S=g.crypto,O=S.DSA,F=S.ECDSA,H=mt;function R(De){return B({seq:[{int:0},{int:{bigint:De.n}},{int:De.e},{int:{bigint:De.d}},{int:{bigint:De.p}},{int:{bigint:De.q}},{int:{bigint:De.dmp1}},{int:{bigint:De.dmq1}},{int:{bigint:De.coeff}}]})}function U(De){return B({seq:[{int:1},{octstr:{hex:De.prvKeyHex}},{tag:["a0",!0,{oid:{name:De.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+De.pubKeyHex}}]}]})}function X(De){return B({seq:[{int:0},{int:{bigint:De.p}},{int:{bigint:De.q}},{int:{bigint:De.g}},{int:{bigint:De.y}},{int:{bigint:De.x}}]})}if((void 0!==H&&r instanceof H||void 0!==O&&r instanceof O||void 0!==F&&r instanceof F)&&1==r.isPublic&&(void 0===u||"PKCS8PUB"==u))return Hn(ee=new(0,w.x509.SubjectPublicKeyInfo)(r).tohex(),"PUBLIC KEY");if("PKCS1PRV"==u&&void 0!==H&&r instanceof H&&(void 0===l||null==l)&&1==r.isPrivate)return Hn(ee=R(r).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==u&&void 0!==F&&r instanceof F&&(void 0===l||null==l)&&1==r.isPrivate){var $=new A({name:r.curveName}).tohex(),Z=U(r).tohex(),se="";return(se+=Hn($,"EC PARAMETERS"))+Hn(Z,"EC PRIVATE KEY")}if("PKCS1PRV"==u&&void 0!==O&&r instanceof O&&(void 0===l||null==l)&&1==r.isPrivate)return Hn(ee=X(r).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==u&&void 0!==H&&r instanceof H&&void 0!==l&&null!=l&&1==r.isPrivate){var ee=R(r).tohex();return void 0===h&&(h="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",ee,l,h,y)}if("PKCS5PRV"==u&&void 0!==F&&r instanceof F&&void 0!==l&&null!=l&&1==r.isPrivate)return ee=U(r).tohex(),void 0===h&&(h="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",ee,l,h,y);if("PKCS5PRV"==u&&void 0!==O&&r instanceof O&&void 0!==l&&null!=l&&1==r.isPrivate)return ee=X(r).tohex(),void 0===h&&(h="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",ee,l,h,y);var me=function(De,Me){var Ct=we(De,Me);return new B({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Ct.pbkdf2Salt}},{int:Ct.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Ct.encryptionSchemeIV}}]}]}]},{octstr:{hex:Ct.ciphertext}}]}).tohex()},we=function(De,Me){var ft=j.lib.WordArray.random(8),Pt=j.lib.WordArray.random(8),kt=j.PBKDF2(Me,ft,{keySize:6,iterations:100}),vn=j.enc.Hex.parse(De),Qt=j.TripleDES.encrypt(vn,kt,{iv:Pt})+"",dn={};return dn.ciphertext=Qt,dn.pbkdf2Salt=j.enc.Hex.stringify(ft),dn.pbkdf2Iter=100,dn.encryptionSchemeAlg="DES-EDE3-CBC",dn.encryptionSchemeIV=j.enc.Hex.stringify(Pt),dn};if("PKCS8PRV"==u&&null!=H&&r instanceof H&&1==r.isPrivate){var ge=R(r).tohex();return ee=B({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:ge}}]}).tohex(),void 0===l||null==l?Hn(ee,"PRIVATE KEY"):Hn(Z=me(ee,l),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==u&&void 0!==F&&r instanceof F&&1==r.isPrivate){var Ie={seq:[{int:1},{octstr:{hex:r.prvKeyHex}}]};return"string"==typeof r.pubKeyHex&&Ie.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+r.pubKeyHex}}]}),ge=new B(Ie).tohex(),ee=B({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:r.curveName}}]},{octstr:{hex:ge}}]}).tohex(),void 0===l||null==l?Hn(ee,"PRIVATE KEY"):Hn(Z=me(ee,l),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==u&&void 0!==O&&r instanceof O&&1==r.isPrivate)return ge=new M({bigint:r.x}).tohex(),ee=B({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:r.p}},{int:{bigint:r.q}},{int:{bigint:r.g}}]}]},{octstr:{hex:ge}}]}).tohex(),void 0===l||null==l?Hn(ee,"PRIVATE KEY"):Hn(Z=me(ee,l),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},$t.getKeyFromCSRPEM=function(r){var u=cn(r,"CERTIFICATE REQUEST");return $t.getKeyFromCSRHex(u)},$t.getKeyFromCSRHex=function(r){var u=$t.parseCSRHex(r);return $t.getKey(u.p8pubkeyhex,null,"pkcs8pub")},$t.parseCSRHex=function(r){var l=Ye.getChildIdx,h=Ye.getTLV,p={},y=r;if("30"!=y.substr(0,2))throw new Error("malformed CSR(code:001)");var _=l(y,0);if(_.length<1)throw new Error("malformed CSR(code:002)");if("30"!=y.substr(_[0],2))throw new Error("malformed CSR(code:003)");var w=l(y,_[0]);if(w.length<3)throw new Error("malformed CSR(code:004)");return p.p8pubkeyhex=h(y,w[2]),p},$t.getKeyID=function(r){var u=$t,l=Ye;"string"==typeof r&&-1!=r.indexOf("BEGIN ")&&(r=u.getKey(r));var h=cn(u.getPEM(r)),p=l.getIdxbyList(h,0,[1]),y=l.getV(h,p).substring(2);return g.crypto.Util.hashHex(y,"sha1")},$t.getJWK=function(r,u,l,h,p){var y,w,_={},A=g.crypto.Util.hashHex;if("string"==typeof r)y=$t.getKey(r),-1!=r.indexOf("CERTIFICATE")&&(w=cn(r));else{if("object"!=typeof r)throw new Error("unsupported keyinfo type");r instanceof xt?(y=r.getPublicKey(),w=r.hex):y=r}if(y instanceof mt&&y.isPrivate)_.kty="RSA",_.n=mn(y.n.toString(16)),_.e=mn(y.e.toString(16)),_.d=mn(y.d.toString(16)),_.p=mn(y.p.toString(16)),_.q=mn(y.q.toString(16)),_.dp=mn(y.dmp1.toString(16)),_.dq=mn(y.dmq1.toString(16)),_.qi=mn(y.coeff.toString(16));else if(y instanceof mt&&y.isPublic)_.kty="RSA",_.n=mn(y.n.toString(16)),_.e=mn(y.e.toString(16));else if(y instanceof g.crypto.ECDSA&&y.isPrivate){if("P-256"!==(M=y.getShortNISTPCurveName())&&"P-384"!==M&&"P-521"!==M)throw new Error("unsupported curve name for JWT: "+M);var B=y.getPublicKeyXYHex();_.kty="EC",_.crv=M,_.x=mn(B.x),_.y=mn(B.y),_.d=mn(y.prvKeyHex)}else if(y instanceof g.crypto.ECDSA&&y.isPublic){var M;if("P-256"!==(M=y.getShortNISTPCurveName())&&"P-384"!==M&&"P-521"!==M)throw new Error("unsupported curve name for JWT: "+M);B=y.getPublicKeyXYHex(),_.kty="EC",_.crv=M,_.x=mn(B.x),_.y=mn(B.y)}if(null==_.kty)throw new Error("unsupported keyinfo");return!y.isPrivate&&1!=u&&(_.kid=g.jws.JWS.getJWKthumbprint(_)),null!=w&&1!=l&&(_.x5c=[ue(w)]),null!=w&&1!=h&&(_.x5t=Jr(ue(A(w,"sha1")))),null!=w&&1!=p&&(_["x5t#S256"]=Jr(ue(A(w,"sha256")))),_},$t.getJWKFromKey=function(r){return $t.getJWK(r,!0,!0,!0,!0)},mt.getPosArrayOfChildrenFromHex=function(r){return Ye.getChildIdx(r,0)},mt.getHexValueArrayOfChildrenFromHex=function(r){var b,l=Ye.getV,h=l(r,(b=mt.getPosArrayOfChildrenFromHex(r))[0]),p=l(r,b[1]),y=l(r,b[2]),_=l(r,b[3]),w=l(r,b[4]),A=l(r,b[5]),M=l(r,b[6]),B=l(r,b[7]),k=l(r,b[8]);return(b=new Array).push(h,p,y,_,w,A,M,B,k),b},mt.prototype.readPrivateKeyFromPEMString=function(r){var u=cn(r),l=mt.getHexValueArrayOfChildrenFromHex(u);this.setPrivateEx(l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])},mt.prototype.readPKCS5PrvKeyHex=function(r){var u=mt.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},mt.prototype.readPKCS8PrvKeyHex=function(r){var u,l,h,p,y,_,w,A,B=Ye.getVbyListEx;if(!1===Ye.isASN1HEX(r))throw new Error("not ASN.1 hex string");try{u=B(r,0,[2,0,1],"02"),l=B(r,0,[2,0,2],"02"),h=B(r,0,[2,0,3],"02"),p=B(r,0,[2,0,4],"02"),y=B(r,0,[2,0,5],"02"),_=B(r,0,[2,0,6],"02"),w=B(r,0,[2,0,7],"02"),A=B(r,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(u,l,h,p,y,_,w,A)},mt.prototype.readPKCS5PubKeyHex=function(r){var u=Ye,l=u.getV;if(!1===u.isASN1HEX(r))throw new Error("keyHex is not ASN.1 hex string");var h=u.getChildIdx(r,0);if(2!==h.length||"02"!==r.substr(h[0],2)||"02"!==r.substr(h[1],2))throw new Error("wrong hex for PKCS#5 public key");var p=l(r,h[0]),y=l(r,h[1]);this.setPublic(p,y)},mt.prototype.readPKCS8PubKeyHex=function(r){var u=Ye;if(!1===u.isASN1HEX(r))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==u.getTLVbyListEx(r,0,[0,0]))throw new Error("not PKCS8 RSA public key");var l=u.getTLVbyListEx(r,0,[1,0]);this.readPKCS5PubKeyHex(l)},mt.prototype.readCertPubKeyHex=function(r,u){var l,h;(l=new xt).readCertHex(r),h=l.getPublicKeyHex(),this.readPKCS8PubKeyHex(h)},mt.prototype.sign=function(r,u){var h=function(p){return g.crypto.Util.hashString(p,u)}(r);return this.signWithMessageHash(h,u)},mt.prototype.signWithMessageHash=function(r,u){var h=Yn(g.crypto.Util.getPaddedDigestInfoHex(r,u,this.n.bitLength()),16);return zu(this.doPrivate(h).toString(16),this.n.bitLength())},mt.prototype.signPSS=function(r,u,l){var p=function(y){return g.crypto.Util.hashHex(y,u)}(Mn(r));return void 0===l&&(l=-1),this.signWithMessageHashPSS(p,u,l)},mt.prototype.signWithMessageHashPSS=function(r,u,l){var w,h=pn(r),p=h.length,y=this.n.bitLength()-1,_=Math.ceil(y/8),A=function(H){return g.crypto.Util.hashHex(H,u)};if(-1===l||void 0===l)l=p;else if(-2===l)l=_-p-2;else if(l<-2)throw new Error("invalid salt length");if(_<p+l+2)throw new Error("data too long");var M="";l>0&&(M=new Array(l),(new Ci).nextBytes(M),M=String.fromCharCode.apply(String,M));var B=pn(A(Mn("\0\0\0\0\0\0\0\0"+h+M))),k=[];for(w=0;w<_-l-p-2;w+=1)k[w]=0;var b=String.fromCharCode.apply(String,k)+"\x01"+M,S=ru(B,b.length,A),O=[];for(w=0;w<b.length;w+=1)O[w]=b.charCodeAt(w)^S.charCodeAt(w);for(O[0]&=~(65280>>8*_-y&255),w=0;w<p;w++)O.push(B.charCodeAt(w));return O.push(188),zu(this.doPrivate(new G(O)).toString(16),this.n.bitLength())},mt.prototype.verify=function(r,u){if(null==(u=u.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var l=Yn(u,16),h=this.n.bitLength();if(l.bitLength()>h)return!1;var y=this.doPublic(l).toString(16);if(y.length+3!=h/4)return!1;var w=ta(y.replace(/^1f+00/,""));if(0==w.length)return!1;var A=w[0],M=w[1],k=function(b){return g.crypto.Util.hashString(b,A)}(r);return M==k},mt.prototype.verifyWithMessageHash=function(r,u){if(u.length!=Math.ceil(this.n.bitLength()/4))return!1;var l=Yn(u,16);if(l.bitLength()>this.n.bitLength())return 0;var y=ta(this.doPublic(l).toString(16).replace(/^1f+00/,""));return 0!=y.length&&y[1]==r},mt.prototype.verifyPSS=function(r,u,l,h){var y=function(_){return g.crypto.Util.hashHex(_,l)}(Mn(r));return void 0===h&&(h=-1),this.verifyWithMessageHashPSS(y,u,l,h)},mt.prototype.verifyWithMessageHashPSS=function(r,u,l,h){if(u.length!=Math.ceil(this.n.bitLength()/4))return!1;var B,p=new G(u,16),y=function(U){return g.crypto.Util.hashHex(U,l)},_=pn(r),w=_.length,A=this.n.bitLength()-1,M=Math.ceil(A/8);if(-1===h||void 0===h)h=w;else if(-2===h)h=M-w-2;else if(h<-2)throw new Error("invalid salt length");if(M<w+h+2)throw new Error("data too long");var k=this.doPublic(p).toByteArray();for(B=0;B<k.length;B+=1)k[B]&=255;for(;k.length<M;)k.unshift(0);if(188!==k[M-1])throw new Error("encoded message does not end in 0xbc");var b=(k=String.fromCharCode.apply(String,k)).substr(0,M-w-1),S=k.substr(b.length,w),O=65280>>8*M-A&255;if(0!=(b.charCodeAt(0)&O))throw new Error("bits beyond keysize not zero");var F=ru(S,b.length,y),H=[];for(B=0;B<b.length;B+=1)H[B]=b.charCodeAt(B)^F.charCodeAt(B);H[0]&=~O;var R=M-w-h-2;for(B=0;B<R;B+=1)if(0!==H[B])throw new Error("leftmost octets not zero");if(1!==H[R])throw new Error("0x01 marker not found");return S===pn(y(Mn("\0\0\0\0\0\0\0\0"+_+String.fromCharCode.apply(String,H.slice(-h)))))},mt.SALT_LEN_HLEN=-1,mt.SALT_LEN_MAX=-2,mt.SALT_LEN_RECOVER=-2,xt.hex2dn=function(r,u){void 0===u&&(u=0);var l=new xt;return Ye.getTLV(r,u),l.getX500Name(r).str},xt.hex2rdn=function(r,u){if(void 0===u&&(u=0),"31"!==r.substr(u,2))throw new Error("malformed RDN");for(var l=new Array,h=Ye.getChildIdx(r,u),p=0;p<h.length;p++)l.push(xt.hex2attrTypeValue(r,h[p]));return l=l.map(function(y){return y.replace("+","\\+")}),l.join("+")},xt.hex2attrTypeValue=function(r,u){var l=Ye,h=l.getV;if(void 0===u&&(u=0),"30"!==r.substr(u,2))throw new Error("malformed attribute type and value");var p=l.getChildIdx(r,u);2!==p.length||r.substr(p[0],2);var y=h(r,p[0]),_=g.asn1.ASN1Util.oidHexToInt(y);return g.asn1.x509.OID.oid2atype(_)+"="+pn(h(r,p[1]))},xt.getPublicKeyFromCertHex=function(r){var u=new xt;return u.readCertHex(r),u.getPublicKey()},xt.getPublicKeyFromCertPEM=function(r){var u=new xt;return u.readCertPEM(r),u.getPublicKey()},xt.getPublicKeyInfoPropOfCertPEM=function(r){var p,y,l=Ye.getVbyList,h={algparam:null};return(p=new xt).readCertPEM(r),y=p.getPublicKeyHex(),h.keyhex=l(y,0,[1],"03").substr(2),h.algoid=l(y,0,[0,0],"06"),"2a8648ce3d0201"===h.algoid&&(h.algparam=l(y,0,[0,1],"06")),h},xt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWS=function(){var l=g.jws.JWS.isSafeJSONString;this.parseJWS=function(h,p){if(void 0===this.parsedJWS||!p&&void 0===this.parsedJWS.sigvalH){var y=h.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==y)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var _=y[1],w=y[2],A=y[3],M=_+"."+w;if(this.parsedJWS={},this.parsedJWS.headB64U=_,this.parsedJWS.payloadB64U=w,this.parsedJWS.sigvalB64U=A,this.parsedJWS.si=M,!p){var B=Jt(A),k=Yn(B,16);this.parsedJWS.sigvalH=B,this.parsedJWS.sigvalBI=k}var b=or(_),S=or(w);if(this.parsedJWS.headS=b,this.parsedJWS.payloadS=S,!l(b,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+b}}},g.jws.JWS.sign=function(r,u,l,h,p){var F,H,R,w=g.jws.JWS,A=w.readSafeJSONString,M=w.isSafeJSONString,B=g.crypto,b=B.Mac,S=B.Signature,O=JSON;if("string"!=typeof u&&"object"!=typeof u)throw"spHeader must be JSON string or object: "+u;if("object"==typeof u&&(F=O.stringify(H=u)),"string"==typeof u){if(!M(F=u))throw"JWS Head is not safe JSON string: "+F;H=A(F)}if(R=l,"object"==typeof l&&(R=O.stringify(l)),(""==r||null==r)&&void 0!==H.alg&&(r=H.alg),""!=r&&null!=r&&void 0===H.alg&&(H.alg=r,F=O.stringify(H)),r!==H.alg)throw"alg and sHeader.alg doesn't match: "+r+"!="+H.alg;var U=null;if(void 0===w.jwsalg2sigalg[r])throw"unsupported alg name: "+r;U=w.jwsalg2sigalg[r];var ee=nr(F)+"."+nr(R),Se="";if("Hmac"==U.substr(0,4)){if(void 0===h)throw"mac key shall be specified for HS* alg";var $=new b({alg:U,prov:"cryptojs",pass:h});$.updateString(ee),Se=$.doFinal()}else if(-1!=U.indexOf("withECDSA")){(W=new S({alg:U})).init(h,p),W.updateString(ee);var Z=W.sign();Se=g.crypto.ECDSA.asn1SigToConcatSig(Z)}else if("none"!=U){var W;(W=new S({alg:U})).init(h,p),W.updateString(ee),Se=W.sign()}return ee+"."+mn(Se)},g.jws.JWS.verify=function(r,u,l){var k,y=g.jws.JWS,_=y.readSafeJSONString,w=g.crypto,A=w.ECDSA,M=w.Mac,B=w.Signature;if(k=mt,!Vn(r))return!1;var b=r.split(".");if(3!==b.length)return!1;var X,F=b[0]+"."+b[1],H=Jt(b[2]),R=_(or(b[0])),U=null;if(void 0===R.alg)throw"algorithm not specified in header";if(X=(U=R.alg).substr(0,2),null!=l&&"[object Array]"===Object.prototype.toString.call(l)&&l.length>0&&-1==(":"+l.join(":")+":").indexOf(":"+U+":"))throw"algorithm '"+U+"' not accepted in the list";if("none"!=U&&null===u)throw"key shall be specified to verify.";if("string"==typeof u&&-1!=u.indexOf("-----BEGIN ")&&(u=$t.getKey(u)),!("RS"!=X&&"PS"!=X||u instanceof k))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==X&&!(u instanceof A))throw"key shall be a ECDSA obj for ES* algs";var ee=null;if(void 0===y.jwsalg2sigalg[R.alg])throw"unsupported alg name: "+U;if("none"==(ee=y.jwsalg2sigalg[U]))throw"not supported";if("Hmac"==ee.substr(0,4)){if(void 0===u)throw"hexadecimal key shall be specified for HMAC";var $=new M({alg:ee,pass:u});return $.updateString(F),H==$.doFinal()}if(-1!=ee.indexOf("withECDSA")){var Z,W=null;try{W=A.concatSigToASN1Sig(H)}catch{return!1}return(Z=new B({alg:ee})).init(u),Z.updateString(F),Z.verify(W)}return(Z=new B({alg:ee})).init(u),Z.updateString(F),Z.verify(H)},g.jws.JWS.parse=function(r){var p,y,u=r.split("."),l={};if(2!=u.length&&3!=u.length)throw"malformed sJWS: wrong number of '.' splitted elements";return p=u[1],3==u.length&&(y=u[2]),l.headerObj=g.jws.JWS.readSafeJSONString(or(u[0])),l.payloadObj=g.jws.JWS.readSafeJSONString(or(p)),l.headerPP=JSON.stringify(l.headerObj,null,"  "),l.payloadPP=null==l.payloadObj?or(p):JSON.stringify(l.payloadObj,null,"  "),void 0!==y&&(l.sigHex=Jt(y)),l},g.jws.JWS.verifyJWT=function(r,u,l){var p=g.jws,y=p.JWS,_=y.readSafeJSONString,w=y.inArray,A=y.includedArray;if(!Vn(r))return!1;var M=r.split(".");if(3!=M.length)return!1;var B=M[0],k=M[1],O=(Jt(M[2]),_(or(B))),F=_(or(k));if(void 0===O.alg)return!1;if(void 0===l.alg)throw"acceptField.alg shall be specified";if(!w(O.alg,l.alg)||void 0!==F.iss&&"object"==typeof l.iss&&!w(F.iss,l.iss)||void 0!==F.sub&&"object"==typeof l.sub&&!w(F.sub,l.sub))return!1;if(void 0!==F.aud&&"object"==typeof l.aud)if("string"==typeof F.aud){if(!w(F.aud,l.aud))return!1}else if("object"==typeof F.aud&&!A(F.aud,l.aud))return!1;var H=p.IntDate.getNow();return void 0!==l.verifyAt&&"number"==typeof l.verifyAt&&(H=l.verifyAt),(void 0===l.gracePeriod||"number"!=typeof l.gracePeriod)&&(l.gracePeriod=0),!(void 0!==F.exp&&"number"==typeof F.exp&&F.exp+l.gracePeriod<H||void 0!==F.nbf&&"number"==typeof F.nbf&&H<F.nbf-l.gracePeriod||void 0!==F.iat&&"number"==typeof F.iat&&H<F.iat-l.gracePeriod||void 0!==F.jti&&void 0!==l.jti&&F.jti!==l.jti||!y.verify(r,u,l.alg))},g.jws.JWS.includedArray=function(r,u){var l=g.jws.JWS.inArray;if(null===r||"object"!=typeof r||"number"!=typeof r.length)return!1;for(var h=0;h<r.length;h++)if(!l(r[h],u))return!1;return!0},g.jws.JWS.inArray=function(r,u){if(null===u||"object"!=typeof u||"number"!=typeof u.length)return!1;for(var l=0;l<u.length;l++)if(u[l]==r)return!0;return!1},g.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},g.jws.JWS.isSafeJSONString=function(r,u,l){var h=null;try{return"object"!=typeof(h=rs(r))||h.constructor===Array?0:(u&&(u[l]=h),1)}catch{return 0}},g.jws.JWS.readSafeJSONString=function(r){var u=null;try{return"object"!=typeof(u=rs(r))||u.constructor===Array?null:u}catch{return null}},g.jws.JWS.getEncodedSignatureValueFromJWS=function(r){var u=r.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==u)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return u[1]},g.jws.JWS.getJWKthumbprint=function(r){if("RSA"!==r.kty&&"EC"!==r.kty&&"oct"!==r.kty)throw"unsupported algorithm for JWK Thumprint";var u="{";if("RSA"===r.kty){if("string"!=typeof r.n||"string"!=typeof r.e)throw"wrong n and e value for RSA key";u+='"e":"'+r.e+'",',u+='"kty":"'+r.kty+'",',u+='"n":"'+r.n+'"}'}else if("EC"===r.kty){if("string"!=typeof r.crv||"string"!=typeof r.x||"string"!=typeof r.y)throw"wrong crv, x and y value for EC key";u+='"crv":"'+r.crv+'",',u+='"kty":"'+r.kty+'",',u+='"x":"'+r.x+'",',u+='"y":"'+r.y+'"}'}else if("oct"===r.kty){if("string"!=typeof r.k)throw"wrong k value for oct(symmetric) key";u+='"kty":"'+r.kty+'",',u+='"k":"'+r.k+'"}'}var l=Mn(u);return mn(g.crypto.Util.hashHex(l,"sha256"))},g.jws.IntDate={},g.jws.IntDate.get=function(r){var u=g.jws.IntDate,l=u.getNow,h=u.getZulu;if("now"==r)return l();if("now + 1hour"==r)return l()+3600;if("now + 1day"==r)return l()+86400;if("now + 1month"==r)return l()+2592e3;if("now + 1year"==r)return l()+31536e3;if(r.match(/Z$/))return h(r);if(r.match(/^[0-9]+$/))return parseInt(r);throw"unsupported format: "+r},g.jws.IntDate.getZulu=function(r){return nu(r)},g.jws.IntDate.getNow=function(){return~~(new Date/1e3)},g.jws.IntDate.intDate2UTCString=function(r){return new Date(1e3*r).toUTCString()},g.jws.IntDate.intDate2Zulu=function(r){var u=new Date(1e3*r);return("0000"+u.getUTCFullYear()).slice(-4)+("00"+(u.getUTCMonth()+1)).slice(-2)+("00"+u.getUTCDate()).slice(-2)+("00"+u.getUTCHours()).slice(-2)+("00"+u.getUTCMinutes()).slice(-2)+("00"+u.getUTCSeconds()).slice(-2)+"Z"},(typeof g>"u"||!g)&&(g={}),(typeof g.jws>"u"||!g.jws)&&(g.jws={}),g.jws.JWSJS=function(){var l=g.jws.JWS,h=l.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(p){this.init();var y=p.split(".");if(3!=y.length)throw"malformed input JWS";this.aHeader.push(y[0]),this.sPayload=y[1],this.aSignature.push(y[2])},this.addSignature=function(p,y,_,w){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var A=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var B=g.jws.JWS.sign(p,y,this.sPayload,_,w).split(".");this.aHeader.push(B[0]),this.aSignature.push(B[2])}catch(S){throw this.aHeader.length>A&&this.aHeader.pop(),this.aSignature.length>A&&this.aSignature.pop(),"addSignature failed: "+S}},this.verifyAll=function(p){if(this.aHeader.length!==p.length||this.aSignature.length!==p.length)return!1;for(var y=0;y<p.length;y++){var _=p[y];if(2!==_.length)return!1;if(!1===this.verifyNth(y,_[0],_[1]))return!1}return!0},this.verifyNth=function(p,y,_){if(this.aHeader.length<=p||this.aSignature.length<=p)return!1;var M=this.aHeader[p]+"."+this.sPayload+"."+this.aSignature[p],B=!1;try{B=l.verify(M,y,_)}catch{return!1}return B},this.readJWSJS=function(p){if("string"==typeof p){var y=h(p);if(null==y)throw"argument is not safe JSON object string";this.aHeader=y.headers,this.sPayload=y.payload,this.aSignature=y.signatures}else try{if(!(p.headers.length>0))throw"malformed header";if(this.aHeader=p.headers,"string"!=typeof p.payload)throw"malformed signatures";if(this.sPayload=p.payload,!(p.signatures.length>0))throw"malformed signatures";this.aSignature=p.signatures}catch(_){throw"malformed JWS-JS JSON object: "+_}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},oe.KZ=$t,oe.fs=g},9751:(ie,oe,D)=>{"use strict";D.d(oe,{y:()=>Fe});var x=D(930),v=D(727),j=D(8822),Q=D(9635),Y=D(2416),ue=D(576),Ee=D(2806);let Fe=(()=>{class G{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const Ne=new G;return Ne.source=this,Ne.operator=fe,Ne}subscribe(fe,Ne,_e){const We=function ce(G){return G&&G instanceof x.Lv||function ve(G){return G&&(0,ue.m)(G.next)&&(0,ue.m)(G.error)&&(0,ue.m)(G.complete)}(G)&&(0,v.Nn)(G)}(fe)?fe:new x.Hp(fe,Ne,_e);return(0,Ee.x)(()=>{const{operator:Qe,source:je}=this;We.add(Qe?Qe.call(We,je):je?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(fe){try{return this._subscribe(fe)}catch(Ne){fe.error(Ne)}}forEach(fe,Ne){return new(Ne=he(Ne))((_e,We)=>{const Qe=new x.Hp({next:je=>{try{fe(je)}catch(at){We(at),Qe.unsubscribe()}},error:We,complete:_e});this.subscribe(Qe)})}_subscribe(fe){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(fe)}[j.L](){return this}pipe(...fe){return(0,Q.U)(fe)(this)}toPromise(fe){return new(fe=he(fe))((Ne,_e)=>{let We;this.subscribe(Qe=>We=Qe,Qe=>_e(Qe),()=>Ne(We))})}}return G.create=ye=>new G(ye),G})();function he(G){var ye;return null!==(ye=G??Y.v.Promise)&&void 0!==ye?ye:Promise}},7579:(ie,oe,D)=>{"use strict";D.d(oe,{x:()=>Ee});var x=D(9751),v=D(727);const Q=(0,D(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=D(8737),ue=D(2806);let Ee=(()=>{class he extends x.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const G=new Fe(this,this);return G.operator=ce,G}_throwIfClosed(){if(this.closed)throw new Q}next(ce){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(ce)}})}error(ce){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:G}=this;for(;G.length;)G.shift().error(ce)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:G,isStopped:ye,observers:fe}=this;return G||ye?v.Lc:(this.currentObservers=null,fe.push(ce),new v.w0(()=>{this.currentObservers=null,(0,Y.P)(fe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:G,thrownError:ye,isStopped:fe}=this;G?ce.error(ye):fe&&ce.complete()}asObservable(){const ce=new x.y;return ce.source=this,ce}}return he.create=(ve,ce)=>new Fe(ve,ce),he})();class Fe extends Ee{constructor(ve,ce){super(),this.destination=ve,this.source=ce}next(ve){var ce,G;null===(G=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===G||G.call(ce,ve)}error(ve){var ce,G;null===(G=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===G||G.call(ce,ve)}complete(){var ve,ce;null===(ce=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===ce||ce.call(ve)}_subscribe(ve){var ce,G;return null!==(G=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ve))&&void 0!==G?G:v.Lc}}},930:(ie,oe,D)=>{"use strict";D.d(oe,{Hp:()=>_e,Lv:()=>G});var x=D(576),v=D(727),j=D(2416),Q=D(7849),Y=D(5032);const ue=he("C",void 0,void 0);function he(Te,Re,et){return{kind:Te,value:Re,error:et}}var ve=D(3410),ce=D(2806);class G extends v.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,v.Nn)(Re)&&Re.add(this)):this.destination=at}static create(Re,et,It){return new _e(Re,et,It)}next(Re){this.isStopped?je(function Fe(Te){return he("N",Te,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?je(function Ee(Te){return he("E",void 0,Te)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?je(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function fe(Te,Re){return ye.call(Te,Re)}class Ne{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:et}=this;if(et.next)try{et.next(Re)}catch(It){We(It)}}error(Re){const{partialObserver:et}=this;if(et.error)try{et.error(Re)}catch(It){We(It)}else We(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(et){We(et)}}}class _e extends G{constructor(Re,et,It){let nt;if(super(),(0,x.m)(Re)||!Re)nt={next:Re??void 0,error:et??void 0,complete:It??void 0};else{let ze;this&&j.v.useDeprecatedNextContext?(ze=Object.create(Re),ze.unsubscribe=()=>this.unsubscribe(),nt={next:Re.next&&fe(Re.next,ze),error:Re.error&&fe(Re.error,ze),complete:Re.complete&&fe(Re.complete,ze)}):nt=Re}this.destination=new Ne(nt)}}function We(Te){j.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(Te):(0,Q.h)(Te)}function je(Te,Re){const{onStoppedNotification:et}=j.v;et&&ve.z.setTimeout(()=>et(Te,Re))}const at={closed:!0,next:Y.Z,error:function Qe(Te){throw Te},complete:Y.Z}},727:(ie,oe,D)=>{"use strict";D.d(oe,{Lc:()=>ue,w0:()=>Y,Nn:()=>Ee});var x=D(576);const j=(0,D(3888).d)(he=>function(ce){he(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((G,ye)=>`${ye+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var Q=D(8737);class Y{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const fe of ce)fe.remove(this);else ce.remove(this);const{initialTeardown:G}=this;if((0,x.m)(G))try{G()}catch(fe){ve=fe instanceof j?fe.errors:[fe]}const{_finalizers:ye}=this;if(ye){this._finalizers=null;for(const fe of ye)try{Fe(fe)}catch(Ne){ve=ve??[],Ne instanceof j?ve=[...ve,...Ne.errors]:ve.push(Ne)}}if(ve)throw new j(ve)}}add(ve){var ce;if(ve&&ve!==this)if(this.closed)Fe(ve);else{if(ve instanceof Y){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ve)}}_hasParent(ve){const{_parentage:ce}=this;return ce===ve||Array.isArray(ce)&&ce.includes(ve)}_addParent(ve){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ve),ce):ce?[ce,ve]:ve}_removeParent(ve){const{_parentage:ce}=this;ce===ve?this._parentage=null:Array.isArray(ce)&&(0,Q.P)(ce,ve)}remove(ve){const{_finalizers:ce}=this;ce&&(0,Q.P)(ce,ve),ve instanceof Y&&ve._removeParent(this)}}Y.EMPTY=(()=>{const he=new Y;return he.closed=!0,he})();const ue=Y.EMPTY;function Ee(he){return he instanceof Y||he&&"closed"in he&&(0,x.m)(he.remove)&&(0,x.m)(he.add)&&(0,x.m)(he.unsubscribe)}function Fe(he){(0,x.m)(he)?he():he.unsubscribe()}},2416:(ie,oe,D)=>{"use strict";D.d(oe,{v:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ie,oe,D)=>{"use strict";D.d(oe,{a:()=>ve});var x=D(9751),v=D(4742),j=D(2076),Q=D(4671),Y=D(3268),ue=D(3269),Ee=D(1810),Fe=D(5403),he=D(9672);function ve(...ye){const fe=(0,ue.yG)(ye),Ne=(0,ue.jO)(ye),{args:_e,keys:We}=(0,v.D)(ye);if(0===_e.length)return(0,j.D)([],fe);const Qe=new x.y(function ce(ye,fe,Ne=Q.y){return _e=>{G(fe,()=>{const{length:We}=ye,Qe=new Array(We);let je=We,at=We;for(let Te=0;Te<We;Te++)G(fe,()=>{const Re=(0,j.D)(ye[Te],fe);let et=!1;Re.subscribe((0,Fe.x)(_e,It=>{Qe[Te]=It,et||(et=!0,at--),at||_e.next(Ne(Qe.slice()))},()=>{--je||_e.complete()}))},_e)},_e)}}(_e,fe,We?je=>(0,Ee.n)(We,je):Q.y));return Ne?Qe.pipe((0,Y.Z)(Ne)):Qe}function G(ye,fe,Ne){ye?(0,he.f)(Ne,ye,fe):fe()}},7272:(ie,oe,D)=>{"use strict";D.d(oe,{z:()=>Y});var x=D(8189),j=D(3269),Q=D(2076);function Y(...ue){return function v(){return(0,x.J)(1)}()((0,Q.D)(ue,(0,j.yG)(ue)))}},515:(ie,oe,D)=>{"use strict";D.d(oe,{E:()=>v});const v=new(D(9751).y)(Y=>Y.complete())},2076:(ie,oe,D)=>{"use strict";D.d(oe,{D:()=>It});var x=D(8421),v=D(9672),j=D(4482),Q=D(5403);function Y(nt,ze=0){return(0,j.e)((Ze,be)=>{Ze.subscribe((0,Q.x)(be,Ae=>(0,v.f)(be,nt,()=>be.next(Ae),ze),()=>(0,v.f)(be,nt,()=>be.complete(),ze),Ae=>(0,v.f)(be,nt,()=>be.error(Ae),ze)))})}function ue(nt,ze=0){return(0,j.e)((Ze,be)=>{be.add(nt.schedule(()=>Ze.subscribe(be),ze))})}var he=D(9751),ce=D(2202),G=D(576);function fe(nt,ze){if(!nt)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,v.f)(Ze,ze,()=>{const be=nt[Symbol.asyncIterator]();(0,v.f)(Ze,ze,()=>{be.next().then(Ae=>{Ae.done?Ze.complete():Ze.next(Ae.value)})},0,!0)})})}var Ne=D(3670),_e=D(8239),We=D(1144),Qe=D(6495),je=D(2206),at=D(4532),Te=D(3260);function It(nt,ze){return ze?function et(nt,ze){if(null!=nt){if((0,Ne.c)(nt))return function Ee(nt,ze){return(0,x.Xf)(nt).pipe(ue(ze),Y(ze))}(nt,ze);if((0,We.z)(nt))return function ve(nt,ze){return new he.y(Ze=>{let be=0;return ze.schedule(function(){be===nt.length?Ze.complete():(Ze.next(nt[be++]),Ze.closed||this.schedule())})})}(nt,ze);if((0,_e.t)(nt))return function Fe(nt,ze){return(0,x.Xf)(nt).pipe(ue(ze),Y(ze))}(nt,ze);if((0,je.D)(nt))return fe(nt,ze);if((0,Qe.T)(nt))return function ye(nt,ze){return new he.y(Ze=>{let be;return(0,v.f)(Ze,ze,()=>{be=nt[ce.h](),(0,v.f)(Ze,ze,()=>{let Ae,Le;try{({value:Ae,done:Le}=be.next())}catch(Pe){return void Ze.error(Pe)}Le?Ze.complete():Ze.next(Ae)},0,!0)}),()=>(0,G.m)(be?.return)&&be.return()})}(nt,ze);if((0,Te.L)(nt))return function Re(nt,ze){return fe((0,Te.Q)(nt),ze)}(nt,ze)}throw(0,at.z)(nt)}(nt,ze):(0,x.Xf)(nt)}},8421:(ie,oe,D)=>{"use strict";D.d(oe,{Xf:()=>ye});var x=D(655),v=D(1144),j=D(8239),Q=D(9751),Y=D(3670),ue=D(2206),Ee=D(4532),Fe=D(6495),he=D(3260),ve=D(576),ce=D(7849),G=D(8822);function ye(Te){if(Te instanceof Q.y)return Te;if(null!=Te){if((0,Y.c)(Te))return function fe(Te){return new Q.y(Re=>{const et=Te[G.L]();if((0,ve.m)(et.subscribe))return et.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,v.z)(Te))return function Ne(Te){return new Q.y(Re=>{for(let et=0;et<Te.length&&!Re.closed;et++)Re.next(Te[et]);Re.complete()})}(Te);if((0,j.t)(Te))return function _e(Te){return new Q.y(Re=>{Te.then(et=>{Re.closed||(Re.next(et),Re.complete())},et=>Re.error(et)).then(null,ce.h)})}(Te);if((0,ue.D)(Te))return Qe(Te);if((0,Fe.T)(Te))return function We(Te){return new Q.y(Re=>{for(const et of Te)if(Re.next(et),Re.closed)return;Re.complete()})}(Te);if((0,he.L)(Te))return function je(Te){return Qe((0,he.Q)(Te))}(Te)}throw(0,Ee.z)(Te)}function Qe(Te){return new Q.y(Re=>{(function at(Te,Re){var et,It,nt,ze;return(0,x.mG)(this,void 0,void 0,function*(){try{for(et=(0,x.KL)(Te);!(It=yield et.next()).done;)if(Re.next(It.value),Re.closed)return}catch(Ze){nt={error:Ze}}finally{try{It&&!It.done&&(ze=et.return)&&(yield ze.call(et))}finally{if(nt)throw nt.error}}Re.complete()})})(Te,Re).catch(et=>Re.error(et))})}},6451:(ie,oe,D)=>{"use strict";D.d(oe,{T:()=>ue});var x=D(8189),v=D(8421),j=D(515),Q=D(3269),Y=D(2076);function ue(...Ee){const Fe=(0,Q.yG)(Ee),he=(0,Q._6)(Ee,1/0),ve=Ee;return ve.length?1===ve.length?(0,v.Xf)(ve[0]):(0,x.J)(he)((0,Y.D)(ve,Fe)):j.E}},9646:(ie,oe,D)=>{"use strict";D.d(oe,{of:()=>j});var x=D(3269),v=D(2076);function j(...Q){const Y=(0,x.yG)(Q);return(0,v.D)(Q,Y)}},102:(ie,oe,D)=>{"use strict";D.d(oe,{S:()=>ue});var x=D(9751),v=D(8421);const{isArray:j}=Array;var Y=D(5403);function ue(...Fe){return 1===(Fe=function Q(Fe){return 1===Fe.length&&j(Fe[0])?Fe[0]:Fe}(Fe)).length?(0,v.Xf)(Fe[0]):new x.y(function Ee(Fe){return he=>{let ve=[];for(let ce=0;ve&&!he.closed&&ce<Fe.length;ce++)ve.push((0,v.Xf)(Fe[ce]).subscribe((0,Y.x)(he,G=>{if(ve){for(let ye=0;ye<ve.length;ye++)ye!==ce&&ve[ye].unsubscribe();ve=null}he.next(G)})))}}(Fe))}},2843:(ie,oe,D)=>{"use strict";D.d(oe,{_:()=>j});var x=D(9751),v=D(576);function j(Q,Y){const ue=(0,v.m)(Q)?Q:()=>Q,Ee=Fe=>Fe.error(ue());return new x.y(Y?Fe=>Y.schedule(Ee,0,Fe):Ee)}},5403:(ie,oe,D)=>{"use strict";D.d(oe,{x:()=>v});var x=D(930);function v(Q,Y,ue,Ee,Fe){return new j(Q,Y,ue,Ee,Fe)}class j extends x.Lv{constructor(Y,ue,Ee,Fe,he,ve){super(Y),this.onFinalize=he,this.shouldUnsubscribe=ve,this._next=ue?function(ce){try{ue(ce)}catch(G){Y.error(G)}}:super._next,this._error=Fe?function(ce){try{Fe(ce)}catch(G){Y.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ce){Y.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},262:(ie,oe,D)=>{"use strict";D.d(oe,{K:()=>Q});var x=D(8421),v=D(5403),j=D(4482);function Q(Y){return(0,j.e)((ue,Ee)=>{let ve,Fe=null,he=!1;Fe=ue.subscribe((0,v.x)(Ee,void 0,void 0,ce=>{ve=(0,x.Xf)(Y(ce,Q(Y)(ue))),Fe?(Fe.unsubscribe(),Fe=null,ve.subscribe(Ee)):he=!0})),he&&(Fe.unsubscribe(),Fe=null,ve.subscribe(Ee))})}},4351:(ie,oe,D)=>{"use strict";D.d(oe,{b:()=>j});var x=D(5577),v=D(576);function j(Q,Y){return(0,v.m)(Y)?(0,x.z)(Q,Y,1):(0,x.z)(Q,1)}},8372:(ie,oe,D)=>{"use strict";D.d(oe,{b:()=>Q});var x=D(4049),v=D(4482),j=D(5403);function Q(Y,ue=x.z){return(0,v.e)((Ee,Fe)=>{let he=null,ve=null,ce=null;const G=()=>{if(he){he.unsubscribe(),he=null;const fe=ve;ve=null,Fe.next(fe)}};function ye(){const fe=ce+Y,Ne=ue.now();if(Ne<fe)return he=this.schedule(void 0,fe-Ne),void Fe.add(he);G()}Ee.subscribe((0,j.x)(Fe,fe=>{ve=fe,ce=ue.now(),he||(he=ue.schedule(ye,Y),Fe.add(he))},()=>{G(),Fe.complete()},void 0,()=>{ve=he=null}))})}},6590:(ie,oe,D)=>{"use strict";D.d(oe,{d:()=>j});var x=D(4482),v=D(5403);function j(Q){return(0,x.e)((Y,ue)=>{let Ee=!1;Y.subscribe((0,v.x)(ue,Fe=>{Ee=!0,ue.next(Fe)},()=>{Ee||ue.next(Q),ue.complete()}))})}},1756:(ie,oe,D)=>{"use strict";D.d(oe,{g:()=>Ne});var x=D(4049),v=D(7272),j=D(5698),Q=D(4482),Y=D(5403),ue=D(5032),Fe=D(9718),he=D(5577);function ve(_e,We){return We?Qe=>(0,v.z)(We.pipe((0,j.q)(1),function Ee(){return(0,Q.e)((_e,We)=>{_e.subscribe((0,Y.x)(We,ue.Z))})}()),Qe.pipe(ve(_e))):(0,he.z)((Qe,je)=>_e(Qe,je).pipe((0,j.q)(1),(0,Fe.h)(Qe)))}var ce=D(9751),G=D(3532),ye=D(1165);function Ne(_e,We=x.z){const Qe=function fe(_e=0,We,Qe=x.P){let je=-1;return null!=We&&((0,G.K)(We)?Qe=We:je=We),new ce.y(at=>{let Te=(0,ye.q)(_e)?+_e-Qe.now():_e;Te<0&&(Te=0);let Re=0;return Qe.schedule(function(){at.closed||(at.next(Re++),0<=je?this.schedule(void 0,je):at.complete())},Te)})}(_e,We);return ve(()=>Qe)}},9300:(ie,oe,D)=>{"use strict";D.d(oe,{h:()=>j});var x=D(4482),v=D(5403);function j(Q,Y){return(0,x.e)((ue,Ee)=>{let Fe=0;ue.subscribe((0,v.x)(Ee,he=>Q.call(Y,he,Fe++)&&Ee.next(he)))})}},590:(ie,oe,D)=>{"use strict";D.d(oe,{P:()=>Ee});var x=D(6805),v=D(9300),j=D(5698),Q=D(6590),Y=D(8068),ue=D(4671);function Ee(Fe,he){const ve=arguments.length>=2;return ce=>ce.pipe(Fe?(0,v.h)((G,ye)=>Fe(G,ye,ce)):ue.y,(0,j.q)(1),ve?(0,Q.d)(he):(0,Y.T)(()=>new x.K))}},4004:(ie,oe,D)=>{"use strict";D.d(oe,{U:()=>j});var x=D(4482),v=D(5403);function j(Q,Y){return(0,x.e)((ue,Ee)=>{let Fe=0;ue.subscribe((0,v.x)(Ee,he=>{Ee.next(Q.call(Y,he,Fe++))}))})}},9718:(ie,oe,D)=>{"use strict";D.d(oe,{h:()=>v});var x=D(4004);function v(j){return(0,x.U)(()=>j)}},8189:(ie,oe,D)=>{"use strict";D.d(oe,{J:()=>j});var x=D(5577),v=D(4671);function j(Q=1/0){return(0,x.z)(v.y,Q)}},5577:(ie,oe,D)=>{"use strict";D.d(oe,{z:()=>Fe});var x=D(4004),v=D(8421),j=D(4482),Q=D(9672),Y=D(5403),Ee=D(576);function Fe(he,ve,ce=1/0){return(0,Ee.m)(ve)?Fe((G,ye)=>(0,x.U)((fe,Ne)=>ve(G,fe,ye,Ne))((0,v.Xf)(he(G,ye))),ce):("number"==typeof ve&&(ce=ve),(0,j.e)((G,ye)=>function ue(he,ve,ce,G,ye,fe,Ne,_e){const We=[];let Qe=0,je=0,at=!1;const Te=()=>{at&&!We.length&&!Qe&&ve.complete()},Re=It=>Qe<G?et(It):We.push(It),et=It=>{fe&&ve.next(It),Qe++;let nt=!1;(0,v.Xf)(ce(It,je++)).subscribe((0,Y.x)(ve,ze=>{ye?.(ze),fe?Re(ze):ve.next(ze)},()=>{nt=!0},void 0,()=>{if(nt)try{for(Qe--;We.length&&Qe<G;){const ze=We.shift();Ne?(0,Q.f)(ve,Ne,()=>et(ze)):et(ze)}Te()}catch(ze){ve.error(ze)}}))};return he.subscribe((0,Y.x)(ve,Re,()=>{at=!0,Te()})),()=>{_e?.()}}(G,ye,he,ce)))}},3900:(ie,oe,D)=>{"use strict";D.d(oe,{w:()=>Q});var x=D(8421),v=D(4482),j=D(5403);function Q(Y,ue){return(0,v.e)((Ee,Fe)=>{let he=null,ve=0,ce=!1;const G=()=>ce&&!he&&Fe.complete();Ee.subscribe((0,j.x)(Fe,ye=>{he?.unsubscribe();let fe=0;const Ne=ve++;(0,x.Xf)(Y(ye,Ne)).subscribe(he=(0,j.x)(Fe,_e=>Fe.next(ue?ue(ye,_e,Ne,fe++):_e),()=>{he=null,G()}))},()=>{ce=!0,G()}))})}},5698:(ie,oe,D)=>{"use strict";D.d(oe,{q:()=>Q});var x=D(515),v=D(4482),j=D(5403);function Q(Y){return Y<=0?()=>x.E:(0,v.e)((ue,Ee)=>{let Fe=0;ue.subscribe((0,j.x)(Ee,he=>{++Fe<=Y&&(Ee.next(he),Y<=Fe&&Ee.complete())}))})}},8505:(ie,oe,D)=>{"use strict";D.d(oe,{b:()=>Y});var x=D(576),v=D(4482),j=D(5403),Q=D(4671);function Y(ue,Ee,Fe){const he=(0,x.m)(ue)||Ee||Fe?{next:ue,error:Ee,complete:Fe}:ue;return he?(0,v.e)((ve,ce)=>{var G;null===(G=he.subscribe)||void 0===G||G.call(he);let ye=!0;ve.subscribe((0,j.x)(ce,fe=>{var Ne;null===(Ne=he.next)||void 0===Ne||Ne.call(he,fe),ce.next(fe)},()=>{var fe;ye=!1,null===(fe=he.complete)||void 0===fe||fe.call(he),ce.complete()},fe=>{var Ne;ye=!1,null===(Ne=he.error)||void 0===Ne||Ne.call(he,fe),ce.error(fe)},()=>{var fe,Ne;ye&&(null===(fe=he.unsubscribe)||void 0===fe||fe.call(he)),null===(Ne=he.finalize)||void 0===Ne||Ne.call(he)}))}):Q.y}},8068:(ie,oe,D)=>{"use strict";D.d(oe,{T:()=>Q});var x=D(6805),v=D(4482),j=D(5403);function Q(ue=Y){return(0,v.e)((Ee,Fe)=>{let he=!1;Ee.subscribe((0,j.x)(Fe,ve=>{he=!0,Fe.next(ve)},()=>he?Fe.complete():Fe.error(ue())))})}function Y(){return new x.K}},7414:(ie,oe,D)=>{"use strict";D.d(oe,{V:()=>he});var x=D(4049),v=D(1165),j=D(4482),Q=D(8421),Y=D(3888),ue=D(5403),Ee=D(9672);const Fe=(0,Y.d)(ce=>function(ye=null){ce(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ye});function he(ce,G){const{first:ye,each:fe,with:Ne=ve,scheduler:_e=G??x.z,meta:We=null}=(0,v.q)(ce)?{first:ce}:"number"==typeof ce?{each:ce}:ce;if(null==ye&&null==fe)throw new TypeError("No timeout provided.");return(0,j.e)((Qe,je)=>{let at,Te,Re=null,et=0;const It=nt=>{Te=(0,Ee.f)(je,_e,()=>{try{at.unsubscribe(),(0,Q.Xf)(Ne({meta:We,lastValue:Re,seen:et})).subscribe(je)}catch(ze){je.error(ze)}},nt)};at=Qe.subscribe((0,ue.x)(je,nt=>{Te?.unsubscribe(),et++,je.next(Re=nt),fe>0&&It(fe)},void 0,void 0,()=>{Te?.closed||Te?.unsubscribe(),Re=null})),!et&&It(null!=ye?"number"==typeof ye?ye:+ye-_e.now():fe)})}function ve(ce){throw new Fe(ce)}},4049:(ie,oe,D)=>{"use strict";D.d(oe,{P:()=>ve,z:()=>he});var x=D(727);class v extends x.w0{constructor(G,ye){super()}schedule(G,ye=0){return this}}const j={setInterval(ce,G,...ye){const{delegate:fe}=j;return fe?.setInterval?fe.setInterval(ce,G,...ye):setInterval(ce,G,...ye)},clearInterval(ce){const{delegate:G}=j;return(G?.clearInterval||clearInterval)(ce)},delegate:void 0};var Q=D(8737),ue=D(6063);class Ee{constructor(G,ye=Ee.now){this.schedulerActionCtor=G,this.now=ye}schedule(G,ye=0,fe){return new this.schedulerActionCtor(this,G).schedule(fe,ye)}}Ee.now=ue.l.now;const he=new class Fe extends Ee{constructor(G,ye=Ee.now){super(G,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(G){const{actions:ye}=this;if(this._active)return void ye.push(G);let fe;this._active=!0;do{if(fe=G.execute(G.state,G.delay))break}while(G=ye.shift());if(this._active=!1,fe){for(;G=ye.shift();)G.unsubscribe();throw fe}}}(class Y extends v{constructor(G,ye){super(G,ye),this.scheduler=G,this.work=ye,this.pending=!1}schedule(G,ye=0){if(this.closed)return this;this.state=G;const fe=this.id,Ne=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Ne,fe,ye)),this.pending=!0,this.delay=ye,this.id=this.id||this.requestAsyncId(Ne,this.id,ye),this}requestAsyncId(G,ye,fe=0){return j.setInterval(G.flush.bind(G,this),fe)}recycleAsyncId(G,ye,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ye;j.clearInterval(ye)}execute(G,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(G,ye);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(G,ye){let Ne,fe=!1;try{this.work(G)}catch(_e){fe=!0,Ne=_e||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),Ne}unsubscribe(){if(!this.closed){const{id:G,scheduler:ye}=this,{actions:fe}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(fe,this),null!=G&&(this.id=this.recycleAsyncId(ye,G,null)),this.delay=null,super.unsubscribe()}}}),ve=he},6063:(ie,oe,D)=>{"use strict";D.d(oe,{l:()=>x});const x={now:()=>(x.delegate||Date).now(),delegate:void 0}},3410:(ie,oe,D)=>{"use strict";D.d(oe,{z:()=>x});const x={setTimeout(v,j,...Q){const{delegate:Y}=x;return Y?.setTimeout?Y.setTimeout(v,j,...Q):setTimeout(v,j,...Q)},clearTimeout(v){const{delegate:j}=x;return(j?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(ie,oe,D)=>{"use strict";D.d(oe,{h:()=>v});const v=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ie,oe,D)=>{"use strict";D.d(oe,{L:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ie,oe,D)=>{"use strict";D.d(oe,{K:()=>v});const v=(0,D(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ie,oe,D)=>{"use strict";D.d(oe,{_6:()=>ue,jO:()=>Q,yG:()=>Y});var x=D(576),v=D(3532);function j(Ee){return Ee[Ee.length-1]}function Q(Ee){return(0,x.m)(j(Ee))?Ee.pop():void 0}function Y(Ee){return(0,v.K)(j(Ee))?Ee.pop():void 0}function ue(Ee,Fe){return"number"==typeof j(Ee)?Ee.pop():Fe}},4742:(ie,oe,D)=>{"use strict";D.d(oe,{D:()=>Y});const{isArray:x}=Array,{getPrototypeOf:v,prototype:j,keys:Q}=Object;function Y(Ee){if(1===Ee.length){const Fe=Ee[0];if(x(Fe))return{args:Fe,keys:null};if(function ue(Ee){return Ee&&"object"==typeof Ee&&v(Ee)===j}(Fe)){const he=Q(Fe);return{args:he.map(ve=>Fe[ve]),keys:he}}}return{args:Ee,keys:null}}},8737:(ie,oe,D)=>{"use strict";function x(v,j){if(v){const Q=v.indexOf(j);0<=Q&&v.splice(Q,1)}}D.d(oe,{P:()=>x})},3888:(ie,oe,D)=>{"use strict";function x(v){const Q=v(Y=>{Error.call(Y),Y.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}D.d(oe,{d:()=>x})},1810:(ie,oe,D)=>{"use strict";function x(v,j){return v.reduce((Q,Y,ue)=>(Q[Y]=j[ue],Q),{})}D.d(oe,{n:()=>x})},2806:(ie,oe,D)=>{"use strict";D.d(oe,{O:()=>Q,x:()=>j});var x=D(2416);let v=null;function j(Y){if(x.v.useDeprecatedSynchronousErrorHandling){const ue=!v;if(ue&&(v={errorThrown:!1,error:null}),Y(),ue){const{errorThrown:Ee,error:Fe}=v;if(v=null,Ee)throw Fe}}else Y()}function Q(Y){x.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=Y)}},9672:(ie,oe,D)=>{"use strict";function x(v,j,Q,Y=0,ue=!1){const Ee=j.schedule(function(){Q(),ue?v.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(v.add(Ee),!ue)return Ee}D.d(oe,{f:()=>x})},4671:(ie,oe,D)=>{"use strict";function x(v){return v}D.d(oe,{y:()=>x})},1144:(ie,oe,D)=>{"use strict";D.d(oe,{z:()=>x});const x=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(ie,oe,D)=>{"use strict";D.d(oe,{D:()=>v});var x=D(576);function v(j){return Symbol.asyncIterator&&(0,x.m)(j?.[Symbol.asyncIterator])}},1165:(ie,oe,D)=>{"use strict";function x(v){return v instanceof Date&&!isNaN(v)}D.d(oe,{q:()=>x})},576:(ie,oe,D)=>{"use strict";function x(v){return"function"==typeof v}D.d(oe,{m:()=>x})},3670:(ie,oe,D)=>{"use strict";D.d(oe,{c:()=>j});var x=D(8822),v=D(576);function j(Q){return(0,v.m)(Q[x.L])}},6495:(ie,oe,D)=>{"use strict";D.d(oe,{T:()=>j});var x=D(2202),v=D(576);function j(Q){return(0,v.m)(Q?.[x.h])}},8239:(ie,oe,D)=>{"use strict";D.d(oe,{t:()=>v});var x=D(576);function v(j){return(0,x.m)(j?.then)}},3260:(ie,oe,D)=>{"use strict";D.d(oe,{L:()=>Q,Q:()=>j});var x=D(655),v=D(576);function j(Y){return(0,x.FC)(this,arguments,function*(){const Ee=Y.getReader();try{for(;;){const{value:Fe,done:he}=yield(0,x.qq)(Ee.read());if(he)return yield(0,x.qq)(void 0);yield yield(0,x.qq)(Fe)}}finally{Ee.releaseLock()}})}function Q(Y){return(0,v.m)(Y?.getReader)}},3532:(ie,oe,D)=>{"use strict";D.d(oe,{K:()=>v});var x=D(576);function v(j){return j&&(0,x.m)(j.schedule)}},4482:(ie,oe,D)=>{"use strict";D.d(oe,{A:()=>v,e:()=>j});var x=D(576);function v(Q){return(0,x.m)(Q?.lift)}function j(Q){return Y=>{if(v(Y))return Y.lift(function(ue){try{return Q(ue,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ie,oe,D)=>{"use strict";D.d(oe,{Z:()=>Q});var x=D(4004);const{isArray:v}=Array;function Q(Y){return(0,x.U)(ue=>function j(Y,ue){return v(ue)?Y(...ue):Y(ue)}(Y,ue))}},5032:(ie,oe,D)=>{"use strict";function x(){}D.d(oe,{Z:()=>x})},9635:(ie,oe,D)=>{"use strict";D.d(oe,{U:()=>j,z:()=>v});var x=D(4671);function v(...Q){return j(Q)}function j(Q){return 0===Q.length?x.y:1===Q.length?Q[0]:function(ue){return Q.reduce((Ee,Fe)=>Fe(Ee),ue)}}},7849:(ie,oe,D)=>{"use strict";D.d(oe,{h:()=>j});var x=D(2416),v=D(3410);function j(Q){v.z.setTimeout(()=>{const{onUnhandledError:Y}=x.v;if(!Y)throw Q;Y(Q)})}},4532:(ie,oe,D)=>{"use strict";function x(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(oe,{z:()=>x})},655:(ie,oe,D)=>{"use strict";function Fe(be,Ae,Le,Pe){return new(Le||(Le=Promise))(function(tt,Rt){function rn(Qn){try{Ht(Pe.next(Qn))}catch(Kr){Rt(Kr)}}function ur(Qn){try{Ht(Pe.throw(Qn))}catch(Kr){Rt(Kr)}}function Ht(Qn){Qn.done?tt(Qn.value):function ot(tt){return tt instanceof Le?tt:new Le(function(Rt){Rt(tt)})}(Qn.value).then(rn,ur)}Ht((Pe=Pe.apply(be,Ae||[])).next())})}function We(be){return this instanceof We?(this.v=be,this):new We(be)}function Qe(be,Ae,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Pe=Le.apply(be,Ae||[]),tt=[];return ot={},Rt("next"),Rt("throw"),Rt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Rt(Gt){Pe[Gt]&&(ot[Gt]=function(Ot){return new Promise(function(Gr,Wn){tt.push([Gt,Ot,Gr,Wn])>1||rn(Gt,Ot)})})}function rn(Gt,Ot){try{!function ur(Gt){Gt.value instanceof We?Promise.resolve(Gt.value.v).then(Ht,Qn):Kr(tt[0][2],Gt)}(Pe[Gt](Ot))}catch(Gr){Kr(tt[0][3],Gr)}}function Ht(Gt){rn("next",Gt)}function Qn(Gt){rn("throw",Gt)}function Kr(Gt,Ot){Gt(Ot),tt.shift(),tt.length&&rn(tt[0][0],tt[0][1])}}function at(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ae=be[Symbol.asyncIterator];return Ae?Ae.call(be):(be=function G(be){var Ae="function"==typeof Symbol&&Symbol.iterator,Le=Ae&&be[Ae],Pe=0;if(Le)return Le.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Pe>=be.length&&(be=void 0),{value:be&&be[Pe++],done:!be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Le={},Pe("next"),Pe("throw"),Pe("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function Pe(tt){Le[tt]=be[tt]&&function(Rt){return new Promise(function(rn,ur){!function ot(tt,Rt,rn,ur){Promise.resolve(ur).then(function(Ht){tt({value:Ht,done:rn})},Rt)}(rn,ur,(Rt=be[tt](Rt)).done,Rt.value)})}}}D.d(oe,{FC:()=>Qe,KL:()=>at,mG:()=>Fe,qq:()=>We})},6895:(ie,oe,D)=>{"use strict";D.d(oe,{Do:()=>at,EM:()=>Pr,HT:()=>Y,JF:()=>Xa,K0:()=>Ee,Mx:()=>ki,S$:()=>We,V_:()=>ve,Ye:()=>Te,b0:()=>je,bD:()=>As,ez:()=>xs,q:()=>j,sg:()=>Li,w_:()=>ue});var x=D(1571);let v=null;function j(){return v}function Y(T){v||(v=T)}class ue{}const Ee=new x.OlP("DocumentToken");let Fe=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=x.Yz7({token:T,factory:function(){return function he(){return(0,x.LFG)(ce)}()},providedIn:"platform"}),T})();const ve=new x.OlP("Location Initialized");let ce=(()=>{class T extends Fe{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(P){const q=j().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",P,!1),()=>q.removeEventListener("popstate",P)}onHashChange(P){const q=j().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",P,!1),()=>q.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,q,le){G()?this._history.pushState(P,q,le):this.location.hash=le}replaceState(P,q,le){G()?this._history.replaceState(P,q,le):this.location.hash=le}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return T.\u0275fac=function(P){return new(P||T)(x.LFG(Ee))},T.\u0275prov=x.Yz7({token:T,factory:function(){return function ye(){return new ce((0,x.LFG)(Ee))}()},providedIn:"platform"}),T})();function G(){return!!window.history.pushState}function fe(T,V){if(0==T.length)return V;if(0==V.length)return T;let P=0;return T.endsWith("/")&&P++,V.startsWith("/")&&P++,2==P?T+V.substring(1):1==P?T+V:T+"/"+V}function Ne(T){const V=T.match(/#|\?|$/),P=V&&V.index||T.length;return T.slice(0,P-("/"===T[P-1]?1:0))+T.slice(P)}function _e(T){return T&&"?"!==T[0]?"?"+T:T}let We=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=x.Yz7({token:T,factory:function(){return(0,x.f3M)(je)},providedIn:"root"}),T})();const Qe=new x.OlP("appBaseHref");let je=(()=>{class T extends We{constructor(P,q){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,x.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return fe(this._baseHref,P)}path(P=!1){const q=this._platformLocation.pathname+_e(this._platformLocation.search),le=this._platformLocation.hash;return le&&P?`${q}${le}`:q}pushState(P,q,le,Oe){const Ue=this.prepareExternalUrl(le+_e(Oe));this._platformLocation.pushState(P,q,Ue)}replaceState(P,q,le,Oe){const Ue=this.prepareExternalUrl(le+_e(Oe));this._platformLocation.replaceState(P,q,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(x.LFG(Fe),x.LFG(Qe,8))},T.\u0275prov=x.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),at=(()=>{class T extends We{constructor(P,q){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(P){const q=fe(this._baseHref,P);return q.length>0?"#"+q:q}pushState(P,q,le,Oe){let Ue=this.prepareExternalUrl(le+_e(Oe));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(P,q,Ue)}replaceState(P,q,le,Oe){let Ue=this.prepareExternalUrl(le+_e(Oe));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(P,q,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(x.LFG(Fe),x.LFG(Qe,8))},T.\u0275prov=x.Yz7({token:T,factory:T.\u0275fac}),T})(),Te=(()=>{class T{constructor(P){this._subject=new x.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const q=this._locationStrategy.getBaseHref();this._baseHref=Ne(It(q)),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,q=""){return this.path()==this.normalize(P+_e(q))}normalize(P){return T.stripTrailingSlash(function et(T,V){return T&&V.startsWith(T)?V.substring(T.length):V}(this._baseHref,It(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,q="",le=null){this._locationStrategy.pushState(le,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+_e(q)),le)}replaceState(P,q="",le=null){this._locationStrategy.replaceState(le,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+_e(q)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",q){this._urlChangeListeners.forEach(le=>le(P,q))}subscribe(P,q,le){return this._subject.subscribe({next:P,error:q,complete:le})}}return T.normalizeQueryParams=_e,T.joinWithSlash=fe,T.stripTrailingSlash=Ne,T.\u0275fac=function(P){return new(P||T)(x.LFG(We))},T.\u0275prov=x.Yz7({token:T,factory:function(){return function Re(){return new Te((0,x.LFG)(We))}()},providedIn:"root"}),T})();function It(T){return T.replace(/\/index.html$/,"")}function ki(T,V){V=encodeURIComponent(V);for(const P of T.split(";")){const q=P.indexOf("="),[le,Oe]=-1==q?[P,""]:[P.slice(0,q),P.slice(q+1)];if(le.trim()===V)return decodeURIComponent(Oe)}return null}class Bt{constructor(V,P,q,le){this.$implicit=V,this.ngForOf=P,this.index=q,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class T{constructor(P,q,le){this._viewContainer=P,this._template=q,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const q=this._viewContainer;P.forEachOperation((le,Oe,Ue)=>{if(null==le.previousIndex)q.createEmbeddedView(this._template,new Bt(le.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)q.remove(null===Oe?void 0:Oe);else if(null!==Oe){const lt=q.get(Oe);q.move(lt,Ue),ao(lt,le)}});for(let le=0,Oe=q.length;le<Oe;le++){const lt=q.get(le).context;lt.index=le,lt.count=Oe,lt.ngForOf=this._ngForOf}P.forEachIdentityChange(le=>{ao(q.get(le.currentIndex),le)})}static ngTemplateContextGuard(P,q){return!0}}return T.\u0275fac=function(P){return new(P||T)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(x.ZZ4))},T.\u0275dir=x.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function ao(T,V){T.context.$implicit=V.item}let xs=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=x.oAB({type:T}),T.\u0275inj=x.cJS({}),T})();const As="browser";let Pr=(()=>{class T{}return T.\u0275prov=(0,x.Yz7)({token:T,providedIn:"root",factory:()=>new zt((0,x.LFG)(Ee),window)}),T})();class zt{constructor(V,P){this.document=V,this.window=P,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const P=function Fn(T,V){const P=T.getElementById(V)||T.getElementsByName(V)[0];if(P)return P;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const q=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let le=q.currentNode;for(;le;){const Oe=le.shadowRoot;if(Oe){const Ue=Oe.getElementById(V)||Oe.querySelector(`[name="${V}"]`);if(Ue)return Ue}le=q.nextNode()}}return null}(this.document,V);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(V){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=V)}}scrollToElement(V){const P=V.getBoundingClientRect(),q=P.left+this.window.pageXOffset,le=P.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(q-Oe[0],le-Oe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const V=Ja(this.window.history)||Ja(Object.getPrototypeOf(this.window.history));return!(!V||!V.writable&&!V.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ja(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Xa{}},529:(ie,oe,D)=>{"use strict";D.d(oe,{JF:()=>wt,LE:()=>Qe,TP:()=>rn,WM:()=>ve,eN:()=>tt});var x=D(6895),v=D(1571),j=D(9646),Q=D(9751),Y=D(4351),ue=D(9300),Ee=D(4004);class Fe{}class he{}class ve{constructor(de){this.normalizedNames=new Map,this.lazyUpdate=null,de?this.lazyInit="string"==typeof de?()=>{this.headers=new Map,de.split("\n").forEach(ae=>{const ke=ae.indexOf(":");if(ke>0){const Ge=ae.slice(0,ke),Dt=Ge.toLowerCase(),Nt=ae.slice(ke+1).trim();this.maybeSetNormalizedName(Ge,Dt),this.headers.has(Dt)?this.headers.get(Dt).push(Nt):this.headers.set(Dt,[Nt])}})}:()=>{this.headers=new Map,Object.keys(de).forEach(ae=>{let ke=de[ae];const Ge=ae.toLowerCase();"string"==typeof ke&&(ke=[ke]),ke.length>0&&(this.headers.set(Ge,ke),this.maybeSetNormalizedName(ae,Ge))})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const ae=this.headers.get(de.toLowerCase());return ae&&ae.length>0?ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,ae){return this.clone({name:de,value:ae,op:"a"})}set(de,ae){return this.clone({name:de,value:ae,op:"s"})}delete(de,ae){return this.clone({name:de,value:ae,op:"d"})}maybeSetNormalizedName(de,ae){this.normalizedNames.has(ae)||this.normalizedNames.set(ae,de)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(ae=>{this.headers.set(ae,de.headers.get(ae)),this.normalizedNames.set(ae,de.normalizedNames.get(ae))})}clone(de){const ae=new ve;return ae.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,ae.lazyUpdate=(this.lazyUpdate||[]).concat([de]),ae}applyUpdate(de){const ae=de.name.toLowerCase();switch(de.op){case"a":case"s":let ke=de.value;if("string"==typeof ke&&(ke=[ke]),0===ke.length)return;this.maybeSetNormalizedName(de.name,ae);const Ge=("a"===de.op?this.headers.get(ae):void 0)||[];Ge.push(...ke),this.headers.set(ae,Ge);break;case"d":const Dt=de.value;if(Dt){let Nt=this.headers.get(ae);if(!Nt)return;Nt=Nt.filter(Yt=>-1===Dt.indexOf(Yt)),0===Nt.length?(this.headers.delete(ae),this.normalizedNames.delete(ae)):this.headers.set(ae,Nt)}else this.headers.delete(ae),this.normalizedNames.delete(ae)}}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(ae=>de(this.normalizedNames.get(ae),this.headers.get(ae)))}}class G{encodeKey(de){return _e(de)}encodeValue(de){return _e(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const fe=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _e(Be){return encodeURIComponent(Be).replace(fe,(de,ae)=>Ne[ae]??de)}function We(Be){return`${Be}`}class Qe{constructor(de={}){if(this.updates=null,this.cloneFrom=null,this.encoder=de.encoder||new G,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(Be,de){const ae=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(Ge=>{const Dt=Ge.indexOf("="),[Nt,Yt]=-1==Dt?[de.decodeKey(Ge),""]:[de.decodeKey(Ge.slice(0,Dt)),de.decodeValue(Ge.slice(Dt+1))],ct=ae.get(Nt)||[];ct.push(Yt),ae.set(Nt,ct)}),ae}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(ae=>{const ke=de.fromObject[ae],Ge=Array.isArray(ke)?ke.map(We):[We(ke)];this.map.set(ae,Ge)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const ae=this.map.get(de);return ae?ae[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,ae){return this.clone({param:de,value:ae,op:"a"})}appendAll(de){const ae=[];return Object.keys(de).forEach(ke=>{const Ge=de[ke];Array.isArray(Ge)?Ge.forEach(Dt=>{ae.push({param:ke,value:Dt,op:"a"})}):ae.push({param:ke,value:Ge,op:"a"})}),this.clone(ae)}set(de,ae){return this.clone({param:de,value:ae,op:"s"})}delete(de,ae){return this.clone({param:de,value:ae,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const ae=this.encoder.encodeKey(de);return this.map.get(de).map(ke=>ae+"="+this.encoder.encodeValue(ke)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const ae=new Qe({encoder:this.encoder});return ae.cloneFrom=this.cloneFrom||this,ae.updates=(this.updates||[]).concat(de),ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const ae=("a"===de.op?this.map.get(de.param):void 0)||[];ae.push(We(de.value)),this.map.set(de.param,ae);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let ke=this.map.get(de.param)||[];const Ge=ke.indexOf(We(de.value));-1!==Ge&&ke.splice(Ge,1),ke.length>0?this.map.set(de.param,ke):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class at{constructor(){this.map=new Map}set(de,ae){return this.map.set(de,ae),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function Re(Be){return typeof ArrayBuffer<"u"&&Be instanceof ArrayBuffer}function et(Be){return typeof Blob<"u"&&Be instanceof Blob}function It(Be){return typeof FormData<"u"&&Be instanceof FormData}class ze{constructor(de,ae,ke,Ge){let Dt;if(this.url=ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=de.toUpperCase(),function Te(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ge?(this.body=void 0!==ke?ke:null,Dt=Ge):Dt=ke,Dt&&(this.reportProgress=!!Dt.reportProgress,this.withCredentials=!!Dt.withCredentials,Dt.responseType&&(this.responseType=Dt.responseType),Dt.headers&&(this.headers=Dt.headers),Dt.context&&(this.context=Dt.context),Dt.params&&(this.params=Dt.params)),this.headers||(this.headers=new ve),this.context||(this.context=new at),this.params){const Nt=this.params.toString();if(0===Nt.length)this.urlWithParams=ae;else{const Yt=ae.indexOf("?");this.urlWithParams=ae+(-1===Yt?"?":Yt<ae.length-1?"&":"")+Nt}}else this.params=new Qe,this.urlWithParams=ae}serializeBody(){return null===this.body?null:Re(this.body)||et(this.body)||It(this.body)||function nt(Be){return typeof URLSearchParams<"u"&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:et(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const ae=de.method||this.method,ke=de.url||this.url,Ge=de.responseType||this.responseType,Dt=void 0!==de.body?de.body:this.body,Nt=void 0!==de.withCredentials?de.withCredentials:this.withCredentials,Yt=void 0!==de.reportProgress?de.reportProgress:this.reportProgress;let ct=de.headers||this.headers,Nn=de.params||this.params;const un=de.context??this.context;return void 0!==de.setHeaders&&(ct=Object.keys(de.setHeaders).reduce((lr,ut)=>lr.set(ut,de.setHeaders[ut]),ct)),de.setParams&&(Nn=Object.keys(de.setParams).reduce((lr,ut)=>lr.set(ut,de.setParams[ut]),Nn)),new ze(ae,ke,Dt,{params:Nn,headers:ct,context:un,reportProgress:Yt,responseType:Ge,withCredentials:Nt})}}var Ze=(()=>((Ze=Ze||{})[Ze.Sent=0]="Sent",Ze[Ze.UploadProgress=1]="UploadProgress",Ze[Ze.ResponseHeader=2]="ResponseHeader",Ze[Ze.DownloadProgress=3]="DownloadProgress",Ze[Ze.Response=4]="Response",Ze[Ze.User=5]="User",Ze))();class be{constructor(de,ae=200,ke="OK"){this.headers=de.headers||new ve,this.status=void 0!==de.status?de.status:ae,this.statusText=de.statusText||ke,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends be{constructor(de={}){super(de),this.type=Ze.ResponseHeader}clone(de={}){return new Ae({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Le extends be{constructor(de={}){super(de),this.type=Ze.Response,this.body=void 0!==de.body?de.body:null}clone(de={}){return new Le({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Pe extends be{constructor(de){super(de,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function ot(Be,de){return{body:de,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let tt=(()=>{class Be{constructor(ae){this.handler=ae}request(ae,ke,Ge={}){let Dt;if(ae instanceof ze)Dt=ae;else{let ct,Nn;ct=Ge.headers instanceof ve?Ge.headers:new ve(Ge.headers),Ge.params&&(Nn=Ge.params instanceof Qe?Ge.params:new Qe({fromObject:Ge.params})),Dt=new ze(ae,ke,void 0!==Ge.body?Ge.body:null,{headers:ct,context:Ge.context,params:Nn,reportProgress:Ge.reportProgress,responseType:Ge.responseType||"json",withCredentials:Ge.withCredentials})}const Nt=(0,j.of)(Dt).pipe((0,Y.b)(ct=>this.handler.handle(ct)));if(ae instanceof ze||"events"===Ge.observe)return Nt;const Yt=Nt.pipe((0,ue.h)(ct=>ct instanceof Le));switch(Ge.observe||"body"){case"body":switch(Dt.responseType){case"arraybuffer":return Yt.pipe((0,Ee.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ct.body}));case"blob":return Yt.pipe((0,Ee.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof Blob))throw new Error("Response is not a Blob.");return ct.body}));case"text":return Yt.pipe((0,Ee.U)(ct=>{if(null!==ct.body&&"string"!=typeof ct.body)throw new Error("Response is not a string.");return ct.body}));default:return Yt.pipe((0,Ee.U)(ct=>ct.body))}case"response":return Yt;default:throw new Error(`Unreachable: unhandled observe type ${Ge.observe}}`)}}delete(ae,ke={}){return this.request("DELETE",ae,ke)}get(ae,ke={}){return this.request("GET",ae,ke)}head(ae,ke={}){return this.request("HEAD",ae,ke)}jsonp(ae,ke){return this.request("JSONP",ae,{params:(new Qe).append(ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ae,ke={}){return this.request("OPTIONS",ae,ke)}patch(ae,ke,Ge={}){return this.request("PATCH",ae,ot(Ge,ke))}post(ae,ke,Ge={}){return this.request("POST",ae,ot(Ge,ke))}put(ae,ke,Ge={}){return this.request("PUT",ae,ot(Ge,ke))}}return Be.\u0275fac=function(ae){return new(ae||Be)(v.LFG(Fe))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class Rt{constructor(de,ae){this.next=de,this.interceptor=ae}handle(de){return this.interceptor.intercept(de,this.next)}}const rn=new v.OlP("HTTP_INTERCEPTORS");let ur=(()=>{class Be{intercept(ae,ke){return ke.handle(ae)}}return Be.\u0275fac=function(ae){return new(ae||Be)},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const eo=/^\)\]\}',?\n/;let Zr=(()=>{class Be{constructor(ae){this.xhrFactory=ae}handle(ae){if("JSONP"===ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Q.y(ke=>{const Ge=this.xhrFactory.build();if(Ge.open(ae.method,ae.urlWithParams),ae.withCredentials&&(Ge.withCredentials=!0),ae.headers.forEach((ln,an)=>Ge.setRequestHeader(ln,an.join(","))),ae.headers.has("Accept")||Ge.setRequestHeader("Accept","application/json, text/plain, */*"),!ae.headers.has("Content-Type")){const ln=ae.detectContentTypeHeader();null!==ln&&Ge.setRequestHeader("Content-Type",ln)}if(ae.responseType){const ln=ae.responseType.toLowerCase();Ge.responseType="json"!==ln?ln:"text"}const Dt=ae.serializeBody();let Nt=null;const Yt=()=>{if(null!==Nt)return Nt;const ln=Ge.statusText||"OK",an=new ve(Ge.getAllResponseHeaders()),Dr=function ts(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(Ge)||ae.url;return Nt=new Ae({headers:an,status:Ge.status,statusText:ln,url:Dr}),Nt},ct=()=>{let{headers:ln,status:an,statusText:Dr,url:ei}=Yt(),hn=null;204!==an&&(hn=typeof Ge.response>"u"?Ge.responseText:Ge.response),0===an&&(an=hn?200:0);let Or=an>=200&&an<300;if("json"===ae.responseType&&"string"==typeof hn){const Ni=hn;hn=hn.replace(eo,"");try{hn=""!==hn?JSON.parse(hn):null}catch(zr){hn=Ni,Or&&(Or=!1,hn={error:zr,text:hn})}}Or?(ke.next(new Le({body:hn,headers:ln,status:an,statusText:Dr,url:ei||void 0})),ke.complete()):ke.error(new Pe({error:hn,headers:ln,status:an,statusText:Dr,url:ei||void 0}))},Nn=ln=>{const{url:an}=Yt(),Dr=new Pe({error:ln,status:Ge.status||0,statusText:Ge.statusText||"Unknown Error",url:an||void 0});ke.error(Dr)};let un=!1;const lr=ln=>{un||(ke.next(Yt()),un=!0);let an={type:Ze.DownloadProgress,loaded:ln.loaded};ln.lengthComputable&&(an.total=ln.total),"text"===ae.responseType&&!!Ge.responseText&&(an.partialText=Ge.responseText),ke.next(an)},ut=ln=>{let an={type:Ze.UploadProgress,loaded:ln.loaded};ln.lengthComputable&&(an.total=ln.total),ke.next(an)};return Ge.addEventListener("load",ct),Ge.addEventListener("error",Nn),Ge.addEventListener("timeout",Nn),Ge.addEventListener("abort",Nn),ae.reportProgress&&(Ge.addEventListener("progress",lr),null!==Dt&&Ge.upload&&Ge.upload.addEventListener("progress",ut)),Ge.send(Dt),ke.next({type:Ze.Sent}),()=>{Ge.removeEventListener("error",Nn),Ge.removeEventListener("abort",Nn),Ge.removeEventListener("load",ct),Ge.removeEventListener("timeout",Nn),ae.reportProgress&&(Ge.removeEventListener("progress",lr),null!==Dt&&Ge.upload&&Ge.upload.removeEventListener("progress",ut)),Ge.readyState!==Ge.DONE&&Ge.abort()}})}}return Be.\u0275fac=function(ae){return new(ae||Be)(v.LFG(x.JF))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Oi=new v.OlP("XSRF_COOKIE_NAME"),Xr=new v.OlP("XSRF_HEADER_NAME");class wr{}let ws=(()=>{class Be{constructor(ae,ke,Ge){this.doc=ae,this.platform=ke,this.cookieName=Ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ae=this.doc.cookie||"";return ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,x.Mx)(ae,this.cookieName),this.lastCookieString=ae),this.lastToken}}return Be.\u0275fac=function(ae){return new(ae||Be)(v.LFG(x.K0),v.LFG(v.Lbi),v.LFG(Oi))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),yi=(()=>{class Be{constructor(ae,ke){this.tokenService=ae,this.headerName=ke}intercept(ae,ke){const Ge=ae.url.toLowerCase();if("GET"===ae.method||"HEAD"===ae.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return ke.handle(ae);const Dt=this.tokenService.getToken();return null!==Dt&&!ae.headers.has(this.headerName)&&(ae=ae.clone({headers:ae.headers.set(this.headerName,Dt)})),ke.handle(ae)}}return Be.\u0275fac=function(ae){return new(ae||Be)(v.LFG(wr),v.LFG(Xr))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),On=(()=>{class Be{constructor(ae,ke){this.backend=ae,this.injector=ke,this.chain=null}handle(ae){if(null===this.chain){const ke=this.injector.get(rn,[]);this.chain=ke.reduceRight((Ge,Dt)=>new Rt(Ge,Dt),this.backend)}return this.chain.handle(ae)}}return Be.\u0275fac=function(ae){return new(ae||Be)(v.LFG(he),v.LFG(v.zs3))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),to=(()=>{class Be{static disable(){return{ngModule:Be,providers:[{provide:yi,useClass:ur}]}}static withOptions(ae={}){return{ngModule:Be,providers:[ae.cookieName?{provide:Oi,useValue:ae.cookieName}:[],ae.headerName?{provide:Xr,useValue:ae.headerName}:[]]}}}return Be.\u0275fac=function(ae){return new(ae||Be)},Be.\u0275mod=v.oAB({type:Be}),Be.\u0275inj=v.cJS({providers:[yi,{provide:rn,useExisting:yi,multi:!0},{provide:wr,useClass:ws},{provide:Oi,useValue:"XSRF-TOKEN"},{provide:Xr,useValue:"X-XSRF-TOKEN"}]}),Be})(),wt=(()=>{class Be{}return Be.\u0275fac=function(ae){return new(ae||Be)},Be.\u0275mod=v.oAB({type:Be}),Be.\u0275inj=v.cJS({providers:[tt,{provide:Fe,useClass:On},Zr,{provide:he,useExisting:Zr}],imports:[to.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Be})()},1571:(ie,oe,D)=>{"use strict";D.d(oe,{tb:()=>bv,AFp:()=>Dv,ip1:()=>wv,CZH:()=>jh,hGG:()=>nD,z2F:()=>$h,sBO:()=>Vw,Sil:()=>ww,_Vd:()=>Ji,EJc:()=>_w,Xts:()=>Ws,SBq:()=>Aa,lqb:()=>Yi,qLn:()=>Oo,vpe:()=>Es,XFs:()=>wt,OlP:()=>St,zs3:()=>gr,ZZ4:()=>Dp,aQg:()=>Cp,soG:()=>Uh,YKP:()=>P0,h0i:()=>$u,PXZ:()=>Ow,R0b:()=>Ri,FiY:()=>wo,Lbi:()=>mw,g9A:()=>Sv,Qsj:()=>_d,FYo:()=>qc,JOm:()=>gi,WD2:()=>ji,tp0:()=>ca,Rgc:()=>_c,dDg:()=>Tw,eoX:()=>Pv,GfV:()=>fu,s_b:()=>Bh,ifc:()=>Yt,MMx:()=>Zf,Lck:()=>oE,eFA:()=>Nv,G48:()=>Hw,Gpc:()=>Ne,f3M:()=>il,_c5:()=>tD,c2e:()=>vw,zSh:()=>du,wAp:()=>At,vHH:()=>je,lri:()=>Tv,rWj:()=>Mv,D6c:()=>rD,cg1:()=>$f,kL8:()=>n0,dqk:()=>ct,Z0I:()=>Oi,sIi:()=>cc,CqO:()=>um,QGY:()=>kf,QP$:()=>jn,F4k:()=>am,RDi:()=>Qh,AaK:()=>G,qOj:()=>Af,TTD:()=>Ui,_Bn:()=>M0,jDz:()=>O0,xp6:()=>f,uIk:()=>Tf,ekj:()=>Hf,Suo:()=>X0,Xpm:()=>zr,lG2:()=>$o,Yz7:()=>er,cJS:()=>ts,oAB:()=>io,Yjl:()=>so,Y36:()=>Au,_UZ:()=>Rf,qZA:()=>Mh,TgZ:()=>Th,n5z:()=>Ie,LFG:()=>$n,$8M:()=>ft,$Z:()=>yg,NdJ:()=>Lf,CRH:()=>Q0,Q6J:()=>Mf,iGM:()=>Z0,LSH:()=>qi,YNc:()=>sm,_uU:()=>km,Oqu:()=>jf});var x=D(7579),v=D(727),j=D(9751),Q=D(6451),Y=D(8421),ue=D(930),Ee=D(4482);function he(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new ue.Hp({next:()=>{i.unsubscribe(),e()}});return t(...n).subscribe(i)}function ve(e){for(let t in e)if(e[t]===ve)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function G(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(G).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ye(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fe=ve({__forward_ref__:ve});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return G(this())},e}function _e(e){return We(e)?e():e}function We(e){return"function"==typeof e&&e.hasOwnProperty(fe)&&e.__forward_ref__===Ne}class je extends Error{constructor(t,n){super(function at(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Te(e){return"string"==typeof e?e:null==e?"":String(e)}function ze(e,t){throw new je(-201,!1)}function Gt(e,t){null==e&&function Ot(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function er(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ts(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zr(e){return Xr(e,On)||Xr(e,Ds)}function Oi(e){return null!==Zr(e)}function Xr(e,t){return e.hasOwnProperty(t)?e[t]:null}function yi(e){return e&&(e.hasOwnProperty(Qr)||e.hasOwnProperty(to))?e[Qr]:null}const On=ve({\u0275prov:ve}),Qr=ve({\u0275inj:ve}),Ds=ve({ngInjectableDef:ve}),to=ve({ngInjectorDef:ve});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Cs;function Be(e){const t=Cs;return Cs=e,t}function de(e,t,n){const i=Zr(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&wt.Optional?null:void 0!==t?t:void ze(G(e))}function ke(e){return{toString:e}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),Yt=(()=>{return(e=Yt||(Yt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Yt;var e})();const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lr={},ut=[],ln=ve({\u0275cmp:ve}),an=ve({\u0275dir:ve}),Dr=ve({\u0275pipe:ve}),ei=ve({\u0275mod:ve}),hn=ve({\u0275fac:ve}),Or=ve({__NG_ELEMENT_ID__:ve});let Ni=0;function zr(e){return ke(()=>{const n=!0===e.standalone,i={},c={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Yt.Emulated,id:"c"+Ni++,styles:e.styles||ut,_:null,setInput:null,schemas:e.schemas||null,tView:null},d=e.dependencies,m=e.features;return c.inputs=Uo(e.inputs,i),c.outputs=Uo(e.outputs),m&&m.forEach(C=>C(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(jo).filter(ro):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(wn).filter(ro):null,c})}function jo(e){return nn(e)||tr(e)}function ro(e){return null!==e}function io(e){return ke(()=>({type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Uo(e,t){if(null==e)return lr;const n={};for(const i in e)if(e.hasOwnProperty(i)){let c=e[i],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),n[c]=i,t&&(t[c]=d)}return n}const $o=zr;function so(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function nn(e){return e[ln]||null}function tr(e){return e[an]||null}function wn(e){return e[Dr]||null}function jn(e){const t=nn(e)||tr(e)||wn(e);return null!==t&&t.standalone}function cr(e,t){const n=e[ei]||null;if(!n&&!0===t)throw new Error(`Type ${G(e)} does not have '\u0275mod' property.`);return n}function Sn(e){return Array.isArray(e)&&"object"==typeof e[1]}function In(e){return Array.isArray(e)&&!0===e[1]}function Di(e){return 0!=(8&e.flags)}function Yr(e){return 2==(2&e.flags)}function zn(e){return 1==(1&e.flags)}function sn(e){return null!==e.template}function Ga(e){return 0!=(256&e[2])}function Mr(e,t){return e.hasOwnProperty(hn)?e[hn]:null}class ji{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ui(){return fo}function fo(e){return e.type.prototype.ngOnChanges&&(e.setInput=As),xs}function xs(){const e=Is(this),t=e?.current;if(t){const n=e.previous;if(n===lr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function As(e,t,n,i){const c=Is(e)||function Fs(e,t){return e[yn]=t}(e,{previous:lr,current:null}),d=c.current||(c.current={}),m=c.previous,C=this.declaredInputs[n],I=m[C];d[C]=new ji(I&&I.currentValue,t,m===lr),e[i]=t}Ui.ngInherit=!0;const yn="__ngSimpleChanges__";function Is(e){return e[yn]||null}function Fn(e){for(;Array.isArray(e);)e=e[0];return e}function Ki(e,t){return Fn(t[e])}function Zt(e,t){return Fn(t[e.index])}function ai(e,t){return e.data[t]}function bn(e,t){const n=t[e];return Sn(n)?n:n[0]}function Yo(e){return 4==(4&e[2])}function Ms(e){return 64==(64&e[2])}function Si(e,t){return null==t?null:e[t]}function eu(e){e[18]=0}function po(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Ft={lFrame:P(null),bindingsEnabled:!0};function ui(){return Ft.bindingsEnabled}function Ke(){return Ft.lFrame.lView}function jt(){return Ft.lFrame.tView}function fn(){let e=mn();for(;null!==e&&64===e.type;)e=e.parent;return e}function mn(){return Ft.lFrame.currentTNode}function nr(e,t){const n=Ft.lFrame;n.currentTNode=e,n.isParent=t}function or(){return Ft.lFrame.isParent}function pn(){return Ft.lFrame.bindingIndex++}function Zo(e,t){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,cn(t)}function cn(e){Ft.lFrame.currentDirectiveIndex=e}function vo(){return Ft.lFrame.currentQueryIndex}function ss(e){Ft.lFrame.currentQueryIndex=e}function nu(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Xo(e,t,n){if(n&wt.SkipSelf){let c=t,d=e;for(;!(c=c.parent,null!==c||n&wt.Host||(c=nu(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;t=c,e=d}const i=Ft.lFrame=V();return i.currentTNode=t,i.lView=e,!0}function T(e){const t=V(),n=e[1];Ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function V(){const e=Ft.lFrame,t=null===e?null:e.child;return null===t?P(e):t}function P(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function q(){const e=Ft.lFrame;return Ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const le=q;function Oe(){const e=q();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tt(){return Ft.lFrame.selectedIndex}function Mt(e){Ft.lFrame.selectedIndex=e}function vt(){const e=Ft.lFrame;return ai(e.tView,e.selectedIndex)}function Br(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:L,ngOnDestroy:z}=d;m&&(e.contentHooks||(e.contentHooks=[])).push(-n,m),C&&((e.contentHooks||(e.contentHooks=[])).push(n,C),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,C)),I&&(e.viewHooks||(e.viewHooks=[])).push(-n,I),L&&((e.viewHooks||(e.viewHooks=[])).push(n,L),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,L)),null!=z&&(e.destroyHooks||(e.destroyHooks=[])).push(n,z)}}function Ar(e,t,n){os(e,t,3,n)}function Hr(e,t,n,i){(3&e[2])===n&&os(e,t,n,i)}function ci(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function os(e,t,n,i){const d=i??-1,m=t.length-1;let C=0;for(let I=void 0!==i?65535&e[18]:0;I<m;I++)if("number"==typeof t[I+1]){if(C=t[I],null!=i&&C>=i)break}else t[I]<0&&(e[18]+=65536),(C<d||-1==d)&&(Qo(e,n,t,I),e[18]=(4294901760&e[18])+I+2),I++}function Qo(e,t,n,i){const c=n[i]<0,d=n[i+1],C=e[c?-n[i]:n[i]];if(c){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class as{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function yo(e,t,n){let i=0;for(;i<n.length;){const c=n[i];if("number"==typeof c){if(0!==c)break;i++;const d=n[i++],m=n[i++],C=n[i++];e.setAttribute(t,m,C,d)}else{const d=c,m=n[++i];xt(d)?e.setProperty(t,d,m):e.setAttribute(t,d,m),i++}}return i}function ta(e){return 3===e||4===e||6===e}function xt(e){return 64===e.charCodeAt(0)}function ks(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const c=t[i];"number"==typeof c?n=c:0===n||r(e,n,c,null,-1===n||2===n?t[++i]:null)}}return e}function r(e,t,n,i,c){let d=0,m=e.length;if(-1===t)m=-1;else for(;d<e.length;){const C=e[d++];if("number"==typeof C){if(C===t){m=-1;break}if(C>t){m=d-1;break}}}for(;d<e.length;){const C=e[d];if("number"==typeof C)break;if(C===n){if(null===i)return void(null!==c&&(e[d+1]=c));if(i===e[d+1])return void(e[d+2]=c)}d++,null!==i&&d++,null!==c&&d++}-1!==m&&(e.splice(m,0,t),d=m+1),e.splice(d++,0,n),null!==i&&e.splice(d++,0,i),null!==c&&e.splice(d++,0,c)}function u(e){return-1!==e}function l(e){return 32767&e}function p(e,t){let n=function h(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let y=!0;function _(e){const t=y;return y=e,t}let B=0;const k={};function S(e,t){const n=F(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,O(i.data,e),O(t,null),O(i.blueprint,null));const c=H(e,t),d=e.injectorIndex;if(u(c)){const m=l(c),C=p(c,t),I=C[1].data;for(let L=0;L<8;L++)t[d+L]=C[m+L]|I[m+L]}return t[d+8]=c,d}function O(e,t){e.push(0,0,0,0,0,0,0,0,t)}function F(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function H(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,c=t;for(;null!==c;){if(i=Ct(c),null===i)return-1;if(n++,c=c[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function R(e,t,n){!function b(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Or)&&(i=n[Or]),null==i&&(i=n[Or]=B++);const c=255&i;t.data[e+(c>>5)]|=1<<c}(e,t,n)}function X(e,t,n){if(n&wt.Optional)return e;ze()}function ne(e,t,n,i){if(n&wt.Optional&&void 0===i&&(i=null),0==(n&(wt.Self|wt.Host))){const c=e[9],d=Be(void 0);try{return c?c.get(t,i,n&wt.Optional):de(t,i,n&wt.Optional)}finally{Be(d)}}return X(i,0,n)}function ee(e,t,n,i=wt.Default,c){if(null!==e){if(1024&t[2]){const m=function Me(e,t,n,i,c){let d=e,m=t;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=Se(d,m,n,i|wt.Self,k);if(C!==k)return C;let I=d.parent;if(!I){const L=m[21];if(L){const z=L.get(n,k,i);if(z!==k)return z}I=Ct(m),m=m[15]}d=I}return c}(e,t,n,i,k);if(m!==k)return m}const d=Se(e,t,n,i,k);if(d!==k)return d}return ne(t,n,i,c)}function Se(e,t,n,i,c){const d=function se(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Or)?e[Or]:void 0;return"number"==typeof t?t>=0?255&t:ge:t}(n);if("function"==typeof d){if(!Xo(t,e,i))return i&wt.Host?X(c,0,i):ne(t,n,i,c);try{const m=d(i);if(null!=m||i&wt.Optional)return m;ze()}finally{le()}}else if("number"==typeof d){let m=null,C=F(e,t),I=-1,L=i&wt.Host?t[16][6]:null;for((-1===C||i&wt.SkipSelf)&&(I=-1===C?H(e,t):t[C+8],-1!==I&&we(i,!1)?(m=t[1],C=l(I),t=p(I,t)):C=-1);-1!==C;){const z=t[1];if(me(d,C,z.data)){const re=$(C,t,n,m,i,L);if(re!==k)return re}I=t[C+8],-1!==I&&we(i,t[1].data[C+8]===L)&&me(d,C,t)?(m=z,C=l(I),t=p(I,t)):C=-1}}return c}function $(e,t,n,i,c,d){const m=t[1],C=m.data[e+8],z=W(C,m,n,null==i?Yr(C)&&y:i!=m&&0!=(3&C.type),c&wt.Host&&d===C);return null!==z?Z(t,m,z,C):k}function W(e,t,n,i,c){const d=e.providerIndexes,m=t.data,C=1048575&d,I=e.directiveStart,z=d>>20,pe=c?C+z:e.directiveEnd;for(let xe=i?C:C+z;xe<pe;xe++){const Ve=m[xe];if(xe<I&&n===Ve||xe>=I&&Ve.type===n)return xe}if(c){const xe=m[I];if(xe&&sn(xe)&&xe.type===n)return I}return null}function Z(e,t,n,i){let c=e[n];const d=t.data;if(function Ns(e){return e instanceof as}(c)){const m=c;m.resolving&&function et(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Re(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Te(e)}(d[n]));const C=_(m.canSeeViewProviders);m.resolving=!0;const I=m.injectImpl?Be(m.injectImpl):null;Xo(e,i,wt.Default);try{c=e[n]=m.factory(void 0,d,e,i),t.firstCreatePass&&n>=i.directiveStart&&function xr(e,t,n){const{ngOnChanges:i,ngOnInit:c,ngDoCheck:d}=t.type.prototype;if(i){const m=fo(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,m),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,m)}c&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,c),d&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==I&&Be(I),_(C),m.resolving=!1,le()}}return c}function me(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function we(e,t){return!(e&wt.Self||e&wt.Host&&t)}class $e{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return ee(this._tNode,this._lView,t,i,n)}}function ge(){return new $e(fn(),Ke())}function Ie(e){return ke(()=>{const t=e.prototype.constructor,n=t[hn]||De(t),i=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==i;){const d=c[hn]||De(c);if(d&&d!==n)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function De(e){return We(e)?()=>{const t=De(_e(e));return t&&t()}:Mr(e)}function Ct(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function ft(e){return function U(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let c=0;for(;c<i;){const d=n[c];if(ta(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<i&&"string"==typeof n[c];)c++;else{if(d===t)return n[c+1];c+=2}}}return null}(fn(),e)}const Pt="__parameters__";function dn(e,t,n){return ke(()=>{const i=function Qt(e){return function(...n){if(e){const i=e(...n);for(const c in i)this[c]=i[c]}}}(t);function c(...d){if(this instanceof c)return i.apply(this,d),this;const m=new c(...d);return C.annotation=m,C;function C(I,L,z){const re=I.hasOwnProperty(Pt)?I[Pt]:Object.defineProperty(I,Pt,{value:[]})[Pt];for(;re.length<=z;)re.push(null);return(re[z]=re[z]||[]).push(m),I}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}class St{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=er({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Vt(i,t)):t!==e&&t.push(i)}return t}function Un(e,t){e.forEach(n=>Array.isArray(n)?Un(n,t):t(n))}function en(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function dr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function rr(e,t,n){let i=Vr(e,t);return i>=0?e[1|i]=n:(i=~i,function Xu(e,t,n,i){let c=e.length;if(c==t)e.push(n,i);else if(1===c)e.push(i,e[0]),e[0]=n;else{for(c--,e.push(e[c-1],e[c]);c>t;)e[c]=e[c-2],c--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Ir(e,t){const n=Vr(e,t);if(n>=0)return e[1|n]}function Vr(e,t){return function fr(e,t,n){let i=0,c=e.length>>n;for(;c!==i;){const d=i+(c-i>>1),m=e[d<<n];if(t===m)return d<<n;m>t?c=d:i=d+1}return~(c<<n)}(e,t,1)}const oa={},aa="__NG_DI_FLAG__",Hs="ngTempTokenPath",ua=/\n/gm,Vs="__source";let la;function Eo(e){const t=la;return la=e,t}function Ii(e,t=wt.Default){if(void 0===la)throw new je(-203,!1);return null===la?de(e,void 0,t):la.get(e,t&wt.Optional?null:void 0,t)}function $n(e,t=wt.Default){return(function _i(){return Cs}()||Ii)(_e(e),t)}function il(e,t=wt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),$n(e,t)}function bc(e){const t=[];for(let n=0;n<e.length;n++){const i=_e(e[n]);if(Array.isArray(i)){if(0===i.length)throw new je(900,!1);let c,d=wt.Default;for(let m=0;m<i.length;m++){const C=i[m],I=cs(C);"number"==typeof I?-1===I?c=C.token:d|=I:c=C}t.push($n(c,d))}else t.push($n(i))}return t}function Kn(e,t){return e[aa]=t,e.prototype[aa]=t,e}function cs(e){return e[aa]}const wo=Kn(dn("Optional"),8),ca=Kn(dn("SkipSelf"),4);let dl;function Qh(e){dl=e}class Mc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function zi(e){return e instanceof Mc?e.changingThisBreaksApplicationSecurity:e}const ad=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function qi(e){const t=function Ca(){const e=Ke();return e&&e[12]}();return t?t.sanitize(Gn.URL,e)||"":function bo(e,t){const n=function Pc(e){return e instanceof Mc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?zi(e):function wa(e){return(e=String(e)).match(ad)?e:"unsafe:"+e}(Te(e))}const Ws=new St("ENVIRONMENT_INITIALIZER"),Vc=new St("INJECTOR",-1),jc=new St("INJECTOR_DEF_TYPES");class lu{get(t,n=oa){if(n===oa){const i=new Error(`NullInjectorError: No provider for ${G(t)}!`);throw i.name="NullInjectorError",i}return n}}function Uc(...e){return{\u0275providers:bl(0,e)}}function bl(e,...t){const n=[],i=new Set;let c;return Un(t,d=>{const m=d;cu(m,n,[],i)&&(c||(c=[]),c.push(m))}),void 0!==c&&xl(c,n),n}function xl(e,t){for(let n=0;n<e.length;n++){const{providers:c}=e[n];Un(c,d=>{t.push(d)})}}function cu(e,t,n,i){if(!(e=_e(e)))return!1;let c=null,d=yi(e);const m=!d&&nn(e);if(d||m){if(m&&!m.standalone)return!1;c=e}else{const I=e.ngModule;if(d=yi(I),!d)return!1;c=I}const C=i.has(c);if(m){if(C)return!1;if(i.add(c),m.dependencies){const I="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of I)cu(L,t,n,i)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let L;i.add(c);try{Un(d.imports,z=>{cu(z,t,n,i)&&(L||(L=[]),L.push(z))})}finally{}void 0!==L&&xl(L,t)}if(!C){const L=Mr(c)||(()=>new c);t.push({provide:c,useFactory:L,deps:ut},{provide:jc,useValue:c,multi:!0},{provide:Ws,useValue:()=>$n(c),multi:!0})}const I=d.providers;null==I||C||Un(I,z=>{t.push(z)})}}return c!==e&&void 0!==e.providers}const Sa=ve({provide:String,useValue:ve});function Io(e){return null!==e&&"object"==typeof e&&Sa in e}function zs(e){return"function"==typeof e}const du=new St("Set Injector scope."),Il={},Wp={};let Kc;function Fl(){return void 0===Kc&&(Kc=new lu),Kc}class Yi{}class Gc extends Yi{constructor(t,n,i,c){super(),this.parent=n,this.source=i,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fo(t,m=>this.processProvider(m)),this.records.set(Vc,qs(void 0,this)),c.has("environment")&&this.records.set(Yi,qs(void 0,this));const d=this.records.get(du);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(jc.multi,ut,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Eo(this),i=Be(void 0);try{return t()}finally{Eo(n),Be(i)}}get(t,n=oa,i=wt.Default){this.assertNotDestroyed();const c=Eo(this),d=Be(void 0);try{if(!(i&wt.SkipSelf)){let C=this.records.get(t);if(void 0===C){const I=function gd(e){return"function"==typeof e||"object"==typeof e&&e instanceof St}(t)&&Zr(t);C=I&&this.injectableDefInScope(I)?qs(Tl(t),Il):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(i&wt.Self?Fl():this.parent).get(t,n=i&wt.Optional&&n===oa?null:n)}catch(m){if("NullInjectorError"===m.name){if((m[Hs]=m[Hs]||[]).unshift(G(t)),c)throw m;return function sl(e,t,n,i){const c=e[Hs];throw t[Vs]&&c.unshift(t[Vs]),e.message=function Zh(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=G(t);if(Array.isArray(t))c=t.map(G).join(" -> ");else if("object"==typeof t){let d=[];for(let m in t)if(t.hasOwnProperty(m)){let C=t[m];d.push(m+":"+("string"==typeof C?JSON.stringify(C):G(C)))}c=`{${d.join(", ")}}`}return`${n}${i?"("+i+")":""}[${c}]: ${e.replace(ua,"\n  ")}`}("\n"+e.message,c,n,i),e.ngTokenPath=c,e[Hs]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{Be(d),Eo(c)}}resolveInjectorInitializers(){const t=Eo(this),n=Be(void 0);try{const i=this.get(Ws.multi,ut,wt.Self);for(const c of i)c()}finally{Eo(t),Be(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(G(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(t){let n=zs(t=_e(t))?t:_e(t&&t.provide);const i=function Ml(e){return Io(e)?qs(void 0,e.useValue):qs(jr(e),Il)}(t);if(zs(t)||!0!==t.multi)this.records.get(n);else{let c=this.records.get(n);c||(c=qs(void 0,Il,!0),c.factory=()=>bc(c.multi),this.records.set(n,c)),n=t,c.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===Il&&(n.value=Wp,n.value=n.factory()),"object"==typeof n.value&&n.value&&function pd(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Tl(e){const t=Zr(e),n=null!==t?t.factory:Mr(e);if(null!==n)return n;if(e instanceof St)throw new je(204,!1);if(e instanceof Function)return function fd(e){const t=e.length;if(t>0)throw function Ai(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new je(204,!1);const n=function wr(e){const t=e&&(e[On]||e[Ds]);if(t){const n=function ws(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new je(204,!1)}function jr(e,t,n){let i;if(zs(e)){const c=_e(e);return Mr(c)||Tl(c)}if(Io(e))i=()=>_e(e.useValue);else if(function $c(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...bc(e.deps||[]));else if(function hu(e){return!(!e||!e.useExisting)}(e))i=()=>$n(_e(e.useExisting));else{const c=_e(e&&(e.useClass||e.provide));if(!function ba(e){return!!e.deps}(e))return Mr(c)||Tl(c);i=()=>new c(...bc(e.deps))}return i}function qs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Wc(e){return!!e.\u0275providers}function Fo(e,t){for(const n of e)Array.isArray(n)?Fo(n,t):Wc(n)?Fo(n.\u0275providers,t):t(n)}class zc{}class vd{resolveComponentFactory(t){throw function To(e){const t=Error(`No component factory found for ${G(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ji=(()=>{class e{}return e.NULL=new vd,e})();function xa(){return Po(fn(),Ke())}function Po(e,t){return new Aa(Zt(e,t))}let Aa=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=xa,e})();function yd(e){return e instanceof Aa?e.nativeElement:e}class qc{}let _d=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Yp(){const e=Ke(),n=bn(fn().index,e);return(Sn(n)?n:e)[11]}(),e})(),Ed=(()=>{class e{}return e.\u0275prov=er({token:e,providedIn:"root",factory:()=>null}),e})();class fu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pu=new fu("14.2.0"),fs={};function Ro(e){return e.ngOriginalError}class Oo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ro(t);for(;n&&Ro(n);)n=Ro(n);return n||null}}const Bl=new Map;let Ad=0;const Vl="__ngContext__";function pr(e,t){Sn(t)?(e[Vl]=t[20],function vu(e){Bl.set(e[20],e)}(t)):e[Vl]=t}function Ma(e){const t=e[Vl];return"number"==typeof t?function Qc(e){return Bl.get(e)||null}(t):t||null}function yu(e){const t=Ma(e);return t?Sn(t)?t:t.lView:null}function Ti(e){return e instanceof Function?e():e}var gi=(()=>((gi=gi||{})[gi.Important=1]="Important",gi[gi.DashCase=2]="DashCase",gi))();function Ra(e,t){return undefined(e,t)}function Oa(e){const t=e[3];return In(t)?t[3]:t}function Kl(e){return Wl(e[13])}function Gl(e){return Wl(e[4])}function Wl(e){for(;null!==e&&!In(e);)e=e[4];return e}function No(e,t,n,i,c){if(null!=i){let d,m=!1;In(i)?d=i:Sn(i)&&(m=!0,i=i[0]);const C=Fn(i);0===e&&null!==n?null==c?Cu(t,n,C):ps(t,n,C,c||null,!0):1===e&&null!==n?ps(t,n,C,c||null,!0):2===e?function fh(e,t,n){const i=Na(e,t);i&&function $d(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,C,m):3===e&&t.destroyNode(C),null!=d&&function ug(e,t,n,i,c){const d=n[7];d!==Fn(n)&&No(t,e,i,d,c);for(let C=10;C<n.length;C++){const I=n[C];Ba(I[1],I,e,t,i,d)}}(t,e,d,n,c)}}function ql(e,t,n){return e.createElement(t,n)}function Jl(e,t){const n=e[9],i=n.indexOf(t),c=t[3];512&t[2]&&(t[2]&=-513,po(c,-1)),n.splice(i,1)}function ko(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const c=i[17];null!==c&&c!==e&&Jl(c,i),t>0&&(e[n-1][4]=i[4]);const d=dr(e,10+t);!function Hd(e,t){Ba(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const m=d[19];null!==m&&m.detachView(d[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function jd(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Ba(e,t,n,3,null,null),function og(e){let t=e[13];if(!t)return Du(e[1],e);for(;t;){let n=null;if(Sn(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Sn(t)&&Du(t[1],t),t=t[3];null===t&&(t=e),Sn(t)&&Du(t[1],t),n=t&&t[4]}t=n}}(t)}}function Du(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Zl(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const c=t[n[i]];if(!(c instanceof as)){const d=n[i+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const C=c[d[m]],I=d[m+1];try{I.call(C)}finally{}}else try{d.call(c)}finally{}}}}(e,t),function Lo(e,t){const n=e.cleanup,i=t[7];let c=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const m=n[d+1],C="function"==typeof m?m(t):Fn(t[m]),I=i[c=n[d+2]],L=n[d+3];"boolean"==typeof L?C.removeEventListener(n[d],I,L):L>=0?i[c=L]():i[c=-L].unsubscribe(),d+=2}else{const m=i[c=n[d+1]];n[d].call(m)}if(null!==i){for(let d=c+1;d<i.length;d++)(0,i[d])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&In(t[3])){n!==t[3]&&Jl(n,t);const i=t[19];null!==i&&i.detachView(e)}!function Fd(e){Bl.delete(e[20])}(t)}}function Ud(e,t,n){return function Xl(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const c=e.data[i.directiveStart].encapsulation;if(c===Yt.None||c===Yt.Emulated)return null}return Zt(i,n)}(e,t.parent,n)}function ps(e,t,n,i,c){e.insertBefore(t,n,i,c)}function Cu(e,t,n){e.appendChild(t,n)}function ch(e,t,n,i,c){null!==i?ps(e,t,n,i,c):Cu(e,t,n)}function Na(e,t){return e.parentNode(t)}let Wd=function ka(e,t,n){return 40&e.type?Zt(e,n):null};function bu(e,t,n,i){const c=Ud(e,i,t),d=t[11],C=function Gd(e,t,n){return Wd(e,t,n)}(i.parent||t[6],i,t);if(null!=c)if(Array.isArray(n))for(let I=0;I<n.length;I++)ch(d,c,n[I],C,!1);else ch(d,c,n,C,!1)}function La(e,t){if(null!==t){const n=t.type;if(3&n)return Zt(t,e);if(4&n)return Ql(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return La(e,i);{const c=e[t.index];return In(c)?Ql(-1,c):Fn(c)}}if(32&n)return Ra(t,e)()||Fn(e[t.index]);{const i=dh(e,t);return null!==i?Array.isArray(i)?i[0]:La(Oa(e[16]),i):La(e,t.next)}}return null}function dh(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ql(e,t){const n=10+e+1;if(n<t.length){const i=t[n],c=i[1].firstChild;if(null!==c)return La(i,c)}return t[7]}function ec(e,t,n,i,c,d,m){for(;null!=n;){const C=i[n.index],I=n.type;if(m&&0===t&&(C&&pr(Fn(C),i),n.flags|=4),64!=(64&n.flags))if(8&I)ec(e,t,n.child,i,c,d,!1),No(t,e,c,C,d);else if(32&I){const L=Ra(n,i);let z;for(;z=L();)No(t,e,c,z,d);No(t,e,c,C,d)}else 16&I?gh(e,t,i,n,c,d):No(t,e,c,C,d);n=m?n.projectionNext:n.next}}function Ba(e,t,n,i,c,d){ec(n,i,e.firstChild,t,c,d,!1)}function gh(e,t,n,i,c,d){const m=n[16],I=m[6].projection[i.projection];if(Array.isArray(I))for(let L=0;L<I.length;L++)No(t,e,c,I[L],d);else ec(e,t,I,m[3],c,d,!0)}function mh(e,t,n){e.setAttribute(t,"style",n)}function tc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nc(e,t,n){let i=e.length;for(;;){const c=e.indexOf(t,n);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=t.length;if(c+d===i||e.charCodeAt(c+d)<=32)return c}n=c+1}}const rc="ng-template";function qd(e,t,n){let i=0;for(;i<e.length;){let c=e[i++];if(n&&"class"===c){if(c=e[i],-1!==nc(c.toLowerCase(),t,0))return!0}else if(1===c){for(;i<e.length&&"string"==typeof(c=e[i++]);)if(c.toLowerCase()===t)return!0;return!1}}return!1}function ic(e){return 4===e.type&&e.value!==rc}function Yd(e,t,n){return t===(4!==e.type||n?e.value:rc)}function Jd(e,t,n){let i=4;const c=e.attrs||[],d=function Xd(e){for(let t=0;t<e.length;t++)if(ta(e[t]))return t;return e.length}(c);let m=!1;for(let C=0;C<t.length;C++){const I=t[C];if("number"!=typeof I){if(!m)if(4&i){if(i=2|1&i,""!==I&&!Yd(e,I,n)||""===I&&1===t.length){if(mi(i))return!1;m=!0}}else{const L=8&i?I:t[++C];if(8&i&&null!==e.attrs){if(!qd(e.attrs,L,n)){if(mi(i))return!1;m=!0}continue}const re=cg(8&i?"class":I,c,ic(e),n);if(-1===re){if(mi(i))return!1;m=!0;continue}if(""!==L){let pe;pe=re>d?"":c[re+1].toLowerCase();const xe=8&i?pe:null;if(xe&&-1!==nc(xe,L,0)||2&i&&L!==pe){if(mi(i))return!1;m=!0}}}}else{if(!m&&!mi(i)&&!mi(I))return!1;if(m&&mi(I))continue;m=!1,i=I|1&i}}return mi(i)||m}function mi(e){return 0==(1&e)}function cg(e,t,n,i){if(null===t)return-1;let c=0;if(i||!n){let d=!1;for(;c<t.length;){const m=t[c];if(m===e)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let C=t[++c];for(;"string"==typeof C;)C=t[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function Qd(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Zd(e,t,n=!1){for(let i=0;i<t.length;i++)if(Jd(e,t[i],n))return!0;return!1}function vh(e,t){return e?":not("+t.trim()+")":t}function hg(e){let t=e[0],n=1,i=2,c="",d=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&i){const C=e[++n];c+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&i?c+="."+m:4&i&&(c+=" "+m);else""!==c&&!mi(m)&&(t+=vh(d,c),c=""),i=m,d=d||!mi(i);n++}return""!==c&&(t+=vh(d,c)),t}const s={};function f(e){E(jt(),Ke(),Tt()+e,!1)}function E(e,t,n,i){if(!i)if(3==(3&t[2])){const d=e.preOrderCheckHooks;null!==d&&Ar(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Hr(t,d,0,n)}Mt(n)}function Mi(e,t=null,n=null,i){const c=gs(e,t,n,i);return c.resolveInjectorInitializers(),c}function gs(e,t=null,n=null,i,c=new Set){const d=[n||ut,Uc(e)];return i=i||("object"==typeof e?void 0:G(e)),new Gc(d,t||Fl(),i||null,c)}let gr=(()=>{class e{static create(n,i){if(Array.isArray(n))return Mi({name:""},i,n,"");{const c=n.name??"";return Mi({name:c},n.parent,n.providers,c)}}}return e.THROW_IF_NOT_FOUND=oa,e.NULL=new lu,e.\u0275prov=er({token:e,providedIn:"any",factory:()=>$n(Vc)}),e.__NG_ELEMENT_ID__=-1,e})();function Au(e,t=wt.Default){const n=Ke();return null===n?$n(e,t):ee(fn(),n,_e(e),t)}function yg(){throw new Error("invalid")}function Eh(e,t){return e<<17|t<<2}function Zi(e){return e>>17&32767}function rf(e){return 2|e}function Zs(e){return(131068&e)>>2}function sf(e,t){return-131069&e|t<<2}function af(e){return 1|e}function Fg(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const c=n[i],d=n[i+1];if(-1!==d){const m=e.data[d];ss(c),m.contentQueries(2,t[d],d)}}}function Ch(e,t,n,i,c,d,m,C,I,L,z){const re=t.blueprint.slice();return re[0]=c,re[2]=76|i,(null!==z||e&&1024&e[2])&&(re[2]|=1024),eu(re),re[3]=re[15]=e,re[8]=n,re[10]=m||e&&e[10],re[11]=C||e&&e[11],re[12]=I||e&&e[12]||null,re[9]=L||e&&e[9]||null,re[6]=d,re[20]=function Id(){return Ad++}(),re[21]=z,re[16]=2==t.type?e[16]:re,re}function Iu(e,t,n,i,c){let d=e.data[t];if(null===d)d=function gf(e,t,n,i,c){const d=mn(),m=or(),I=e.data[t]=function Iy(e,t,n,i,c,d){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,n,t,i,c);return null===e.firstChild&&(e.firstChild=I),null!==d&&(m?null==d.child&&null!==I.parent&&(d.child=I):null===d.next&&(d.next=I)),I}(e,t,n,i,c),function Os(){return Ft.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=n,d.value=i,d.attrs=c;const m=function Jt(){const e=Ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return nr(d,!0),d}function Fu(e,t,n,i){if(0===n)return-1;const c=t.length;for(let d=0;d<n;d++)t.push(i),e.blueprint.push(i),e.data.push(null);return c}function Sh(e,t,n){T(t);try{const i=e.viewQuery;null!==i&&Sf(1,i,n);const c=e.template;null!==c&&Tg(e,t,c,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Fg(e,t),e.staticViewQueries&&Sf(2,e.viewQuery,n);const d=e.components;null!==d&&function Sy(e,t){for(let n=0;n<t.length;n++)Ky(e,t[n])}(t,d)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Oe()}}function ac(e,t,n,i){const c=t[2];if(128!=(128&c)){T(t);try{eu(t),function is(e){return Ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Tg(e,t,n,2,i);const m=3==(3&c);if(m){const L=e.preOrderCheckHooks;null!==L&&Ar(t,L,null)}else{const L=e.preOrderHooks;null!==L&&Hr(t,L,0,null),ci(t,0)}if(function Uy(e){for(let t=Kl(e);null!==t;t=Gl(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const c=n[i],d=c[3];0==(512&c[2])&&po(d,1),c[2]|=512}}}(t),function jy(e){for(let t=Kl(e);null!==t;t=Gl(t))for(let n=10;n<t.length;n++){const i=t[n],c=i[1];Ms(i)&&ac(c,i,c.template,i[8])}}(t),null!==e.contentQueries&&Fg(e,t),m){const L=e.contentCheckHooks;null!==L&&Ar(t,L)}else{const L=e.contentHooks;null!==L&&Hr(t,L,1),ci(t,1)}!function Dy(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const c=n[i];if(c<0)Mt(~c);else{const d=c,m=n[++i],C=n[++i];Zo(m,d),C(2,t[d])}}}finally{Mt(-1)}}(e,t);const C=e.components;null!==C&&function Cy(e,t){for(let n=0;n<t.length;n++)$y(e,t[n])}(t,C);const I=e.viewQuery;if(null!==I&&Sf(2,I,i),m){const L=e.viewCheckHooks;null!==L&&Ar(t,L)}else{const L=e.viewHooks;null!==L&&Hr(t,L,2),ci(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,po(t[3],-1))}finally{Oe()}}}function by(e,t,n,i){const c=t[10],m=Yo(t);try{!m&&c.begin&&c.begin(),m&&Sh(e,t,i),ac(e,t,n,i)}finally{!m&&c.end&&c.end()}}function Tg(e,t,n,i,c){const d=Tt(),m=2&i;try{Mt(-1),m&&t.length>22&&E(e,t,22,!1),n(i,c)}finally{Mt(d)}}function mf(e,t,n){!ui()||(function Ry(e,t,n,i){const c=n.directiveStart,d=n.directiveEnd;e.firstCreatePass||S(n,t),pr(i,t);const m=n.initialInputs;for(let C=c;C<d;C++){const I=e.data[C],L=sn(I);L&&By(t,n,I);const z=Z(t,e,C,n);pr(z,t),null!==m&&Hy(0,C-c,z,I,0,m),L&&(bn(n.index,t)[8]=z)}}(e,t,n,Zt(n,t)),128==(128&n.flags)&&function Oy(e,t,n){const i=n.directiveStart,c=n.directiveEnd,d=n.index,m=function Hn(){return Ft.lFrame.currentDirectiveIndex}();try{Mt(d);for(let C=i;C<c;C++){const I=e.data[C],L=t[C];cn(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Bg(I,L)}}finally{Mt(-1),cn(m)}}(e,t,n))}function vf(e,t,n=Zt){const i=t.localNames;if(null!==i){let c=t.index+1;for(let d=0;d<i.length;d+=2){const m=i[d+1],C=-1===m?n(t,e):e[m];e[c++]=C}}}function Pg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function yf(e,t,n,i,c,d,m,C,I,L){const z=22+i,re=z+c,pe=function xy(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:s);return n}(z,re),xe="function"==typeof L?L():L;return pe[1]={type:e,blueprint:pe,template:n,queries:null,viewQuery:C,declTNode:t,data:pe.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:I,consts:xe,incompleteFirstPass:!1}}function Rg(e,t,n,i){const c=Kg(t);null===n?c.push(i):(c.push(n),e.firstCreatePass&&Gg(e).push(i,c.length-1))}function Og(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const c=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,c):n[i]=[t,c]}return n}function Ng(e,t){const i=t.directiveEnd,c=e.data,d=t.attrs,m=[];let C=null,I=null;for(let L=t.directiveStart;L<i;L++){const z=c[L],re=z.inputs,pe=null===d||ic(t)?null:Vy(re,d);m.push(pe),C=Og(re,L,C),I=Og(z.outputs,L,I)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=16),C.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=m,t.inputs=C,t.outputs=I}function kg(e,t){const n=bn(t,e);16&n[2]||(n[2]|=32)}function _f(e,t,n,i){let c=!1;if(ui()){const d=function Ny(e,t,n){const i=e.directiveRegistry;let c=null;if(i)for(let d=0;d<i.length;d++){const m=i[d];Zd(n,m.selectors,!1)&&(c||(c=[]),R(S(n,t),e,m.type),sn(m)?(Hg(e,n),c.unshift(m)):c.push(m))}return c}(e,t,n),m=null===i?null:{"":-1};if(null!==d){c=!0,Vg(n,e.data.length,d.length);for(let z=0;z<d.length;z++){const re=d[z];re.providersResolver&&re.providersResolver(re)}let C=!1,I=!1,L=Fu(e,t,d.length,null);for(let z=0;z<d.length;z++){const re=d[z];n.mergedAttrs=ks(n.mergedAttrs,re.hostAttrs),jg(e,n,t,L,re),Ly(L,re,m),null!==re.contentQueries&&(n.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(n.flags|=128);const pe=re.type.prototype;!C&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),C=!0),!I&&(pe.ngOnChanges||pe.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),I=!0),L++}Ng(e,n)}m&&function ky(e,t,n){if(t){const i=e.localNames=[];for(let c=0;c<t.length;c+=2){const d=n[t[c+1]];if(null==d)throw new je(-301,!1);i.push(t[c],d)}}}(n,i,m)}return n.mergedAttrs=ks(n.mergedAttrs,n.attrs),c}function Lg(e,t,n,i,c,d){const m=d.hostBindings;if(m){let C=e.hostBindingOpCodes;null===C&&(C=e.hostBindingOpCodes=[]);const I=~t.index;(function Py(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(C)!=I&&C.push(I),C.push(i,c,m)}}function Bg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ly(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;sn(t)&&(n[""]=e)}}function Vg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function jg(e,t,n,i,c){e.data[i]=c;const d=c.factory||(c.factory=Mr(c.type)),m=new as(d,sn(c),Au);e.blueprint[i]=m,n[i]=m,Lg(e,t,0,i,Fu(e,n,c.hostVars,s),c)}function By(e,t,n){const i=Zt(t,e),c=Pg(n),d=e[10],m=bh(e,Ch(e,c,null,n.onPush?32:16,i,t,d,d.createRenderer(i,n),null,null,null));e[t.index]=m}function ms(e,t,n,i,c,d){const m=Zt(e,t);!function Ef(e,t,n,i,c,d,m){if(null==d)e.removeAttribute(t,c,n);else{const C=null==m?Te(d):m(d,i||"",c);e.setAttribute(t,c,C,n)}}(t[11],m,d,e.value,n,i,c)}function Hy(e,t,n,i,c,d){const m=d[t];if(null!==m){const C=i.setInput;for(let I=0;I<m.length;){const L=m[I++],z=m[I++],re=m[I++];null!==C?i.setInput(n,re,L,z):n[z]=re}}}function Vy(e,t){let n=null,i=0;for(;i<t.length;){const c=t[i];if(0!==c)if(5!==c){if("number"==typeof c)break;e.hasOwnProperty(c)&&(null===n&&(n=[]),n.push(c,e[c],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Ug(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function $y(e,t){const n=bn(t,e);if(Ms(n)){const i=n[1];48&n[2]?ac(i,n,i.template,n[8]):n[5]>0&&wf(n)}}function wf(e){for(let i=Kl(e);null!==i;i=Gl(i))for(let c=10;c<i.length;c++){const d=i[c];if(Ms(d))if(512&d[2]){const m=d[1];ac(m,d,m.template,d[8])}else d[5]>0&&wf(d)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const c=bn(n[i],e);Ms(c)&&c[5]>0&&wf(c)}}function Ky(e,t){const n=bn(t,e),i=n[1];(function Gy(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Sh(i,n,n[8])}function bh(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Df(e){for(;e;){e[2]|=32;const t=Oa(e);if(Ga(e)&&!t)return e;e=t}return null}function Sf(e,t,n){ss(0),t(e,n)}function Kg(e){return e[7]||(e[7]=[])}function Gg(e){return e.cleanup||(e.cleanup=[])}function zg(e,t){const n=e[9],i=n?n.get(Oo,null):null;i&&i.handleError(t)}function bf(e,t,n,i,c){for(let d=0;d<n.length;){const m=n[d++],C=n[d++],I=t[m],L=e.data[m];null!==L.setInput?L.setInput(I,c,i,C):I[C]=c}}function xh(e,t,n){let i=n?e.styles:null,c=n?e.classes:null,d=0;if(null!==t)for(let m=0;m<t.length;m++){const C=t[m];"number"==typeof C?d=C:1==d?c=ye(c,C):2==d&&(i=ye(i,C+": "+t[++m]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=c:e.classesWithoutHost=c}function Ah(e,t,n,i,c=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&i.push(Fn(d)),In(d))for(let C=10;C<d.length;C++){const I=d[C],L=I[1].firstChild;null!==L&&Ah(I[1],I,L,i)}const m=n.type;if(8&m)Ah(e,t,n.child,i);else if(32&m){const C=Ra(n,t);let I;for(;I=C();)i.push(I)}else if(16&m){const C=dh(t,n);if(Array.isArray(C))i.push(...C);else{const I=Oa(t[16]);Ah(I[1],I,C,i,!0)}}n=c?n.projectionNext:n.next}return i}class uc{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Ah(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(In(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(ko(t,i),dr(n,i))}this._attachedToViewContainer=!1}jd(this._lView[1],this._lView)}onDestroy(t){Rg(this._lView[1],this._lView,null,t)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Cf(e,t,n){const i=t[10];i.begin&&i.begin();try{ac(e,t,e.template,n)}catch(c){throw zg(t,c),c}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sg(e,t){Ba(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=t}}class zy extends uc{constructor(t){super(t),this._view=t}detectChanges(){!function $g(e){!function Wy(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=yu(n);if(null!==i){const c=i[1];by(c,i,c.template,n)}}}(e[8])}(this._view)}checkNoChanges(){}get context(){return null}}class xf extends Ji{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=nn(t);return new lc(n,this.ngModule)}}function qg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Yy{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){const c=this.injector.get(t,fs,i);return c!==fs||n===fs?c:this.parentInjector.get(t,n,i)}}class lc extends zc{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function a(e){return e.map(hg).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return qg(this.componentDef.inputs)}get outputs(){return qg(this.componentDef.outputs)}create(t,n,i,c){let d=(c=c||this.ngModule)instanceof Yi?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Yy(t,d):t,C=m.get(qc,null);if(null===C)throw new je(407,!1);const I=m.get(Ed,null),L=C.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",re=i?function Ay(e,t,n){return e.selectRootElement(t,n===Yt.ShadowDom)}(L,i,this.componentDef.encapsulation):ql(C.createRenderer(null,this.componentDef),z,function qy(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(z)),pe=this.componentDef.onPush?288:272,xe={components:[]},Ve=yf(0,null,null,1,0,null,null,null,null,null),Je=Ch(null,Ve,xe,pe,null,null,C,L,I,m,null);let it,ht;T(Je);try{const Et=function Xy(e,t,n,i,c,d){const m=n[1];n[22]=e;const I=Iu(m,22,2,"#host",null),L=I.mergedAttrs=t.hostAttrs;null!==L&&(xh(I,L,!0),null!==e&&(yo(c,e,L),null!==I.classes&&tc(c,e,I.classes),null!==I.styles&&mh(c,e,I.styles)));const z=i.createRenderer(e,t),re=Ch(n,Pg(t),null,t.onPush?32:16,n[22],I,i,z,d||null,null,null);return m.firstCreatePass&&(R(S(I,n),m,t.type),Hg(m,I),Vg(I,n.length,1)),bh(n,re),n[22]=re}(re,this.componentDef,Je,C,L);if(re)if(i)yo(L,re,["ng-version",pu.full]);else{const{attrs:qe,classes:bt}=function o(e){const t=[],n=[];let i=1,c=2;for(;i<e.length;){let d=e[i];if("string"==typeof d)2===c?""!==d&&t.push(d,e[++i]):8===c&&n.push(d);else{if(!mi(c))break;c=d}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);qe&&yo(L,re,qe),bt&&bt.length>0&&tc(L,re,bt.join(" "))}if(ht=ai(Ve,22),void 0!==n){const qe=ht.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const tn=n[bt];qe.push(null!=tn?Array.from(tn):null)}}it=function Qy(e,t,n,i,c){const d=n[1],m=function My(e,t,n){const i=fn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),jg(e,i,t,Fu(e,t,1,null),n),Ng(e,i));const c=Z(t,e,i.directiveStart,i);pr(c,t);const d=Zt(i,t);return d&&pr(d,t),c}(d,n,t);if(i.components.push(m),e[8]=m,null!==c)for(const I of c)I(m,t);if(t.contentQueries){const I=fn();t.contentQueries(1,m,I.directiveStart)}const C=fn();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mt(C.index),Lg(n[1],C,0,C.directiveStart,C.directiveEnd,t),Bg(t,m)),m}(Et,this.componentDef,Je,xe,[t1]),Sh(Ve,Je,null)}finally{Oe()}return new Zy(this.componentType,it,Po(ht,Je),Je,ht)}}class Zy extends class md{}{constructor(t,n,i,c,d){super(),this.location=i,this._rootLView=c,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new zy(c),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let c;if(null!==i&&(c=i[t])){const d=this._rootLView;bf(d[1],d,c,t,n),kg(d,this._tNode.index)}}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function t1(){const e=fn();Br(Ke()[1],e)}function Af(e){let t=function Yg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let c;if(sn(e))c=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new je(903,!1);c=t.\u0275dir}if(c){if(n){i.push(c);const m=e;m.inputs=If(e.inputs),m.declaredInputs=If(e.declaredInputs),m.outputs=If(e.outputs);const C=c.hostBindings;C&&s1(e,C);const I=c.viewQuery,L=c.contentQueries;if(I&&r1(e,I),L&&i1(e,L),ce(e.inputs,c.inputs),ce(e.declaredInputs,c.declaredInputs),ce(e.outputs,c.outputs),sn(c)&&c.data.animation){const z=e.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const C=d[m];C&&C.ngInherit&&C(e),C===Af&&(n=!1)}}t=Object.getPrototypeOf(t)}!function n1(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const c=e[i];c.hostVars=t+=c.hostVars,c.hostAttrs=ks(c.hostAttrs,n=ks(n,c.hostAttrs))}}(i)}function If(e){return e===lr?{}:e===ut?[]:e}function r1(e,t){const n=e.viewQuery;e.viewQuery=n?(i,c)=>{t(i,c),n(i,c)}:t}function i1(e,t){const n=e.contentQueries;e.contentQueries=n?(i,c,d)=>{t(i,c,d),n(i,c,d)}:t}function s1(e,t){const n=e.hostBindings;e.hostBindings=n?(i,c)=>{t(i,c),n(i,c)}:t}let Ih=null;function Ha(){if(!Ih){const e=ct.Symbol;if(e&&e.iterator)Ih=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ih=i)}}}return Ih}function cc(e){return!!Ff(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ha()in e)}function Ff(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Tf(e,t,n,i){const c=Ke();return Rr(c,pn(),t)&&(jt(),ms(vt(),c,e,t,n,i)),Tf}function sm(e,t,n,i,c,d,m,C){const I=Ke(),L=jt(),z=e+22,re=L.firstCreatePass?function f1(e,t,n,i,c,d,m,C,I){const L=t.consts,z=Iu(t,e,4,m||null,Si(L,C));_f(t,n,z,Si(L,I)),Br(t,z);const re=z.tViews=yf(2,z,i,c,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L);return null!==t.queries&&(t.queries.template(t,z),re.queries=t.queries.embeddedTView(z)),z}(z,L,I,t,n,i,c,d,m):L.data[z];nr(re,!1);const pe=I[11].createComment("");bu(L,I,pe,re),pr(pe,I),bh(I,I[z]=Ug(pe,I,pe,re)),zn(re)&&mf(L,I,re),null!=m&&vf(I,re,C)}function Mf(e,t,n){const i=Ke();return Rr(i,pn(),t)&&function vi(e,t,n,i,c,d,m,C){const I=Zt(t,n);let z,L=t.inputs;!C&&null!=L&&(z=L[i])?(bf(e,n,z,i,c),Yr(t)&&kg(n,t.index)):3&t.type&&(i=function Fy(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),c=null!=m?m(c,t.value||"",i):c,d.setProperty(I,i,c))}(jt(),vt(),i,e,t,i[11],n,!1),Mf}function Pf(e,t,n,i,c){const m=c?"class":"style";bf(e,n,t.inputs[m],m,i)}function Th(e,t,n,i){const c=Ke(),d=jt(),m=22+e,C=c[11],I=c[m]=ql(C,t,function Lr(){return Ft.lFrame.currentNamespace}()),L=d.firstCreatePass?function m1(e,t,n,i,c,d,m){const C=t.consts,L=Iu(t,e,2,c,Si(C,d));return _f(t,n,L,Si(C,m)),null!==L.attrs&&xh(L,L.attrs,!1),null!==L.mergedAttrs&&xh(L,L.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,L),L}(m,d,c,0,t,n,i):d.data[m];nr(L,!0);const z=L.mergedAttrs;null!==z&&yo(C,I,z);const re=L.classes;null!==re&&tc(C,I,re);const pe=L.styles;return null!==pe&&mh(C,I,pe),64!=(64&L.flags)&&bu(d,c,I,L),0===function g(){return Ft.lFrame.elementDepthCount}()&&pr(I,c),function tu(){Ft.lFrame.elementDepthCount++}(),zn(L)&&(mf(d,c,L),function Mg(e,t,n){if(Di(t)){const c=t.directiveEnd;for(let d=t.directiveStart;d<c;d++){const m=e.data[d];m.contentQueries&&m.contentQueries(1,n[d],d)}}}(d,L,c)),null!==i&&vf(c,L),Th}function Mh(){let e=fn();or()?function li(){Ft.lFrame.isParent=!1}():(e=e.parent,nr(e,!1));const t=e;!function Ps(){Ft.lFrame.elementDepthCount--}();const n=jt();return n.firstCreatePass&&(Br(n,e),Di(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function wc(e){return 0!=(16&e.flags)}(t)&&Pf(n,t,Ke(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function zu(e){return 0!=(32&e.flags)}(t)&&Pf(n,t,Ke(),t.stylesWithoutHost,!1),Mh}function Rf(e,t,n,i){return Th(e,t,n,i),Mh(),Rf}function kf(e){return!!e&&"function"==typeof e.then}function am(e){return!!e&&"function"==typeof e.subscribe}const um=am;function Lf(e,t,n,i){const c=Ke(),d=jt(),m=fn();return function cm(e,t,n,i,c,d,m,C){const I=zn(i),z=e.firstCreatePass&&Gg(e),re=t[8],pe=Kg(t);let xe=!0;if(3&i.type||C){const it=Zt(i,t),ht=C?C(it):it,Et=pe.length,qe=C?tn=>C(Fn(tn[i.index])):i.index;let bt=null;if(!C&&I&&(bt=function _1(e,t,n,i){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===n&&c[d+1]===i){const C=t[7],I=c[d+2];return C.length>I?C[I]:null}"string"==typeof m&&(d+=2)}return null}(e,t,c,i.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=d,bt.__ngLastListenerFn__=d,xe=!1;else{d=dm(i,t,re,d,!1);const tn=n.listen(ht,c,d);pe.push(d,tn),z&&z.push(c,qe,Et,Et+1)}}else d=dm(i,t,re,d,!1);const Ve=i.outputs;let Je;if(xe&&null!==Ve&&(Je=Ve[c])){const it=Je.length;if(it)for(let ht=0;ht<it;ht+=2){const Rn=t[Je[ht]][Je[ht+1]].subscribe(d),$a=pe.length;pe.push(d,Rn),z&&z.push(c,i.index,$a,-($a+1))}}}(d,c,c[11],m,e,t,0,i),Lf}function hm(e,t,n,i){try{return!1!==n(i)}catch(c){return zg(e,c),!1}}function dm(e,t,n,i,c){return function d(m){if(m===Function)return i;Df(2&e.flags?bn(e.index,t):t);let I=hm(t,0,i,m),L=d.__ngNextListenerFn__;for(;L;)I=hm(t,0,L,m)&&I,L=L.__ngNextListenerFn__;return c&&!1===I&&(m.preventDefault(),m.returnValue=!1),I}}function Dm(e,t,n,i,c){const d=e[n+1],m=null===t;let C=i?Zi(d):Zs(d),I=!1;for(;0!==C&&(!1===I||m);){const z=e[C+1];x1(e[C],t)&&(I=!0,e[C+1]=i?af(z):rf(z)),C=i?Zi(z):Zs(z)}I&&(e[n+1]=i?rf(d):af(d))}function x1(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Vr(e,t)>=0}function Hf(e,t){return function Xi(e,t,n,i){const c=Ke(),d=jt(),m=function Mn(e){const t=Ft.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function Mm(e,t,n,i){const c=e.data;if(null===c[n+1]){const d=c[Tt()],m=function Tm(e,t){return t>=e.expandoStartIndex}(e,n);(function Nm(e,t){return 0!=(e.flags&(t?16:32))})(d,i)&&null===t&&!m&&(t=!1),t=function N1(e,t,n,i){const c=function mo(e){const t=Ft.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=i?t.residualClasses:t.residualStyles;if(null===c)0===(i?t.classBindings:t.styleBindings)&&(n=dc(n=Vf(null,e,t,n,i),t.attrs,i),d=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==c)if(n=Vf(c,e,t,n,i),null===d){let I=function k1(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Zs(i))return e[Zi(i)]}(e,t,i);void 0!==I&&Array.isArray(I)&&(I=Vf(null,e,t,I[1],i),I=dc(I,t.attrs,i),function L1(e,t,n,i){e[Zi(n?t.classBindings:t.styleBindings)]=i}(e,t,i,I))}else d=function B1(e,t,n){let i;const c=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<c;d++)i=dc(i,e[d].hostAttrs,n);return dc(i,t.attrs,n)}(e,t,i)}return void 0!==d&&(i?t.residualClasses=d:t.residualStyles=d),n}(c,d,t,i),function S1(e,t,n,i,c,d){let m=d?t.classBindings:t.styleBindings,C=Zi(m),I=Zs(m);e[i]=n;let z,L=!1;if(Array.isArray(n)){const re=n;z=re[1],(null===z||Vr(re,z)>0)&&(L=!0)}else z=n;if(c)if(0!==I){const pe=Zi(e[C+1]);e[i+1]=Eh(pe,C),0!==pe&&(e[pe+1]=sf(e[pe+1],i)),e[C+1]=function dy(e,t){return 131071&e|t<<17}(e[C+1],i)}else e[i+1]=Eh(C,0),0!==C&&(e[C+1]=sf(e[C+1],i)),C=i;else e[i+1]=Eh(I,0),0===C?C=i:e[I+1]=sf(e[I+1],i),I=i;L&&(e[i+1]=rf(e[i+1])),Dm(e,z,i,!0),Dm(e,z,i,!1),function b1(e,t,n,i,c){const d=c?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Vr(d,t)>=0&&(n[i+1]=af(n[i+1]))}(t,z,e,i,d),m=Eh(C,I),d?t.classBindings=m:t.styleBindings=m}(c,d,t,n,m,i)}}(d,e,m,i),t!==s&&Rr(c,m,t)&&function Rm(e,t,n,i,c,d,m,C){if(!(3&t.type))return;const I=e.data,L=I[C+1];Ph(function wg(e){return 1==(1&e)}(L)?Om(I,t,n,c,Zs(L),m):void 0)||(Ph(d)||function Eg(e){return 2==(2&e)}(L)&&(d=Om(I,null,n,c,C,m)),function zd(e,t,n,i,c){if(t)c?e.addClass(n,i):e.removeClass(n,i);else{let d=-1===i.indexOf("-")?void 0:gi.DashCase;null==c?e.removeStyle(n,i,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=gi.Important),e.setStyle(n,i,c,d))}}(i,m,Ki(Tt(),n),c,d))}(d,d.data[Tt()],c,c[11],e,c[m+1]=function j1(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=G(zi(e)))),e}(t,n),i,m)}(e,t,null,!0),Hf}function Vf(e,t,n,i,c){let d=null;const m=n.directiveEnd;let C=n.directiveStylingLast;for(-1===C?C=n.directiveStart:C++;C<m&&(d=t[C],i=dc(i,d.hostAttrs,c),d!==e);)C++;return null!==e&&(n.directiveStylingLast=C),i}function dc(e,t,n){const i=n?1:2;let c=-1;if(null!==t)for(let d=0;d<t.length;d++){const m=t[d];"number"==typeof m?c=m:c===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rr(e,m,!!n||t[++d]))}return void 0===e?null:e}function Om(e,t,n,i,c,d){const m=null===t;let C;for(;c>0;){const I=e[c],L=Array.isArray(I),z=L?I[1]:I,re=null===z;let pe=n[c+1];pe===s&&(pe=re?ut:void 0);let xe=re?Ir(pe,i):z===i?pe:void 0;if(L&&!Ph(xe)&&(xe=Ir(I,i)),Ph(xe)&&(C=xe,m))return C;const Ve=e[c+1];c=m?Zi(Ve):Zs(Ve)}if(null!==t){let I=d?t.residualClasses:t.residualStyles;null!=I&&(C=Ir(I,i))}return C}function Ph(e){return void 0!==e}function km(e,t=""){const n=Ke(),i=jt(),c=e+22,d=i.firstCreatePass?Iu(i,c,1,t,null):i.data[c],m=n[c]=function Eu(e,t){return e.createText(t)}(n[11],t);bu(i,n,m,d),nr(d,!1)}function jf(e){return Uf("",e,""),jf}function Uf(e,t,n){const i=Ke(),c=function Mu(e,t,n,i){return Rr(e,pn(),n)?t+Te(n)+i:s}(i,e,t,n);return c!==s&&function Xs(e,t,n){const i=Ki(t,e);!function wu(e,t,n){e.setValue(t,n)}(e[11],i,n)}(i,Tt(),c),Uf}const ja=void 0;var a_=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function o_(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Vu={};function $f(e){const t=function u_(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=r0(t);if(n)return n;const i=t.split("-")[0];if(n=r0(i),n)return n;if("en"===i)return a_;throw new je(701,!1)}function n0(e){return $f(e)[At.PluralCase]}function r0(e){return e in Vu||(Vu[e]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[e]),Vu[e]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const ju="en-US";let s0=ju;function Wf(e,t,n,i,c){if(e=_e(e),Array.isArray(e))for(let d=0;d<e.length;d++)Wf(e[d],t,n,i,c);else{const d=jt(),m=Ke();let C=zs(e)?e:_e(e.provide),I=jr(e);const L=fn(),z=1048575&L.providerIndexes,re=L.directiveStart,pe=L.providerIndexes>>20;if(zs(e)||!e.multi){const xe=new as(I,c,Au),Ve=qf(C,t,c?z:z+pe,re);-1===Ve?(R(S(L,m),d,C),zf(d,e,t.length),t.push(C),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),n.push(xe),m.push(xe)):(n[Ve]=xe,m[Ve]=xe)}else{const xe=qf(C,t,z+pe,re),Ve=qf(C,t,z,z+pe),Je=xe>=0&&n[xe],it=Ve>=0&&n[Ve];if(c&&!it||!c&&!Je){R(S(L,m),d,C);const ht=function sE(e,t,n,i,c){const d=new as(e,n,Au);return d.multi=[],d.index=t,d.componentProviders=0,T0(d,c,i&&!n),d}(c?iE:rE,n.length,c,i,I);!c&&it&&(n[Ve].providerFactory=ht),zf(d,e,t.length,0),t.push(C),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),n.push(ht),m.push(ht)}else zf(d,e,xe>-1?xe:Ve,T0(n[c?Ve:xe],I,!c&&i));!c&&i&&it&&n[Ve].componentProviders++}}}function zf(e,t,n,i){const c=zs(t),d=function Al(e){return!!e.useClass}(t);if(c||d){const I=(d?_e(t.useClass):t).prototype.ngOnDestroy;if(I){const L=e.destroyHooks||(e.destroyHooks=[]);if(!c&&t.multi){const z=L.indexOf(n);-1===z?L.push(n,[i,I]):L[z+1].push(i,I)}else L.push(n,I)}}}function T0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function qf(e,t,n,i){for(let c=n;c<i;c++)if(t[c]===e)return c;return-1}function rE(e,t,n,i){return Yf(this.multi,[])}function iE(e,t,n,i){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=Z(n,n[1],this.providerFactory.index,i);d=C.slice(0,m),Yf(c,d);for(let I=m;I<C.length;I++)d.push(C[I])}else d=[],Yf(c,d);return d}function Yf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function M0(e,t=[]){return n=>{n.providersResolver=(i,c)=>function nE(e,t,n){const i=jt();if(i.firstCreatePass){const c=sn(e);Wf(n,i.data,i.blueprint,c,!0),Wf(t,i.data,i.blueprint,c,!1)}}(i,c?c(e):e,t)}}class $u{}class P0{}function oE(e,t){return new R0(e,t??null)}class R0 extends $u{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xf(this);const i=cr(t);this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=gs(t,n,[{provide:$u,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],G(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jf extends P0{constructor(t){super(),this.moduleType=t}create(t){return new R0(this.moduleType,t)}}class aE extends $u{constructor(t,n,i){super(),this.componentFactoryResolver=new xf(this),this.instance=null;const c=new Gc([...t,{provide:$u,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],n||Fl(),i,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Zf(e,t,n=null){return new aE(e,t,n).injector}let uE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=bl(0,n.type),c=i.length>0?Zf([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,c)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=er({token:e,providedIn:"environment",factory:()=>new e($n(Yi))}),e})();function O0(e){e.getStandaloneInjector=t=>t.get(uE).getOrCreateStandaloneInjector(e)}function Qf(e){return t=>{setTimeout(e,void 0,t)}}const Es=class OE extends x.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let c=t,d=n||(()=>null),m=i;if(t&&"object"==typeof t){const I=t;c=I.next?.bind(I),d=I.error?.bind(I),m=I.complete?.bind(I)}this.__isAsync&&(d=Qf(d),c&&(c=Qf(c)),m&&(m=Qf(m)));const C=super.subscribe({next:c,error:d,complete:m});return t instanceof v.w0&&t.add(C),C}};function NE(){return this._results[Ha()]()}class ep{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ha(),i=ep.prototype;i[n]||(i[n]=NE)}get changes(){return this._changes||(this._changes=new Es)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const c=Vt(t);(this._changesDetected=!function ia(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let c=e[i],d=t[i];if(n&&(c=n(c),d=n(d)),d!==c)return!1}return!0}(i._results,c,n))&&(i._results=c,i.length=c.length,i.last=c[this.length-1],i.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _c=(()=>{class e{}return e.__NG_ELEMENT_ID__=BE,e})();const kE=_c,LE=class extends kE{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tViews,c=Ch(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(i)),Sh(i,c,t),new uc(c)}};function BE(){return Lh(fn(),Ke())}function Lh(e,t){return 4&e.type?new LE(t,e,Po(e,t)):null}let Bh=(()=>{class e{}return e.__NG_ELEMENT_ID__=HE,e})();function HE(){return q0(fn(),Ke())}const VE=Bh,W0=class extends VE{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=H(this._hostTNode,this._hostLView);if(u(t)){const n=p(t,this._hostLView),i=l(t);return new $e(n[1].data[i+8],n)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=z0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){let c,d;"number"==typeof i?c=i:null!=i&&(c=i.index,d=i.injector);const m=t.createEmbeddedView(n||{},d);return this.insert(m,c),m}createComponent(t,n,i,c,d){const m=t&&!function Pn(e){return"function"==typeof e}(t);let C;if(m)C=n;else{const re=n||{};C=re.index,i=re.injector,c=re.projectableNodes,d=re.environmentInjector||re.ngModuleRef}const I=m?t:new lc(nn(t)),L=i||this.parentInjector;if(!d&&null==I.ngModule){const pe=(m?L:this.parentInjector).get(Yi,null);pe&&(d=pe)}const z=I.create(L,c,void 0,d);return this.insert(z.hostView,C),z}insert(t,n){const i=t._lView,c=i[1];if(function Wu(e){return In(e[3])}(i)){const z=this.indexOf(t);if(-1!==z)this.detach(z);else{const re=i[3],pe=new W0(re,re[6],re[3]);pe.detach(pe.indexOf(t))}}const d=this._adjustIndex(n),m=this._lContainer;!function Vd(e,t,n,i){const c=10+i,d=n.length;i>0&&(n[c-1][4]=t),i<d-10?(t[4]=n[c],en(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const m=t[17];null!==m&&n!==m&&function Yl(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(m,t);const C=t[19];null!==C&&C.insertView(e),t[2]|=64}(c,i,m,d);const C=Ql(d,m),I=i[11],L=Na(I,m[7]);return null!==L&&function lh(e,t,n,i,c,d){i[0]=c,i[6]=t,Ba(e,i,n,1,c,d)}(c,m[6],I,i,L,C),t.attachToViewContainerRef(),en(tp(m),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=z0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=ko(this._lContainer,n);i&&(dr(tp(this._lContainer),n),jd(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=ko(this._lContainer,n);return i&&null!=dr(tp(this._lContainer),n)?new uc(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function z0(e){return e[8]}function tp(e){return e[8]||(e[8]=[])}function q0(e,t){let n;const i=t[e.index];if(In(i))n=i;else{let c;if(8&e.type)c=Fn(i);else{const d=t[11];c=d.createComment("");const m=Zt(e,t);ps(d,Na(d,m),c,function Kd(e,t){return e.nextSibling(t)}(d,m),!1)}t[e.index]=n=Ug(i,t,c,e),bh(t,n)}return new W0(n,e,t)}class np{constructor(t){this.queryList=t,this.matches=null}clone(){return new np(this.queryList)}setDirty(){this.queryList.setDirty()}}class rp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,c=[];for(let d=0;d<i;d++){const m=n.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new rp(c)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==nv(t,n).matches&&this.queries[n].setDirty()}}class Y0{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class ip{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const c=null!==n?n.length:0,d=this.getByIndex(i).embeddedTView(t,c);d&&(d.indexInDeclarationView=i,null!==n?n.push(d):n=[d])}return null!==n?new ip(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new sp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let c=0;c<i.length;c++){const d=i[c];this.matchTNodeWithReadOption(t,n,$E(n,d)),this.matchTNodeWithReadOption(t,n,W(n,t,d,!1,!1))}else i===_c?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,W(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const c=this.metadata.read;if(null!==c)if(c===Aa||c===Bh||c===_c&&4&n.type)this.addMatch(n.index,-2);else{const d=W(n,t,c,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function $E(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function GE(e,t,n,i){return-1===n?function KE(e,t){return 11&e.type?Po(e,t):4&e.type?Lh(e,t):null}(t,e):-2===n?function WE(e,t,n){return n===Aa?Po(t,e):n===_c?Lh(t,e):n===Bh?q0(t,e):void 0}(e,t,i):Z(e,e[1],n,t)}function J0(e,t,n,i){const c=t[19].queries[i];if(null===c.matches){const d=e.data,m=n.matches,C=[];for(let I=0;I<m.length;I+=2){const L=m[I];C.push(L<0?null:GE(t,d[L],m[I+1],n.metadata.read))}c.matches=C}return c.matches}function op(e,t,n,i){const c=e.queries.getByIndex(n),d=c.matches;if(null!==d){const m=J0(e,t,c,n);for(let C=0;C<d.length;C+=2){const I=d[C];if(I>0)i.push(m[C/2]);else{const L=d[C+1],z=t[-I];for(let re=10;re<z.length;re++){const pe=z[re];pe[17]===pe[3]&&op(pe[1],pe,L,i)}if(null!==z[9]){const re=z[9];for(let pe=0;pe<re.length;pe++){const xe=re[pe];op(xe[1],xe,L,i)}}}}}return i}function Z0(e){const t=Ke(),n=jt(),i=vo();ss(i+1);const c=nv(n,i);if(e.dirty&&Yo(t)===(2==(2&c.metadata.flags))){if(null===c.matches)e.reset([]);else{const d=c.crossesNgTemplate?op(n,t,i,[]):J0(n,t,c,i);e.reset(d,yd),e.notifyOnChanges()}return!0}return!1}function X0(e,t,n,i){const c=jt();if(c.firstCreatePass){const d=fn();(function tv(e,t,n){null===e.queries&&(e.queries=new ip),e.queries.track(new sp(t,n))})(c,new Y0(t,n,i),d.index),function YE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(c,e),2==(2&n)&&(c.staticContentQueries=!0)}!function ev(e,t,n){const i=new ep(4==(4&n));Rg(e,t,i,i.destroy),null===t[19]&&(t[19]=new rp),t[19].queries.push(new np(i))}(c,Ke(),n)}function Q0(){return function qE(e,t){return e[19].queries[t].queryList}(Ke(),vo())}function nv(e,t){return e.queries.getByIndex(t)}function Vh(...e){}const wv=new St("Application Initializer");let jh=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Vh,this.reject=Vh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(kf(d))n.push(d);else if(um(d)){const m=new Promise((C,I)=>{d.subscribe({complete:C,error:I})});n.push(m)}}Promise.all(n).then(()=>{i()}).catch(c=>{this.reject(c)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)($n(wv,8))},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Dv=new St("AppId",{providedIn:"root",factory:function Cv(){return`${hp()}${hp()}${hp()}`}});function hp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sv=new St("Platform Initializer"),mw=new St("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bv=new St("appBootstrapListener");let vw=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Uh=new St("LocaleId",{providedIn:"root",factory:()=>il(Uh,wt.Optional|wt.SkipSelf)||function yw(){return typeof $localize<"u"&&$localize.locale||ju}()}),_w=new St("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ew{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ww=(()=>{class e{compileModuleSync(n){return new Jf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),d=Ti(cr(n).declarations).reduce((m,C)=>{const I=nn(C);return I&&m.push(new lc(I)),m},[]);return new Ew(i,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sw=(()=>Promise.resolve(0))();function dp(e){typeof Zone>"u"?Sw.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ri{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!i&&n,c.shouldCoalesceRunChangeDetection=i,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function bw(){let e=ct.requestAnimationFrame,t=ct.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Iw(e){const t=()=>{!function Aw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,pp(e),e.isCheckStableRunning=!0,fp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),pp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,c,d,m,C)=>{try{return Iv(e),n.invokeTask(c,d,m,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),Fv(e)}},onInvoke:(n,i,c,d,m,C,I)=>{try{return Iv(e),n.invoke(c,d,m,C,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fv(e)}},onHasTask:(n,i,c,d)=>{n.hasTask(c,d),i===c&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,pp(e),fp(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,i,c,d)=>(n.handleError(c,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new je(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,t,xw,Vh,Vh);try{return d.runTask(m,n,i)}finally{d.cancelTask(m)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const xw={};function fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fv(e){e._nesting--,fp(e)}class Fw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,c){return t.apply(n,i)}}const Tv=new St(""),Mv=new St("");let gp,Tw=(()=>{class e{constructor(n,i,c){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gp||(function Mw(e){gp=e}(c),c.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),dp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,c){let d=-1;i&&i>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:c})}whenStable(n,i,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,c){return[]}}return e.\u0275fac=function(n){return new(n||e)($n(Ri),$n(Pv),$n(Mv))},e.\u0275prov=er({token:e,factory:e.\u0275fac}),e})(),Pv=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return gp?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Vo=null;const Rv=new St("AllowMultipleToken"),mp=new St("PlatformDestroyListeners");class Ow{constructor(t,n){this.name=t,this.token=n}}function Nv(e,t,n=[]){const i=`Platform: ${t}`,c=new St(i);return(d=[])=>{let m=vp();if(!m||m.injector.get(Rv,!1)){const C=[...n,...d,{provide:c,useValue:!0}];e?e(C):function Nw(e){if(Vo&&!Vo.get(Rv,!1))throw new je(400,!1);Vo=e;const t=e.get(Lv);(function Ov(e){const t=e.get(Sv,null);t&&t.forEach(n=>n())})(e)}(function kv(e=[],t){return gr.create({name:t,providers:[{provide:du,useValue:"platform"},{provide:mp,useValue:new Set([()=>Vo=null])},...e]})}(C,i))}return function Lw(e){const t=vp();if(!t)throw new je(401,!1);return t}()}}function vp(){return Vo?.get(Lv)??null}let Lv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const c=function Hv(e,t){let n;return n="noop"===e?new Fw:("zone.js"===e?void 0:e)||new Ri(t),n}(i?.ngZone,function Bv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),d=[{provide:Ri,useValue:c}];return c.run(()=>{const m=gr.create({providers:d,parent:this.injector,name:n.moduleType.name}),C=n.create(m),I=C.injector.get(Oo,null);if(!I)throw new je(402,!1);return c.runOutsideAngular(()=>{const L=c.onError.subscribe({next:z=>{I.handleError(z)}});C.onDestroy(()=>{Kh(this._modules,C),L.unsubscribe()})}),function Vv(e,t,n){try{const i=n();return kf(i)?i.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(I,c,()=>{const L=C.injector.get(jh);return L.runInitializers(),L.donePromise.then(()=>(function o0(e){Gt(e,"Expected localeId to be defined"),"string"==typeof e&&(s0=e.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Uh,ju)||ju),this._moduleDoBootstrap(C),C))})})}bootstrapModule(n,i=[]){const c=jv({},i);return function Pw(e,t,n){const i=new Jf(n);return Promise.resolve(i)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(n){const i=n.injector.get($h);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(c=>i.bootstrap(c));else{if(!n.instance.ngDoBootstrap)throw new je(403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(mp,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)($n(gr))},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function jv(e,t){return Array.isArray(t)?t.reduce(jv,e):{...e,...t}}let $h=(()=>{class e{constructor(n,i,c){this._zone=n,this._injector=i,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new j.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),dp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),L.unsubscribe()}});this.isStable=(0,Q.T)(d,m.pipe(function Fe(e={}){const{connector:t=(()=>new x.x),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:c=!0}=e;return d=>{let m,C,I,L=0,z=!1,re=!1;const pe=()=>{C?.unsubscribe(),C=void 0},xe=()=>{pe(),m=I=void 0,z=re=!1},Ve=()=>{const Je=m;xe(),Je?.unsubscribe()};return(0,Ee.e)((Je,it)=>{L++,!re&&!z&&pe();const ht=I=I??t();it.add(()=>{L--,0===L&&!re&&!z&&(C=he(Ve,c))}),ht.subscribe(it),!m&&L>0&&(m=new ue.Hp({next:Et=>ht.next(Et),error:Et=>{re=!0,pe(),C=he(xe,n,Et),ht.error(Et)},complete:()=>{z=!0,pe(),C=he(xe,i),ht.complete()}}),(0,Y.Xf)(Je).subscribe(m))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const c=n instanceof zc;if(!this._injector.get(jh).done)throw!c&&jn(n),new je(405,false);let m;m=c?n:this._injector.get(Ji).resolveComponentFactory(n),this.componentTypes.push(m.componentType);const C=function Rw(e){return e.isBoundToModule}(m)?void 0:this._injector.get($u),L=m.create(gr.NULL,[],i||m.selector,C),z=L.location.nativeElement,re=L.injector.get(Tv,null);return re?.registerApplication(z),L.onDestroy(()=>{this.detachView(L.hostView),Kh(this.components,L),re?.unregisterApplication(z)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Kh(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(bv,[]).concat(this._bootstrapListeners).forEach(c=>c(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)($n(Ri),$n(Yi),$n(Oo))},e.\u0275prov=er({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Kh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let $v=!0;function Hw(){$v=!1}let Vw=(()=>{class e{}return e.__NG_ELEMENT_ID__=jw,e})();function jw(e){return function Uw(e,t,n){if(Yr(e)&&!n){const i=bn(e.index,t);return new uc(i,i)}return 47&e.type?new uc(t[16],t):null}(fn(),Ke(),16==(16&e))}class qv{constructor(){}supports(t){return cc(t)}create(t){return new qw(t)}}const zw=(e,t)=>t;class qw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,c=0,d=null;for(;n||i;){const m=!i||n&&n.currentIndex<Jv(i,c,d)?n:i,C=Jv(m,c,d),I=m.currentIndex;if(m===i)c--,i=i._nextRemoved;else if(n=n._next,null==m.previousIndex)c++;else{d||(d=[]);const L=C-c,z=I-c;if(L!=z){for(let pe=0;pe<L;pe++){const xe=pe<d.length?d[pe]:d[pe]=0,Ve=xe+pe;z<=Ve&&Ve<L&&(d[pe]=xe+1)}d[m.previousIndex]=z-L}}C!==I&&t(m,C,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cc(t))throw new je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,d,m,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let C=0;C<this.length;C++)d=t[C],m=this._trackByFn(C,d),null!==n&&Object.is(n.trackById,m)?(i&&(n=this._verifyReinsertion(n,d,m,C)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,m,C),i=!0),n=n._next}else c=0,function c1(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ha()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,C=>{m=this._trackByFn(c,C),null!==n&&Object.is(n.trackById,m)?(i&&(n=this._verifyReinsertion(n,C,m,c)),Object.is(n.item,C)||this._addIdentityChange(n,C)):(n=this._mismatch(n,C,m,c),i=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,c){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,c))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,c)):t=this._addAfter(new Yw(n,i),d,c),t}_verifyReinsertion(t,n,i,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==d?t=this._reinsertAfter(d,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,d=t._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const c=null===n?this._itHead:n._next;return t._next=c,t._prev=n,null===c?this._itTail=t:c._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yv),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class Yv{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new Jw,this.map.set(n,i)),i.add(t)}get(t,n){const c=this.map.get(t);return c?c.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jv(e,t,n){const i=e.previousIndex;if(null===i)return i;let c=0;return n&&i<n.length&&(c=n[i]),i+t+c}class Zv{constructor(){}supports(t){return t instanceof Map||Ff(t)}create(){return new Zw}}class Zw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ff(t)))throw new je(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(c,i);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,n);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const i=new Xw(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class Xw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xv(){return new Dp([new qv])}let Dp=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const c=i.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Xv()),deps:[[e,new ca,new wo]]}}find(n){const i=this.factories.find(c=>c.supports(n));if(null!=i)return i;throw new je(901,!1)}}return e.\u0275prov=er({token:e,providedIn:"root",factory:Xv}),e})();function Qv(){return new Cp([new Zv])}let Cp=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const c=i.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Qv()),deps:[[e,new ca,new wo]]}}find(n){const i=this.factories.find(c=>c.supports(n));if(i)return i;throw new je(901,!1)}}return e.\u0275prov=er({token:e,providedIn:"root",factory:Qv}),e})();const tD=Nv(null,"core",[]);let nD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)($n($h))},e.\u0275mod=io({type:e}),e.\u0275inj=ts({}),e})();function rD(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1214:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ct:()=>OAuthService,Tg:()=>AuthConfig,z0:()=>AbstractValidationHandler,zr:()=>OAuthModule});var C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5861),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1571),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6895),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(529),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2076),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(102),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2843),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9841),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6451),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8505),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1756),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(590),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(5577),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1302);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class ie extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return ie.\u0275fac=function(){let oe;return function(x){return(oe||(oe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ie)))(x||ie)}}(),ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class ie{constructor(){this.data=new Map}getItem(D){return this.data.get(D)}removeItem(D){this.data.delete(D)}setItem(D,x){this.data.set(D,x)}}return ie.\u0275fac=function(D){return new(D||ie)},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class ReceivedTokens{}class OAuthEvent{constructor(oe){this.type=oe}}class OAuthSuccessEvent extends OAuthEvent{constructor(oe,D=null){super(oe),this.info=D}}class OAuthInfoEvent extends OAuthEvent{constructor(oe,D=null){super(oe),this.info=D}}class OAuthErrorEvent extends OAuthEvent{constructor(oe,D,x=null){super(oe),this.reason=D,this.params=x}}function b64DecodeUnicode(ie){const oe=ie.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(oe).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(ie){return btoa(ie).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(oe){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=D=>{location.href=D},oe&&Object.assign(this,oe)}}class WebHttpUrlEncodingCodec{encodeKey(oe){return encodeURIComponent(oe)}encodeValue(oe){return encodeURIComponent(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(oe){var D=this;return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){let x=D.inferHashAlgorithm(oe.idTokenHeader),v=yield D.calcHash(oe.accessToken,x),Q=base64UrlEncode(v.substr(0,v.length/2)),Y=oe.idTokenClaims.at_hash.replace(/=/g,"");return Q!==Y&&(console.error("exptected at_hash: "+Q),console.error("actual at_hash: "+Y)),Q===Y})()}inferHashAlgorithm(oe){let D=oe.alg;if(!D.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+D);return"sha-"+D.substr(2)}}let UrlHelperService=(()=>{class ie{getHashFragmentParams(D){let x=D||window.location.hash;if(x=decodeURIComponent(x),0!==x.indexOf("#"))return{};const v=x.indexOf("?");return x=x.substr(v>-1?v+1:1),this.parseQueryString(x)}parseQueryString(D){const x={};let v,j,Q,Y,ue,Ee,Fe;if(null===D)return x;v=D.split("&");for(let he=0;he<v.length;he++)j=v[he],Q=j.indexOf("="),-1===Q?(Y=j,ue=null):(Y=j.substr(0,Q),ue=j.substr(Q+1)),Ee=decodeURIComponent(Y),Fe=decodeURIComponent(ue),"/"===Ee.substr(0,1)&&(Ee=Ee.substr(1)),x[Ee]=Fe;return x}}return ie.\u0275fac=function(D){return new(D||ie)},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u";const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(ie){return"[object Array]"===Object.prototype.toString.call(ie)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(ie){return"object"==typeof ie&&ie.buffer&&ie.buffer.constructor===ArrayBuffer});var createOutputMethod=function(ie,oe){return function(D){return new Sha256(oe,!0).update(D)[ie]()}},createMethod=function(ie){var oe=createOutputMethod("hex",ie);NODE_JS&&(oe=nodeWrap(oe,ie)),oe.create=function(){return new Sha256(ie)},oe.update=function(v){return oe.create().update(v)};for(var D=0;D<OUTPUT_TYPES.length;++D){var x=OUTPUT_TYPES[D];oe[x]=createOutputMethod(x,ie)}return oe},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(ie){if("string"==typeof ie)return crypto.createHash(algorithm).update(ie,"utf8").digest("hex");if(null==ie)throw new Error(ERROR);return ie.constructor===ArrayBuffer&&(ie=new Uint8Array(ie)),Array.isArray(ie)||ArrayBuffer.isView(ie)||ie.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(ie)).digest("hex"):method(ie)};return nodeMethod},createHmacOutputMethod=function(ie,oe){return function(D,x){return new HmacSha256(D,oe,!0).update(x)[ie]()}},createHmacMethod=function(ie){var oe=createHmacOutputMethod("hex",ie);oe.create=function(v){return new HmacSha256(v,ie)},oe.update=function(v,j){return oe.create(v).update(j)};for(var D=0;D<OUTPUT_TYPES.length;++D){var x=OUTPUT_TYPES[D];oe[x]=createHmacOutputMethod(x,ie)}return oe};function Sha256(ie,oe){oe?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ie?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=ie}function HmacSha256(ie,oe,D){var x,v=typeof ie;if("string"===v){var ue,j=[],Q=ie.length,Y=0;for(x=0;x<Q;++x)(ue=ie.charCodeAt(x))<128?j[Y++]=ue:ue<2048?(j[Y++]=192|ue>>6,j[Y++]=128|63&ue):ue<55296||ue>=57344?(j[Y++]=224|ue>>12,j[Y++]=128|ue>>6&63,j[Y++]=128|63&ue):(ue=65536+((1023&ue)<<10|1023&ie.charCodeAt(++x)),j[Y++]=240|ue>>18,j[Y++]=128|ue>>12&63,j[Y++]=128|ue>>6&63,j[Y++]=128|63&ue);ie=j}else{if("object"!==v)throw new Error(ERROR);if(null===ie)throw new Error(ERROR);if(ARRAY_BUFFER&&ie.constructor===ArrayBuffer)ie=new Uint8Array(ie);else if(!(Array.isArray(ie)||ARRAY_BUFFER&&ArrayBuffer.isView(ie)))throw new Error(ERROR)}ie.length>64&&(ie=new Sha256(oe,!0).update(ie).array());var Ee=[],Fe=[];for(x=0;x<64;++x){var he=ie[x]||0;Ee[x]=92^he,Fe[x]=54^he}Sha256.call(this,oe,D),this.update(Fe),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=D}Sha256.prototype.update=function(ie){if(!this.finalized){var oe,D=typeof ie;if("string"!==D){if("object"!==D)throw new Error(ERROR);if(null===ie)throw new Error(ERROR);if(ARRAY_BUFFER&&ie.constructor===ArrayBuffer)ie=new Uint8Array(ie);else if(!(Array.isArray(ie)||ARRAY_BUFFER&&ArrayBuffer.isView(ie)))throw new Error(ERROR);oe=!0}for(var x,j,v=0,Q=ie.length,Y=this.blocks;v<Q;){if(this.hashed&&(this.hashed=!1,Y[0]=this.block,Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),oe)for(j=this.start;v<Q&&j<64;++v)Y[j>>2]|=ie[v]<<SHIFT[3&j++];else for(j=this.start;v<Q&&j<64;++v)(x=ie.charCodeAt(v))<128?Y[j>>2]|=x<<SHIFT[3&j++]:x<2048?(Y[j>>2]|=(192|x>>6)<<SHIFT[3&j++],Y[j>>2]|=(128|63&x)<<SHIFT[3&j++]):x<55296||x>=57344?(Y[j>>2]|=(224|x>>12)<<SHIFT[3&j++],Y[j>>2]|=(128|x>>6&63)<<SHIFT[3&j++],Y[j>>2]|=(128|63&x)<<SHIFT[3&j++]):(x=65536+((1023&x)<<10|1023&ie.charCodeAt(++v)),Y[j>>2]|=(240|x>>18)<<SHIFT[3&j++],Y[j>>2]|=(128|x>>12&63)<<SHIFT[3&j++],Y[j>>2]|=(128|x>>6&63)<<SHIFT[3&j++],Y[j>>2]|=(128|63&x)<<SHIFT[3&j++]);this.lastByteIndex=j,this.bytes+=j-this.start,j>=64?(this.block=Y[16],this.start=j-64,this.hash(),this.hashed=!0):this.start=j}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var ie=this.blocks,oe=this.lastByteIndex;ie[16]=this.block,ie[oe>>2]|=EXTRA[3&oe],this.block=ie[16],oe>=56&&(this.hashed||this.hash(),ie[0]=this.block,ie[16]=ie[1]=ie[2]=ie[3]=ie[4]=ie[5]=ie[6]=ie[7]=ie[8]=ie[9]=ie[10]=ie[11]=ie[12]=ie[13]=ie[14]=ie[15]=0),ie[14]=this.hBytes<<3|this.bytes>>>29,ie[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var Ee,ce,fe,Ne,_e,We,ie=this.h0,oe=this.h1,D=this.h2,x=this.h3,v=this.h4,j=this.h5,Q=this.h6,Y=this.h7,ue=this.blocks;for(Ee=16;Ee<64;++Ee)ue[Ee]=ue[Ee-16]+(((ce=ue[Ee-15])>>>7|ce<<25)^(ce>>>18|ce<<14)^ce>>>3)+ue[Ee-7]+(((ce=ue[Ee-2])>>>17|ce<<15)^(ce>>>19|ce<<13)^ce>>>10)<<0;for(We=oe&D,Ee=0;Ee<64;Ee+=4)this.first?(this.is224?(fe=300032,Y=(ce=ue[0]-1413257819)-150054599<<0,x=ce+24177077<<0):(fe=704751109,Y=(ce=ue[0]-210244248)-1521486534<<0,x=ce+143694565<<0),this.first=!1):(Y=x+(ce=Y+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&j^~v&Q)+K[Ee]+ue[Ee])<<0,x=ce+(((ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10))+((fe=ie&oe)^ie&D^We))<<0),Q=D+(ce=Q+((Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7))+(Y&v^~Y&j)+K[Ee+1]+ue[Ee+1])<<0,D=ce+(((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+((Ne=x&ie)^x&oe^fe))<<0,j=oe+(ce=j+((Q>>>6|Q<<26)^(Q>>>11|Q<<21)^(Q>>>25|Q<<7))+(Q&Y^~Q&v)+K[Ee+2]+ue[Ee+2])<<0,oe=ce+(((D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10))+((_e=D&x)^D&ie^Ne))<<0,v=ie+(ce=v+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&Q^~j&Y)+K[Ee+3]+ue[Ee+3])<<0,ie=ce+(((oe>>>2|oe<<30)^(oe>>>13|oe<<19)^(oe>>>22|oe<<10))+((We=oe&D)^oe&x^_e))<<0;this.h0=this.h0+ie<<0,this.h1=this.h1+oe<<0,this.h2=this.h2+D<<0,this.h3=this.h3+x<<0,this.h4=this.h4+v<<0,this.h5=this.h5+j<<0,this.h6=this.h6+Q<<0,this.h7=this.h7+Y<<0},Sha256.prototype.hex=function(){this.finalize();var ie=this.h0,oe=this.h1,D=this.h2,x=this.h3,v=this.h4,j=this.h5,Q=this.h6,Y=this.h7,ue=HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[15&ie]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[15&oe]+HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[15&D]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[15&x]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[j>>28&15]+HEX_CHARS[j>>24&15]+HEX_CHARS[j>>20&15]+HEX_CHARS[j>>16&15]+HEX_CHARS[j>>12&15]+HEX_CHARS[j>>8&15]+HEX_CHARS[j>>4&15]+HEX_CHARS[15&j]+HEX_CHARS[Q>>28&15]+HEX_CHARS[Q>>24&15]+HEX_CHARS[Q>>20&15]+HEX_CHARS[Q>>16&15]+HEX_CHARS[Q>>12&15]+HEX_CHARS[Q>>8&15]+HEX_CHARS[Q>>4&15]+HEX_CHARS[15&Q];return this.is224||(ue+=HEX_CHARS[Y>>28&15]+HEX_CHARS[Y>>24&15]+HEX_CHARS[Y>>20&15]+HEX_CHARS[Y>>16&15]+HEX_CHARS[Y>>12&15]+HEX_CHARS[Y>>8&15]+HEX_CHARS[Y>>4&15]+HEX_CHARS[15&Y]),ue},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var ie=this.h0,oe=this.h1,D=this.h2,x=this.h3,v=this.h4,j=this.h5,Q=this.h6,Y=this.h7,ue=[ie>>24&255,ie>>16&255,ie>>8&255,255&ie,oe>>24&255,oe>>16&255,oe>>8&255,255&oe,D>>24&255,D>>16&255,D>>8&255,255&D,x>>24&255,x>>16&255,x>>8&255,255&x,v>>24&255,v>>16&255,v>>8&255,255&v,j>>24&255,j>>16&255,j>>8&255,255&j,Q>>24&255,Q>>16&255,Q>>8&255,255&Q];return this.is224||ue.push(Y>>24&255,Y>>16&255,Y>>8&255,255&Y),ue},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var ie=new ArrayBuffer(this.is224?28:32),oe=new DataView(ie);return oe.setUint32(0,this.h0),oe.setUint32(4,this.h1),oe.setUint32(8,this.h2),oe.setUint32(12,this.h3),oe.setUint32(16,this.h4),oe.setUint32(20,this.h5),oe.setUint32(24,this.h6),this.is224||oe.setUint32(28,this.h7),ie},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var ie=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(ie),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(ie){if("string"!=typeof ie)throw new TypeError("expected string");var oe,D=ie,x=new Uint8Array(D.length);for(oe=0;oe<D.length;oe++)x[oe]=D.charCodeAt(oe);return x}function encodeUTF8(ie){var oe,D=[];for(oe=0;oe<ie.length;oe++)D.push(String.fromCharCode(ie[oe]));return D.join("")}let DefaultHashHandler=(()=>{class ie{calcHash(D,x){return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(D)))})()}toHashString2(D){let x="";for(let v of D)x+=String.fromCharCode(v);return x}toHashString(D){const x=new Uint8Array(D);let v="";for(let j of x)v+=String.fromCharCode(j);return v}}return ie.\u0275fac=function(D){return new(D||ie)},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),OAuthService=(()=>{class ie extends AuthConfig{constructor(D,x,v,j,Q,Y,ue,Ee,Fe,he){super(),this.ngZone=D,this.http=x,this.config=Q,this.urlHelper=Y,this.logger=ue,this.crypto=Ee,this.dateTimeService=he,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.x,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=Fe,Q||(Q={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),j&&(this.tokenValidationHandler=j),Q&&this.configure(Q);try{v?this.setStorage(v):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(ve){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",ve)}if(this.checkLocalStorageAccessable()){const ve=window?.navigator?.userAgent;(ve?.includes("MSIE ")||ve?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const D="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(D,D),localStorage.removeItem(D),0))}catch{return!1}}configure(D){Object.assign(this,new AuthConfig,D),this.config=Object.assign({},new AuthConfig,D),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(D=>"token_received"===D.type)).subscribe(D=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(D={},x,v=!0){let j=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(Q=>{"token_received"===Q.type?j=!0:"logout"===Q.type&&(j=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(Q=>"token_expires"===Q.type&&(null==x||"any"===x||Q.info===x)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(Q=>{j&&this.refreshInternal(D,v).catch(Y=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(D,x){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(D,x):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(D=null){return this.loadDiscoveryDocument().then(x=>this.tryLogin(D))}loadDiscoveryDocumentAndLogin(D=null){return this.loadDiscoveryDocumentAndTryLogin(D=D||{}).then(x=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof D.state?D.state:""),!1))}debug(...D){this.showDebugInformation&&this.logger.debug.apply(this.logger,D)}validateUrlFromDiscoveryDocument(D){const x=[],v=this.validateUrlForHttps(D),j=this.validateUrlAgainstIssuer(D);return v||x.push("https for all urls required. Also for urls received by discovery."),j||x.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),x}validateUrlForHttps(D){if(!D)return!0;const x=D.toLowerCase();return!(!1!==this.requireHttps&&(!x.match(/^http:\/\/localhost($|[:\/])/)&&!x.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||x.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(D,x){if(!D)throw new Error(`'${x}' should not be null`);if(!this.validateUrlForHttps(D))throw new Error(`'${x}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(D){return!this.strictDiscoveryDocumentValidation||!D||D.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(D=>"token_received"===D.type)).subscribe(D=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const D=this.getAccessTokenExpiration(),x=this.getAccessTokenStoredAt(),v=this.calcTimeout(x,D);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(v)).subscribe(j=>{this.ngZone.run(()=>{this.eventsSubject.next(j)})})})}setupIdTokenTimer(){const D=this.getIdTokenExpiration(),x=this.getIdTokenStoredAt(),v=this.calcTimeout(x,D);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(v)).subscribe(j=>{this.ngZone.run(()=>{this.eventsSubject.next(j)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(D,x){const v=this.dateTimeService.now();return Math.max(0,(x-D)*this.timeoutFactor-(v-D))}setStorage(D){this._storage=D,this.configChanged()}loadDiscoveryDocument(D=null){return new Promise((x,v)=>{D||((D=this.issuer||"").endsWith("/")||(D+="/"),D+=".well-known/openid-configuration"),this.validateUrlForHttps(D)?this.http.get(D).subscribe(j=>{if(!this.validateDiscoveryDocument(j))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void v("discovery_document_validation_error");this.loginUrl=j.authorization_endpoint,this.logoutUrl=j.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=j.grant_types_supported,this.issuer=j.issuer,this.tokenEndpoint=j.token_endpoint,this.userinfoEndpoint=j.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=j.jwks_uri,this.sessionCheckIFrameUrl=j.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(j),this.revocationEndpoint=j.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(Q=>{const ue=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:j,jwks:Q});this.eventsSubject.next(ue),x(ue)}).catch(Q=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",Q)),v(Q)})},j=>{this.logger.error("error loading discovery document",j),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",j)),v(j)}):v("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((D,x)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(v=>{this.jwks=v,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),D(v)},v=>{this.logger.error("error loading jwks",v),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",v)),x(v)}):D(null)})}validateDiscoveryDocument(D){let x;return this.skipIssuerCheck||D.issuer===this.issuer?(x=this.validateUrlFromDiscoveryDocument(D.authorization_endpoint),x.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",x),!1):(x=this.validateUrlFromDiscoveryDocument(D.end_session_endpoint),x.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",x),!1):(x=this.validateUrlFromDiscoveryDocument(D.token_endpoint),x.length>0&&this.logger.error("error validating token_endpoint in discovery document",x),x=this.validateUrlFromDiscoveryDocument(D.revocation_endpoint),x.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",x),x=this.validateUrlFromDiscoveryDocument(D.userinfo_endpoint),x.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",x),!1):(x=this.validateUrlFromDiscoveryDocument(D.jwks_uri),x.length>0?(this.logger.error("error validating jwks_uri in discovery document",x),!1):(this.sessionChecksEnabled&&!D.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+D.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(D,x,v=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(D,x,v).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((D,x)=>{const v=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:v,observe:"response",responseType:"text"}).subscribe(j=>{if(this.debug("userinfo received",JSON.stringify(j)),j.headers.get("content-type").startsWith("application/json")){let Q=JSON.parse(j.body);const Y=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!Y.sub||Q.sub!==Y.sub))return void x("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");Q=Object.assign({},Y,Q),this._storage.setItem("id_token_claims_obj",JSON.stringify(Q)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),D({info:Q})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),D(JSON.parse(j.body))},j=>{this.logger.error("error loading user info",j),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",j)),x(j)})})}fetchTokenUsingPasswordFlow(D,x,v=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:D,password:x},v)}fetchTokenUsingGrant(D,x,v=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let j=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",D).set("scope",this.scope);if(this.useHttpBasicAuth){const Q=btoa(`${this.clientId}:${this.dummyClientSecret}`);v=v.set("Authorization","Basic "+Q)}if(this.useHttpBasicAuth||(j=j.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(j=j.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const Q of Object.getOwnPropertyNames(this.customQueryParams))j=j.set(Q,this.customQueryParams[Q]);for(const Q of Object.keys(x))j=j.set(Q,x[Q]);return v=v.set("Content-Type","application/x-www-form-urlencoded"),new Promise((Q,Y)=>{this.http.post(this.tokenEndpoint,j,{headers:v}).subscribe(ue=>{this.debug("tokenResponse",ue),this.storeAccessTokenResponse(ue.access_token,ue.refresh_token,ue.expires_in||this.fallbackAccessTokenExpirationTimeInSec,ue.scope,this.extractRecognizedCustomParameters(ue)),this.oidc&&ue.id_token&&this.processIdToken(ue.id_token,ue.access_token).then(Ee=>{this.storeIdToken(Ee),Q(ue)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),Q(ue)},ue=>{this.logger.error("Error performing ${grantType} flow",ue),this.eventsSubject.next(new OAuthErrorEvent("token_error",ue)),Y(ue)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((D,x)=>{let v=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),j=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Q=btoa(`${this.clientId}:${this.dummyClientSecret}`);j=j.set("Authorization","Basic "+Q)}if(this.useHttpBasicAuth||(v=v.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(v=v.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const Q of Object.getOwnPropertyNames(this.customQueryParams))v=v.set(Q,this.customQueryParams[Q]);this.http.post(this.tokenEndpoint,v,{headers:j}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(Q=>Q.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(Q.id_token,Q.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(Y=>this.storeIdToken(Y)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(Y=>Q)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(Q))).subscribe(Q=>{this.debug("refresh tokenResponse",Q),this.storeAccessTokenResponse(Q.access_token,Q.refresh_token,Q.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Q.scope,this.extractRecognizedCustomParameters(Q)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),D(Q)},Q=>{this.logger.error("Error refreshing token",Q),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",Q)),x(Q)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=D=>{const x=this.processMessageEventMessage(D);this.tryLogin({customHashFragment:x,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(v=>this.debug("tryLogin during silent refresh failed",v))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(D={},x=!0){const v=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(D.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const j=this.document.getElementById(this.silentRefreshIFrameName);j&&this.document.body.removeChild(j),this.silentRefreshSubject=v.sub;const Q=this.document.createElement("iframe");Q.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,x,D).then(he=>{Q.setAttribute("src",he),this.silentRefreshShowIFrame||(Q.style.display="none"),this.document.body.appendChild(Q)});const ue=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(he=>he instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),Ee=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(he=>"token_received"===he.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),Fe=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S)([ue,Ee,Fe]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(he=>{if(he instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===he.type||(he=new OAuthErrorEvent("silent_refresh_error",he)),this.eventsSubject.next(he),he;return"token_received"===he.type&&(he=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(he)),he})).toPromise()}initImplicitFlowInPopup(D){return this.initLoginFlowInPopup(D)}initLoginFlowInPopup(D){return D=D||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(x=>new Promise((v,j)=>{let ue,Y=null;D.windowRef?D.windowRef&&!D.windowRef.closed&&(Y=D.windowRef,Y.location.href=x):Y=window.open(x,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(D));const Ee=G=>{this.tryLogin({customHashFragment:G,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{he(),v(!0)},ye=>{he(),j(ye)})};Y?ue=window.setInterval(()=>{(!Y||Y.closed)&&(he(),j(new OAuthErrorEvent("popup_closed",{})))},500):j(new OAuthErrorEvent("popup_blocked",{}));const he=()=>{window.clearInterval(ue),window.removeEventListener("storage",ce),window.removeEventListener("message",ve),null!==Y&&Y.close(),Y=null},ve=G=>{const ye=this.processMessageEventMessage(G);ye&&null!==ye?(window.removeEventListener("storage",ce),Ee(ye)):console.log("false event firing")},ce=G=>{"auth_hash"===G.key&&(window.removeEventListener("message",ve),Ee(G.newValue))};window.addEventListener("message",ve),window.addEventListener("storage",ce)}))}calculatePopupFeatures(D){const x=D.height||470,v=D.width||500,j=window.screenLeft+(window.outerWidth-v)/2;return`location=no,toolbar=no,width=${v},height=${x},top=${window.screenTop+(window.outerHeight-x)/2},left=${j}`}processMessageEventMessage(D){let x="#";if(this.silentRefreshMessagePrefix&&(x+=this.silentRefreshMessagePrefix),!D||!D.data||"string"!=typeof D.data)return;const v=D.data;return v.startsWith(x)?"#"+v.substr(x.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=D=>{const x=D.origin.toLowerCase(),v=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),v.startsWith(x)){switch(D.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",D)}else this.debug("sessionCheckEventListener","wrong origin",x,"expected",v,"event",D)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(D=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(D=>{this.debug("token refresh after session change worked")}).catch(D=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(D=>"silently_refreshed"===D.type||"silent_refresh_timeout"===D.type||"silent_refresh_error"===D.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(D=>{"silently_refreshed"!==D.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const D=this.document.getElementById(this.sessionCheckIFrameName);D&&this.document.body.removeChild(D);const x=this.document.createElement("iframe");x.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),x.setAttribute("src",this.sessionCheckIFrameUrl),x.style.display="none",this.document.body.appendChild(x),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const D=this.document.getElementById(this.sessionCheckIFrameName);D||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const x=this.getSessionState();x||this.stopSessionCheckTimer(),D.contentWindow.postMessage(this.clientId+" "+x,this.issuer)}createLoginUrl(D="",x="",v="",j=!1,Q={}){var Y=this;return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const ue=Y;let Ee;Ee=v||Y.redirectUri;const Fe=yield Y.createAndSaveNonce();if(D=D?Fe+Y.config.nonceStateSeparator+encodeURIComponent(D):Fe,!Y.requestAccessToken&&!Y.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");Y.responseType=Y.config.responseType?Y.config.responseType:Y.oidc&&Y.requestAccessToken?"id_token token":Y.oidc&&!Y.requestAccessToken?"id_token":"token";const he=ue.loginUrl.indexOf("?")>-1?"&":"?";let ve=ue.scope;Y.oidc&&!ve.match(/(^|\s)openid($|\s)/)&&(ve="openid "+ve);let ce=ue.loginUrl+he+"response_type="+encodeURIComponent(ue.responseType)+"&client_id="+encodeURIComponent(ue.clientId)+"&state="+encodeURIComponent(D)+"&redirect_uri="+encodeURIComponent(Ee)+"&scope="+encodeURIComponent(ve);if(Y.responseType.includes("code")&&!Y.disablePKCE){const[G,ye]=yield Y.createChallangeVerifierPairForPKCE();Y.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",ye):Y._storage.setItem("PKCE_verifier",ye),ce+="&code_challenge="+G,ce+="&code_challenge_method=S256"}x&&(ce+="&login_hint="+encodeURIComponent(x)),ue.resource&&(ce+="&resource="+encodeURIComponent(ue.resource)),ue.oidc&&(ce+="&nonce="+encodeURIComponent(Fe)),j&&(ce+="&prompt=none");for(const G of Object.keys(Q))ce+="&"+encodeURIComponent(G)+"="+encodeURIComponent(Q[G]);if(Y.customQueryParams)for(const G of Object.getOwnPropertyNames(Y.customQueryParams))ce+="&"+G+"="+encodeURIComponent(Y.customQueryParams[G]);return ce})()}initImplicitFlowInternal(D="",x=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let v={},j=null;"string"==typeof x?j=x:"object"==typeof x&&(v=x),this.createLoginUrl(D,j,null,!1,v).then(this.config.openUri).catch(Q=>{console.error("Error in initImplicitFlow",Q),this.inImplicitFlow=!1})}initImplicitFlow(D="",x=""){""!==this.loginUrl?this.initImplicitFlowInternal(D,x):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"discovery_document_loaded"===v.type)).subscribe(v=>this.initImplicitFlowInternal(D,x))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(D){const x=this;if(D.onTokenReceived){const v={idClaims:x.getIdentityClaims(),idToken:x.getIdToken(),accessToken:x.getAccessToken(),state:x.state};D.onTokenReceived(v)}}storeAccessTokenResponse(D,x,v,j,Q){if(this._storage.setItem("access_token",D),j&&!Array.isArray(j)?this._storage.setItem("granted_scopes",JSON.stringify(j.split(" "))):j&&Array.isArray(j)&&this._storage.setItem("granted_scopes",JSON.stringify(j)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),v){const Y=1e3*v,Ee=this.dateTimeService.new().getTime()+Y;this._storage.setItem("expires_at",""+Ee)}x&&this._storage.setItem("refresh_token",x),Q&&Q.forEach((Y,ue)=>{this._storage.setItem(ue,Y)})}tryLogin(D=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(D).then(x=>!0):this.tryLoginImplicitFlow(D)}parseQueryString(D){return D&&0!==D.length?("?"===D.charAt(0)&&(D=D.substr(1)),this.urlHelper.parseQueryString(D)):{}}tryLoginCodeFlow(D=null){var x=this;return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){const v=(D=D||{}).customHashFragment?D.customHashFragment.substring(1):window.location.search,j=x.getCodePartsFromUrl(v),Q=j.code,Y=j.state,ue=j.session_state;if(!D.preventClearHashAfterLogin){const he=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,he)}let[Ee,Fe]=x.parseState(Y);if(x.state=Fe,j.error){x.debug("error trying to login"),x.handleLoginError(D,j);const he=new OAuthErrorEvent("code_error",{},j);return x.eventsSubject.next(he),Promise.reject(he)}if(!D.disableNonceCheck){if(!Ee)return x.saveRequestedRoute(),Promise.resolve();if(!D.disableOAuth2StateCheck&&!x.validateNonce(Ee)){const ve=new OAuthErrorEvent("invalid_nonce_in_state",null);return x.eventsSubject.next(ve),Promise.reject(ve)}return x.storeSessionState(ue),Q&&(yield x.getTokenFromCode(Q,D),x.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const D=this._storage.getItem("requested_route");D&&history.replaceState(null,"",window.location.origin+D)}getCodePartsFromUrl(D){return D&&0!==D.length?("?"===D.charAt(0)&&(D=D.substr(1)),this.urlHelper.parseQueryString(D)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(D,x){let v=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",D).set("redirect_uri",x.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let j;j=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),j?v=v.set("code_verifier",j):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(v,x)}fetchAndProcessToken(D,x){x=x||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let v=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const j=btoa(`${this.clientId}:${this.dummyClientSecret}`);v=v.set("Authorization","Basic "+j)}return this.useHttpBasicAuth||(D=D.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(D=D.set("client_secret",this.dummyClientSecret)),new Promise((j,Q)=>{if(this.customQueryParams)for(let Y of Object.getOwnPropertyNames(this.customQueryParams))D=D.set(Y,this.customQueryParams[Y]);this.http.post(this.tokenEndpoint,D,{headers:v}).subscribe(Y=>{this.debug("refresh tokenResponse",Y),this.storeAccessTokenResponse(Y.access_token,Y.refresh_token,Y.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Y.scope,this.extractRecognizedCustomParameters(Y)),this.oidc&&Y.id_token?this.processIdToken(Y.id_token,Y.access_token,x.disableNonceCheck).then(ue=>{this.storeIdToken(ue),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),j(Y)}).catch(ue=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",ue)),console.error("Error validating tokens"),console.error(ue),Q(ue)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),j(Y))},Y=>{console.error("Error getting token",Y),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",Y)),Q(Y)})})}tryLoginImplicitFlow(D=null){let x;x=(D=D||{}).customHashFragment?this.urlHelper.getHashFragmentParams(D.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",x);const v=x.state;let[j,Q]=this.parseState(v);if(this.state=Q,x.error){this.debug("error trying to login"),this.handleLoginError(D,x);const he=new OAuthErrorEvent("token_error",{},x);return this.eventsSubject.next(he),Promise.reject(he)}const Y=x.access_token,ue=x.id_token,Ee=x.session_state,Fe=x.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!Y||this.requestAccessToken&&!D.disableOAuth2StateCheck&&!v||this.oidc&&!ue)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!Ee&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!D.disableNonceCheck&&!this.validateNonce(j)){const ve=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(ve),Promise.reject(ve)}return this.requestAccessToken&&this.storeAccessTokenResponse(Y,null,x.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Fe),this.oidc?this.processIdToken(ue,Y,D.disableNonceCheck).then(he=>D.validationHandler?D.validationHandler({accessToken:Y,idClaims:he.idTokenClaims,idToken:he.idToken,state:v}).then(ve=>he):he).then(he=>(this.storeIdToken(he),this.storeSessionState(Ee),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(D),this.inImplicitFlow=!1,!0)).catch(he=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",he)),this.logger.error("Error validating tokens"),this.logger.error(he),Promise.reject(he))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(D),Promise.resolve(!0))}parseState(D){let x=D,v="";if(D){const j=D.indexOf(this.config.nonceStateSeparator);j>-1&&(x=D.substr(0,j),v=D.substr(j+this.config.nonceStateSeparator.length))}return[x,v]}validateNonce(D){let x;return x=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),x===D||(console.error("Validating access_token failed, wrong state/nonce.",x,D),!1)}storeIdToken(D){this._storage.setItem("id_token",D.idToken),this._storage.setItem("id_token_claims_obj",D.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+D.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(D){this._storage.setItem("session_state",D)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(D,x){D.onLoginError&&D.onLoginError(x),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(D=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:D}processIdToken(D,x,v=!1){const j=D.split("."),Y=b64DecodeUnicode(this.padBase64(j[0])),ue=JSON.parse(Y),Fe=b64DecodeUnicode(this.padBase64(j[1])),he=JSON.parse(Fe);let ve;if(ve=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(he.aud)){if(he.aud.every(_e=>_e!==this.clientId)){const _e="Wrong audience: "+he.aud.join(",");return this.logger.warn(_e),Promise.reject(_e)}}else if(he.aud!==this.clientId){const _e="Wrong audience: "+he.aud;return this.logger.warn(_e),Promise.reject(_e)}if(!he.sub){const _e="No sub claim in id_token";return this.logger.warn(_e),Promise.reject(_e)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==he.sub){const _e=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${he.sub}`;return this.logger.warn(_e),Promise.reject(_e)}if(!he.iat){const _e="No iat claim in id_token";return this.logger.warn(_e),Promise.reject(_e)}if(!this.skipIssuerCheck&&he.iss!==this.issuer){const _e="Wrong issuer: "+he.iss;return this.logger.warn(_e),Promise.reject(_e)}if(!v&&he.nonce!==ve){const _e="Wrong nonce: "+he.nonce;return this.logger.warn(_e),Promise.reject(_e)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!he.at_hash){const _e="An at_hash is needed!";return this.logger.warn(_e),Promise.reject(_e)}const ce=this.dateTimeService.now(),G=1e3*he.iat,ye=1e3*he.exp,fe=this.getClockSkewInMsec();if(G-fe>=ce||ye+fe<=ce){const _e="Token has expired";return console.error(_e),console.error({now:ce,issuedAtMSec:G,expiresAtMSec:ye}),Promise.reject(_e)}const Ne={accessToken:x,idToken:D,jwks:this.jwks,idTokenClaims:he,idTokenHeader:ue,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Ne).then(_e=>({idToken:D,idTokenClaims:he,idTokenClaimsJson:Fe,idTokenHeader:ue,idTokenHeaderJson:Y,idTokenExpiresAt:ye})):this.checkAtHash(Ne).then(_e=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!_e){const We="Wrong at_hash";return this.logger.warn(We),Promise.reject(We)}return this.checkSignature(Ne).then(We=>{const je={idToken:D,idTokenClaims:he,idTokenClaimsJson:Fe,idTokenHeader:ue,idTokenHeaderJson:Y,idTokenExpiresAt:ye};return this.disableAtHashCheck?je:this.checkAtHash(Ne).then(at=>{if(this.requestAccessToken&&!at){const Te="Wrong at_hash";return this.logger.warn(Te),Promise.reject(Te)}return je})})})}getIdentityClaims(){const D=this._storage.getItem("id_token_claims_obj");return D?JSON.parse(D):null}getGrantedScopes(){const D=this._storage.getItem("granted_scopes");return D?JSON.parse(D):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(D){for(;D.length%4!=0;)D+="=";return D}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const D=this._storage.getItem("expires_at"),x=this.dateTimeService.new();return!(D&&parseInt(D,10)<x.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const D=this._storage.getItem("id_token_expires_at"),x=this.dateTimeService.new();return!(D&&parseInt(D,10)<x.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(D){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(D)>=0&&null!==this._storage.getItem(D)?JSON.parse(this._storage.getItem(D)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(D={},x=""){let v=!1;"boolean"==typeof D&&(v=D,D={});const j=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(Y=>this._storage.removeItem(Y)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||v||!j&&!this.postLogoutRedirectUri)return;let Q;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)Q=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(j)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let Y=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});j&&(Y=Y.set("id_token_hint",j));const ue=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";ue&&(Y=Y.set("post_logout_redirect_uri",ue),x&&(Y=Y.set("state",x)));for(let Ee in D)Y=Y.set(Ee,D[Ee]);Q=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+Y.toString()}this.config.openUri(Q)}createAndSaveNonce(){const D=this;return this.createNonce().then(function(x){return D.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",x):D._storage.setItem("nonce",x),x})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const D=this.document.getElementById(this.silentRefreshIFrameName);D&&D.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const x=this.document.getElementById(this.sessionCheckIFrameName);x&&x.remove()}createNonce(){return new Promise(D=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let v=45,j="";const Q=typeof self>"u"?null:self.crypto||self.msCrypto;if(Q){let Y=new Uint8Array(v);Q.getRandomValues(Y),Y.map||(Y.map=Array.prototype.map),Y=Y.map(ue=>x.charCodeAt(ue%x.length)),j=String.fromCharCode.apply(null,Y)}else for(;0<v--;)j+=x[Math.random()*x.length|0];D(base64UrlEncode(j))})}checkAtHash(D){var x=this;return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){return x.tokenValidationHandler?x.tokenValidationHandler.validateAtHash(D):(x.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(D){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(D):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(D="",x={}){return"code"===this.responseType?this.initCodeFlow(D,x):this.initImplicitFlow(D,x)}initCodeFlow(D="",x={}){""!==this.loginUrl?this.initCodeFlowInternal(D,x):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(v=>"discovery_document_loaded"===v.type)).subscribe(v=>this.initCodeFlowInternal(D,x))}initCodeFlowInternal(D="",x={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let v={},j=null;"string"==typeof x?j=x:"object"==typeof x&&(v=x),this.createLoginUrl(D,j,null,!1,v).then(this.config.openUri).catch(Q=>{console.error("Error in initAuthorizationCodeFlow"),console.error(Q)})}createChallangeVerifierPairForPKCE(){var D=this;return(0,C_Users_zusibell_jimenez_Development_proof_of_concept_remote_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)(function*(){if(!D.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const x=yield D.createNonce();return[base64UrlEncode(yield D.crypto.calcHash(x,"sha-256")),x]})()}extractRecognizedCustomParameters(D){let x=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(v=>{D[v]&&x.set(v,JSON.stringify(D[v]))}),x}revokeTokenAndLogout(D={},x=!1){let v=this.revocationEndpoint,j=this.getAccessToken(),Q=this.getRefreshToken();if(!j)return;let Y=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),ue=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Ee=btoa(`${this.clientId}:${this.dummyClientSecret}`);ue=ue.set("Authorization","Basic "+Ee)}if(this.useHttpBasicAuth||(Y=Y.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Y=Y.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const Ee of Object.getOwnPropertyNames(this.customQueryParams))Y=Y.set(Ee,this.customQueryParams[Ee]);return new Promise((Ee,Fe)=>{let he,ve;if(j){let ce=Y.set("token",j).set("token_type_hint","access_token");he=this.http.post(v,ce,{headers:ue})}else he=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(Q){let ce=Y.set("token",Q).set("token_type_hint","refresh_token");ve=this.http.post(v,ce,{headers:ue})}else ve=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);x&&(he=he.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(ce=>0===ce.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(ce))),ve=ve.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(ce=>0===ce.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(ce)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.a)([he,ve]).subscribe(ce=>{this.logOut(D),Ee(ce),this.logger.info("Token successfully revoked")},ce=>{this.logger.error("Error revoking token",ce),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",ce)),Fe(ce)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return ie.\u0275fac=function(D){return new(D||ie)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(oe){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(oe)}}let DefaultOAuthInterceptor=(()=>{class ie{constructor(D,x,v){this.oAuthService=D,this.errorHandler=x,this.moduleConfig=v}checkUrl(D){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(D):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(x=>D.toLowerCase().startsWith(x.toLowerCase()))}intercept(D,x){const v=D.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(v)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(Q=>!!Q)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(Q=>"token_received"===Q.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(Q=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(Q=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.z)(Q=>{if(Q){const ue=D.headers.set("Authorization","Bearer "+Q);D=D.clone({headers:ue})}return x.handle(D).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(Y=>this.errorHandler.handleError(Y)))})):x.handle(D).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(Q=>this.errorHandler.handleError(Q))):x.handle(D)}}return ie.\u0275fac=function(D){return new(D||ie)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class NullValidationHandler{validateSignature(oe){return Promise.resolve(null)}validateAtHash(oe){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return typeof sessionStorage<"u"?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class ie{static forRoot(D=null,x=NullValidationHandler){return{ngModule:ie,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:x},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:D},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return ie.\u0275fac=function(D){return new(D||ie)},ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:ie}),ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),ie})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")},5861:(ie,oe,D)=>{"use strict";function x(j,Q,Y,ue,Ee,Fe,he){try{var ve=j[Fe](he),ce=ve.value}catch(G){return void Y(G)}ve.done?Q(ce):Promise.resolve(ce).then(ue,Ee)}function v(j){return function(){var Q=this,Y=arguments;return new Promise(function(ue,Ee){var Fe=j.apply(Q,Y);function he(ce){x(Fe,ue,Ee,he,ve,"next",ce)}function ve(ce){x(Fe,ue,Ee,he,ve,"throw",ce)}he(void 0)})}}D.d(oe,{Z:()=>v})}},ie=>{ie(ie.s=8923)}]);